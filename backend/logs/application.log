2025-12-26T09:17:02.657+09:00  INFO 1756 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 1756 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-26T09:17:02.675+09:00 DEBUG 1756 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-26T09:17:02.685+09:00  INFO 1756 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-26T09:17:05.524+09:00 DEBUG 1756 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-26T09:17:05.526+09:00 DEBUG 1756 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-26T09:17:05.928+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-26T09:17:05.930+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-26T09:17:05.934+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-26T09:17:05.936+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-26T09:17:05.958+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-26T09:17:05.960+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-26T09:17:05.963+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-26T09:17:05.974+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-26T09:17:05.981+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-26T09:17:05.986+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-26T09:17:05.990+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-26T09:17:05.993+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-26T09:17:05.995+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-26T09:17:05.997+09:00 DEBUG 1756 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-26T09:17:07.187+09:00  INFO 1756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T09:17:07.248+09:00  INFO 1756 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T09:17:07.252+09:00  INFO 1756 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-26T09:17:07.425+09:00  INFO 1756 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T09:17:07.427+09:00  INFO 1756 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4550 ms
2025-12-26T09:17:07.539+09:00 DEBUG 1756 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-26T09:17:07.540+09:00 DEBUG 1756 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-26T09:17:08.131+09:00 DEBUG 1756 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-26T09:17:08.405+09:00 DEBUG 1756 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-26T09:17:08.447+09:00 DEBUG 1756 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-26T09:17:08.490+09:00 DEBUG 1756 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-26T09:17:08.513+09:00 DEBUG 1756 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-26T09:17:08.522+09:00 DEBUG 1756 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-26T09:17:08.566+09:00 DEBUG 1756 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-26T09:17:09.548+09:00 DEBUG 1756 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 86 mappings in 'requestMappingHandlerMapping'
2025-12-26T09:17:09.753+09:00 DEBUG 1756 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T09:17:09.793+09:00  WARN 1756 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 0db70a09-f7dd-42cb-abee-9b1c86c760cd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-26T09:17:09.844+09:00  INFO 1756 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-26T09:17:10.187+09:00 DEBUG 1756 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T09:17:10.335+09:00 DEBUG 1756 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T09:17:10.450+09:00 DEBUG 1756 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T09:17:10.469+09:00 DEBUG 1756 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-26T09:17:10.825+09:00  INFO 1756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T09:17:10.857+09:00  INFO 1756 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 9.67 seconds (process running for 10.431)
2025-12-26T09:17:30.483+09:00  INFO 1756 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T09:17:30.502+09:00  INFO 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T09:17:30.521+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T09:17:30.547+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T09:17:30.557+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T09:17:30.559+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6728370a
2025-12-26T09:17:30.561+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4ae49387
2025-12-26T09:17:30.562+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T09:17:30.563+09:00  INFO 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 42 ms
2025-12-26T09:17:30.610+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-26T09:17:30.668+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T09:17:30.676+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T09:17:30.684+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T09:17:30.692+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T09:17:30.695+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T09:17:30.829+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_exec, password=1234)]
2025-12-26T09:17:30.844+09:00  INFO 1756 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: test_exec
2025-12-26T09:17:30.862+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:30.970+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@702f07fa] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:31.050+09:00  INFO 1756 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T09:17:31.505+09:00  INFO 1756 --- [http-nio-8080-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e8890af
2025-12-26T09:17:31.510+09:00  INFO 1756 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T09:17:31.528+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2043830964 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:31.548+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T09:17:31.582+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_exec(String)
2025-12-26T09:17:31.619+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 0
2025-12-26T09:17:31.636+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@702f07fa]
2025-12-26T09:17:31.644+09:00  WARN 1756 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 실패 - username: test_exec
2025-12-26T09:17:31.647+09:00  WARN 1756 --- [http-nio-8080-exec-1] SECURITY                                 : LOGIN_FAILURE username=test_exec
2025-12-26T09:17:31.710+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:31.736+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=아이디 또는 비밀번호가 틀렸습니다., data=null)]
2025-12-26T09:17:31.777+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:44.889+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T09:17:44.894+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T09:17:44.895+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T09:17:44.896+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T09:17:44.896+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T09:17:44.900+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user4, password=1234)]
2025-12-26T09:17:44.910+09:00  INFO 1756 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user4
2025-12-26T09:17:44.920+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:44.924+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75213635] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:44.933+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2144951621 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:44.938+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T09:17:44.944+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-26T09:17:44.982+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T09:17:44.997+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75213635]
2025-12-26T09:17:45.244+09:00  INFO 1756 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 5, role: ADMIN, companyId: 1
2025-12-26T09:17:45.246+09:00  INFO 1756 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=5 username=test_user4 role=ADMIN
2025-12-26T09:17:45.249+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:45.306+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=5, username=test_user4, password (truncated)...]
2025-12-26T09:17:45.322+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:46.135+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T09:17:46.162+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T09:17:46.183+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:17:46.185+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T09:17:46.185+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:46.186+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:17:46.187+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:46.209+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T09:17:46.260+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:17:46.260+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:17:46.261+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:46.307+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:17:46.308+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T09:17:46.310+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:17:46.311+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:17:46.321+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:17:46.360+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:17:46.360+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:17:46.329+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T09:17:46.345+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:17:46.359+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:46.369+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:46.376+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T09:17:46.388+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T09:17:46.377+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:17:46.378+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:17:46.394+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:46.396+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:17:46.404+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:46.406+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:17:46.407+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4868d0ba] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:46.410+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:46.412+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:46.414+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:46.420+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24651238] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:46.421+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77565984] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:46.429+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f88afa0] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:46.446+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@876542168 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:46.460+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T09:17:46.462+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623849374 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:46.462+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137483664 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:46.470+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T09:17:46.475+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:17:46.477+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:17:46.484+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:17:46.485+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:17:46.517+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:17:46.517+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:17:46.521+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1273288945 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:46.521+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T09:17:46.523+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77565984]
2025-12-26T09:17:46.523+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f88afa0]
2025-12-26T09:17:46.524+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:46.526+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4868d0ba]
2025-12-26T09:17:46.528+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:46.529+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:46.539+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:46.543+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:17:46.544+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:46.545+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:17:46.551+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:46.554+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:46.558+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T09:17:46.568+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:46.628+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:17:46.629+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:46.643+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:17:46.651+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:17:46.655+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:17:46.656+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:46.661+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:17:46.665+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:17:46.670+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:17:46.670+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:17:46.670+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24651238]
2025-12-26T09:17:46.671+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:17:46.671+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:46.673+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:46.678+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:46.673+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:46.678+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac2ed76] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:46.678+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:46.680+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@483b3667] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:46.682+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@455730313 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:46.684+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d50862] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:46.694+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2064836776 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:46.693+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1190969616 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:46.693+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:46.696+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:17:46.696+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:17:46.708+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:46.711+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:17:46.723+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:17:46.751+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:46.752+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:17:46.758+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac2ed76]
2025-12-26T09:17:46.760+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:17:46.769+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d50862]
2025-12-26T09:17:46.772+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:46.777+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@483b3667]
2025-12-26T09:17:46.779+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:46.779+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a9c6eca] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:46.780+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:46.785+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:17:46.781+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:17:46.784+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@408259689 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:46.787+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:46.789+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:46.791+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:17:46.837+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:17:46.877+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:17:46.886+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a9c6eca]
2025-12-26T09:17:46.891+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:46.894+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6c1016] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:46.907+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1077818399 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:46.908+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:46.909+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:46.967+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:17:46.973+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6c1016]
2025-12-26T09:17:46.987+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:46.987+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@336e2e67] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:46.988+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@423652224 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:47.010+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:47.037+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:47.046+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:47.051+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@336e2e67]
2025-12-26T09:17:47.071+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:47.083+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41935b20] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:47.085+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@55335011 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:47.088+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:17:47.092+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:17:47.122+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:17:47.129+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41935b20]
2025-12-26T09:17:47.132+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:47.134+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361f965f] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:47.135+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1838055911 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:47.138+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:47.154+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:47.173+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:47.179+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361f965f]
2025-12-26T09:17:47.182+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:47.199+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:17:47.256+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:47.278+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:17:47.404+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:17:47.420+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:17:47.424+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:17:47.445+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:17:47.455+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:47.490+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3c9ea5] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:47.542+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1891956181 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:47.544+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:47.546+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:47.557+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:17:47.568+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3c9ea5]
2025-12-26T09:17:47.577+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:47.578+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5384c602] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:47.584+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1441368806 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:47.592+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:47.594+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:47.656+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:47.661+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5384c602]
2025-12-26T09:17:47.663+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:47.665+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@858bb6c] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:47.666+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1921457986 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:47.667+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:17:47.668+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:17:47.675+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:17:47.677+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@858bb6c]
2025-12-26T09:17:47.679+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:47.683+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26df8bfa] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:47.685+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1804715926 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:47.686+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:47.688+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:47.693+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:17:47.695+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26df8bfa]
2025-12-26T09:17:47.696+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:47.696+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db6d6d5] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:47.699+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@661394114 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:47.701+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:47.702+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:47.710+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:47.713+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db6d6d5]
2025-12-26T09:17:47.714+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:47.716+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a25c8d1] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:47.717+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1048821239 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:47.717+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:17:47.720+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:17:47.731+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:17:47.734+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a25c8d1]
2025-12-26T09:17:47.735+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:47.737+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7b307e] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:47.737+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1525417504 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:47.738+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:47.738+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:47.742+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:47.742+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7b307e]
2025-12-26T09:17:47.743+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:47.744+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:17:47.747+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:48.376+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T09:17:48.377+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T09:17:48.380+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:17:48.385+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T09:17:48.388+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:17:48.388+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:17:48.388+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:17:48.391+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:48.391+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a1ffc94] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:48.396+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295869658 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:48.397+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:48.403+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:48.409+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:48.410+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a1ffc94]
2025-12-26T09:17:48.412+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:48.420+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T09:17:48.427+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:48.441+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-26T09:17:48.443+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-26T09:17:48.449+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:17:48.453+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T09:17:48.454+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T09:17:48.462+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T09:17:48.466+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/2/applications
2025-12-26T09:17:48.471+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T09:17:48.470+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:17:48.472+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/2
2025-12-26T09:17:48.473+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T09:17:48.473+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:17:48.474+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T09:17:48.475+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:17:48.476+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:17:48.476+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T09:17:48.478+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:17:48.479+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:48.482+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:17:48.480+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:17:48.483+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34968648] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:48.485+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:48.485+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:48.488+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1072038477 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:48.488+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eff2203] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:48.490+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:48.492+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:48.493+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:48.494+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a2fe293] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:48.494+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:48.500+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1979410668 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:48.502+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@190814288 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:48.505+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:48.506+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:48.507+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:48.508+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34968648]
2025-12-26T09:17:48.509+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:48.510+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:48.510+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:48.511+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T09:17:48.513+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:48.520+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:48.523+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:48.525+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a2fe293]
2025-12-26T09:17:48.526+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eff2203]
2025-12-26T09:17:48.527+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:48.527+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:48.527+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efdb43b] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:48.528+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f3c953b] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:48.528+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1763123884 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:48.528+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@487799380 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:48.528+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:17:48.529+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:17:48.530+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T09:17:48.531+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T09:17:48.541+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T09:17:48.545+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T09:17:48.571+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efdb43b]
2025-12-26T09:17:48.594+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f3c953b]
2025-12-26T09:17:48.595+09:00  INFO 1756 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T09:17:48.596+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:48.599+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:48.604+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T09:17:48.607+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:17:48.610+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:48.614+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:48.627+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T09:17:48.629+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T09:17:48.649+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/2/applications
2025-12-26T09:17:48.650+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/2
2025-12-26T09:17:48.659+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T09:17:48.660+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T09:17:48.660+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T09:17:48.662+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T09:17:48.667+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:17:48.669+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:17:48.671+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:17:48.672+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:48.675+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:17:48.677+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:48.677+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:48.688+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:48.695+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa4b62] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:48.696+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba2d8c0] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:48.698+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814950666 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:48.705+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:48.708+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:48.712+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@634403190 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:48.719+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:48.721+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:48.730+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:48.738+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba2d8c0]
2025-12-26T09:17:48.740+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:48.743+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:48.744+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa4b62]
2025-12-26T09:17:48.744+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@342f34e3] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:48.745+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:48.745+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@969313918 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:48.746+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5553f0d4] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:48.747+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:17:48.753+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@953368652 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:48.756+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T09:17:48.757+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:17:48.759+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T09:17:48.763+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T09:17:48.773+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@342f34e3]
2025-12-26T09:17:48.774+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T09:17:48.775+09:00  INFO 1756 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T09:17:48.775+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5553f0d4]
2025-12-26T09:17:48.775+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:48.776+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:48.776+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:17:48.776+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T09:17:48.778+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:48.780+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:54.612+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:54.612+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:17:54.613+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:17:54.628+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:17:54.629+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:17:54.631+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:17:54.641+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:54.642+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:17:54.644+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:17:54.642+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:17:54.644+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:17:54.646+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:17:54.650+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:17:54.651+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:17:54.653+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.659+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f542851] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.658+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:17:54.664+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:54.659+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.666+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@95175457 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:54.669+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:54.667+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:54.667+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb95824] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.670+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:54.671+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.673+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ba9c1f] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.675+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139378207 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:54.676+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:17:54.676+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:17:54.678+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f542851]
2025-12-26T09:17:54.678+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2008173021 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:54.678+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:17:54.679+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.679+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:17:54.681+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e967314] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.685+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:17:54.685+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:17:54.686+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1906592914 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:54.686+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb95824]
2025-12-26T09:17:54.688+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:54.691+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:54.691+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:17:54.692+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:54.693+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:17:54.693+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ba9c1f]
2025-12-26T09:17:54.695+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:54.697+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:54.709+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:17:54.709+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:54.711+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:54.712+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:54.725+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:17:54.726+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e967314]
2025-12-26T09:17:54.728+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:54.729+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.729+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:17:54.733+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:17:54.739+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208132bf] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.740+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:17:54.743+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:17:54.761+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2102590312 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:54.762+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.769+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:17:54.769+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:17:54.769+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0c3b3c] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.770+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:17:54.773+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:17:54.774+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1784420452 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:54.775+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:17:54.776+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:17:54.777+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:54.778+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:17:54.780+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:54.785+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:17:54.796+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.801+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208132bf]
2025-12-26T09:17:54.803+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.802+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b294915] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.807+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d722144] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.807+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1775558847 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:54.808+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@617606815 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:54.808+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:17:54.809+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:54.809+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:17:54.810+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:17:54.812+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:54.822+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0c3b3c]
2025-12-26T09:17:54.824+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:54.828+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:17:54.831+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:54.837+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:17:54.839+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:17:54.845+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d722144]
2025-12-26T09:17:54.846+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b294915]
2025-12-26T09:17:54.847+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.853+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:54.854+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f084c04] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.859+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:17:54.860+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1936472224 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:54.861+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:54.861+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:54.863+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:54.873+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:54.875+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f084c04]
2025-12-26T09:17:54.879+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.880+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e84f0] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.884+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@755732625 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:54.884+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:17:54.885+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:17:54.889+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:17:54.889+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e84f0]
2025-12-26T09:17:54.890+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.891+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73aaeea1] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.892+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@121085216 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:54.892+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:54.893+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:54.899+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:54.908+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73aaeea1]
2025-12-26T09:17:54.908+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:54.909+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:17:54.910+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:54.923+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:17:54.936+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:17:54.941+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:17:54.943+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:17:54.945+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:17:54.953+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.954+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1386b73c] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.957+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@329439170 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:54.959+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:54.960+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:54.974+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:17:54.974+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1386b73c]
2025-12-26T09:17:54.975+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.975+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ede13b0] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.976+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147291648 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:54.976+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:54.977+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:54.980+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:54.982+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ede13b0]
2025-12-26T09:17:54.984+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.985+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b8de3f4] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.986+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@84945062 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:54.988+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:17:54.990+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:17:54.993+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:17:54.993+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b8de3f4]
2025-12-26T09:17:54.993+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:54.995+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1255e9] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:54.997+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2050264476 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:55.003+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:55.005+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:55.008+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:17:55.009+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1255e9]
2025-12-26T09:17:55.010+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:55.011+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6908f0fa] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:55.012+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@960896064 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:55.012+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:55.013+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:55.018+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:55.023+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6908f0fa]
2025-12-26T09:17:55.023+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:55.024+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@681af6ad] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:55.024+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1186677876 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:55.025+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:17:55.026+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:17:55.029+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:17:55.030+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@681af6ad]
2025-12-26T09:17:55.036+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:55.037+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a93169] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:55.038+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@171509487 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:55.038+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:55.039+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:55.042+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:55.044+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a93169]
2025-12-26T09:17:55.046+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:55.047+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:17:55.053+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:56.342+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T09:17:56.345+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T09:17:56.350+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/switch-company
2025-12-26T09:17:56.350+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T09:17:56.351+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T09:17:56.352+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T09:17:56.355+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=2, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T09:17:56.361+09:00  INFO 1756 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 2
2025-12-26T09:17:56.363+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:56.364+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5acac310] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:56.368+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@18005457 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:56.368+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:56.372+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:56.378+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:56.378+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5acac310]
2025-12-26T09:17:56.390+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:56.390+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b4603]
2025-12-26T09:17:56.392+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@265928282 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will be managed by Spring
2025-12-26T09:17:56.392+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:56.393+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:56.396+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:56.397+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b4603]
2025-12-26T09:17:56.399+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b4603] from current transaction
2025-12-26T09:17:56.402+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T09:17:56.403+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 2(Long), 5(Long)
2025-12-26T09:17:56.410+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T09:17:56.410+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b4603]
2025-12-26T09:17:56.411+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b4603] from current transaction
2025-12-26T09:17:56.412+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T09:17:56.413+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 2(Long), 5(Long)
2025-12-26T09:17:56.417+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T09:17:56.419+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b4603]
2025-12-26T09:17:56.420+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b4603]
2025-12-26T09:17:56.421+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b4603]
2025-12-26T09:17:56.422+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b4603]
2025-12-26T09:17:56.435+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:56.437+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd0953d] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:56.439+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1916987150 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:56.439+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:17:56.440+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:17:56.443+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:17:56.444+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd0953d]
2025-12-26T09:17:56.445+09:00  INFO 1756 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 2
2025-12-26T09:17:56.446+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:56.447+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T09:17:56.449+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:56.854+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:17:56.854+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:56.854+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:17:56.854+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T09:17:56.858+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T09:17:56.875+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:17:56.870+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T09:17:56.873+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T09:17:56.876+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies
2025-12-26T09:17:56.877+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:17:56.889+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:17:56.877+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:17:56.877+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:56.878+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T09:17:56.891+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:56.892+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:17:56.893+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:17:56.895+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T09:17:56.895+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d109265] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:56.896+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:17:56.906+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:17:56.907+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T09:17:56.909+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:56.910+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:56.911+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:56.912+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:56.912+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d2df4af] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:56.912+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@475fbab8] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:56.912+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:56.918+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@822820863 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:56.920+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2112746514 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:56.920+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be5d64a] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:56.920+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T09:17:56.925+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:56.928+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T09:17:56.929+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:56.930+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1170311444 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:56.939+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:17:56.940+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T09:17:56.940+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1123658278 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:56.940+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T09:17:56.941+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T09:17:56.942+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d109265]
2025-12-26T09:17:56.942+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:17:56.943+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@475fbab8]
2025-12-26T09:17:56.946+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:56.946+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T09:17:56.947+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:56.950+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a66a213] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:56.952+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T09:17:56.954+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@602014006 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:56.956+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:56.956+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:56.957+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:56.973+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:17:56.973+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T09:17:56.976+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d2df4af]
2025-12-26T09:17:56.979+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T09:17:56.979+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be5d64a]
2025-12-26T09:17:56.984+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:56.991+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a66a213]
2025-12-26T09:17:56.992+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:56.993+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:17:56.994+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:56.995+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T09:17:57.001+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:57.004+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T09:17:57.006+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:57.011+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:57.018+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:57.021+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:17:57.026+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T09:17:57.029+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T09:17:57.026+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:17:57.030+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:57.034+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:17:57.036+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:17:57.045+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:17:57.046+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:57.055+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@624cd39a] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:57.037+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T09:17:57.043+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:17:57.056+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2097594676 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:57.058+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:17:57.057+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:17:57.057+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:17:57.061+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T09:17:57.061+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:17:57.062+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:57.063+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:17:57.071+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:57.067+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:57.072+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d8c41c] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:57.073+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:57.073+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f4359c] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:57.073+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1999634532 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:57.074+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1747238486 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:57.074+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:57.075+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:17:57.075+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:57.076+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T09:17:57.139+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T09:17:57.140+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T09:17:57.140+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:17:57.178+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f4359c]
2025-12-26T09:17:57.178+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d8c41c]
2025-12-26T09:17:57.191+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:57.179+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@624cd39a]
2025-12-26T09:17:57.187+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:57.192+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ba72e3] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:57.194+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:57.202+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:17:57.203+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:57.200+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T09:17:57.201+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@866628620 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:57.205+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:57.207+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:57.262+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:57.292+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T09:17:57.302+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ba72e3]
2025-12-26T09:17:57.312+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:57.313+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T09:17:57.324+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:58.020+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:17:58.022+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies
2025-12-26T09:17:58.022+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:17:58.023+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:17:58.023+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:17:58.024+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:58.024+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef4540c] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:58.027+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348890630 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:58.027+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:58.033+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:58.039+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:58.042+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef4540c]
2025-12-26T09:17:58.043+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:58.044+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T09:17:58.046+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:58.054+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:17:58.057+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies
2025-12-26T09:17:58.063+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T09:17:58.060+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T09:17:58.073+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/company/2
2025-12-26T09:17:58.075+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T09:17:58.063+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:17:58.075+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies/2/applications
2025-12-26T09:17:58.077+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T09:17:58.077+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:17:58.077+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T09:17:58.078+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:17:58.078+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:17:58.079+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T09:17:58.079+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:58.079+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:58.082+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:17:58.088+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:58.088+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264ecd6b] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:58.089+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:17:58.090+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:58.091+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:17:58.094+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fad3837] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:58.096+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:58.096+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1499812286 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:58.097+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6da59f9c] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:58.102+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:58.103+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1917027944 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:58.104+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1568795787 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:58.105+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:58.105+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:58.105+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:58.109+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:58.110+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:58.114+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:58.121+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264ecd6b]
2025-12-26T09:17:58.124+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:58.126+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:58.126+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:58.127+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T09:17:58.128+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6da59f9c]
2025-12-26T09:17:58.129+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fad3837]
2025-12-26T09:17:58.130+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:58.132+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:58.133+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:58.137+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c7b5b14] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:58.136+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@597b241b] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:58.140+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@670423106 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:58.141+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@417536471 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:58.142+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:17:58.142+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:17:58.142+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T09:17:58.143+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T09:17:58.153+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T09:17:58.153+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T09:17:58.156+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@597b241b]
2025-12-26T09:17:58.157+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c7b5b14]
2025-12-26T09:17:58.159+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:58.160+09:00  INFO 1756 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T09:17:58.162+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T09:17:58.163+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:58.168+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:58.171+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:17:58.173+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:58.177+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T09:17:58.178+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T09:17:58.190+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies/2/applications
2025-12-26T09:17:58.191+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/company/2
2025-12-26T09:17:58.192+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T09:17:58.192+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T09:17:58.193+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T09:17:58.193+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T09:17:58.194+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:17:58.199+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:17:58.202+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:17:58.203+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:58.204+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:17:58.206+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:58.207+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:58.207+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:58.208+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db0ce44] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:58.208+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f9df118] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:58.209+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@816407266 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:58.213+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:58.214+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1083368063 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:58.219+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:58.219+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:17:58.220+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:17:58.222+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:58.223+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:17:58.223+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f9df118]
2025-12-26T09:17:58.224+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db0ce44]
2025-12-26T09:17:58.225+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:58.225+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:58.225+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0e7fcc] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:58.225+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d4c87f] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:58.226+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@485181028 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:58.227+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1225168974 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:17:58.227+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:17:58.227+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:17:58.228+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T09:17:58.229+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T09:17:58.235+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T09:17:58.237+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0e7fcc]
2025-12-26T09:17:58.238+09:00  INFO 1756 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T09:17:58.242+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T09:17:58.243+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:58.244+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d4c87f]
2025-12-26T09:17:58.245+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:17:58.246+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:58.249+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T09:17:58.250+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:58.253+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:59.577+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:59.577+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:17:59.578+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:17:59.579+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T09:17:59.581+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:17:59.579+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T09:17:59.585+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T09:17:59.588+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:17:59.586+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:17:59.589+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:17:59.587+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:59.598+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:17:59.589+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:17:59.596+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:59.599+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:17:59.601+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:17:59.601+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@165bd087] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:59.601+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:59.605+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f1dd1a1] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:59.601+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:59.607+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:59.609+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1790631902 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:59.609+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@269319399 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:59.610+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:59.611+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:59.611+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:17:59.612+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528b6501] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:59.612+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:59.613+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T09:17:59.620+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:17:59.620+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T09:17:59.620+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1731211012 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:17:59.620+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f1dd1a1]
2025-12-26T09:17:59.620+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@165bd087]
2025-12-26T09:17:59.620+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:17:59.621+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:59.622+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:59.622+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T09:17:59.622+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:17:59.623+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a296351] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:59.624+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:59.625+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@938822615 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:59.628+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:59.628+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T09:17:59.629+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:59.629+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:59.630+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528b6501]
2025-12-26T09:17:59.637+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:59.637+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T09:17:59.638+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T09:17:59.640+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:17:59.640+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T09:17:59.641+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:59.641+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:17:59.642+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a296351]
2025-12-26T09:17:59.643+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:17:59.644+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:59.645+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:59.646+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T09:17:59.646+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76809553] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:59.646+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:17:59.647+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:59.652+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@791916798 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:59.659+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:17:59.656+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T09:17:59.660+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T09:17:59.660+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:17:59.661+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:17:59.662+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:17:59.663+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:59.669+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:17:59.674+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:17:59.676+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T09:17:59.685+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:17:59.679+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:59.688+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:17:59.690+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f27230d] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:59.691+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:17:59.692+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@666982121 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:17:59.694+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:17:59.700+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76809553]
2025-12-26T09:17:59.705+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:59.706+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:17:59.695+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:59.696+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:17:59.707+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:59.709+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@189be113] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:59.710+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T09:17:59.718+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1246247713 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:59.719+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:59.721+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:59.724+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T09:17:59.726+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f27230d]
2025-12-26T09:17:59.728+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:59.728+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T09:17:59.729+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T09:17:59.729+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@189be113]
2025-12-26T09:17:59.731+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:17:59.735+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:17:59.736+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bb7c1bc] was not registered for synchronization because synchronization is not active
2025-12-26T09:17:59.737+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1281571488 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:17:59.738+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:17:59.738+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:17:59.741+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T09:17:59.741+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bb7c1bc]
2025-12-26T09:17:59.743+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:17:59.744+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T09:17:59.745+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:00.958+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T09:18:00.960+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/switch-company
2025-12-26T09:18:00.961+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T09:18:00.961+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T09:18:00.962+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T09:18:00.963+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=1, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T09:18:00.963+09:00  INFO 1756 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 1
2025-12-26T09:18:00.966+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:00.966+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278feae] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:00.969+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@34526516 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:00.970+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:18:00.972+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:18:00.979+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:18:00.979+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278feae]
2025-12-26T09:18:00.983+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:00.983+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43df95]
2025-12-26T09:18:00.985+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@811830437 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will be managed by Spring
2025-12-26T09:18:00.986+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:18:00.988+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:18:00.991+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:18:00.991+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43df95]
2025-12-26T09:18:00.993+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43df95] from current transaction
2025-12-26T09:18:00.993+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T09:18:00.994+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 1(Long), 5(Long)
2025-12-26T09:18:00.997+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T09:18:00.998+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43df95]
2025-12-26T09:18:00.999+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43df95] from current transaction
2025-12-26T09:18:01.000+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T09:18:01.000+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 1(Long), 5(Long)
2025-12-26T09:18:01.009+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T09:18:01.010+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43df95]
2025-12-26T09:18:01.010+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43df95]
2025-12-26T09:18:01.010+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43df95]
2025-12-26T09:18:01.010+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43df95]
2025-12-26T09:18:01.018+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.021+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc13b27] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.022+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1549692220 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:01.024+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:18:01.024+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:18:01.027+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:18:01.028+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc13b27]
2025-12-26T09:18:01.029+09:00  INFO 1756 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 1
2025-12-26T09:18:01.030+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:01.033+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T09:18:01.036+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:01.515+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:18:01.517+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:18:01.516+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:18:01.519+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T09:18:01.519+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:18:01.524+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T09:18:01.519+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:18:01.522+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:18:01.524+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:18:01.525+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T09:18:01.525+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:18:01.526+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:18:01.527+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:18:01.537+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:18:01.528+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T09:18:01.541+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T09:18:01.545+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.536+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:18:01.537+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:18:01.539+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.545+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d9d4cf8] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.552+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:18:01.554+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:18:01.555+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6203098a] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.557+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:18:01.558+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@630761011 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:18:01.559+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.562+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:18:01.563+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T09:18:01.563+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e050ee5] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.563+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.569+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T09:18:01.571+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f45a88] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.572+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295563311 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:18:01.573+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:18:01.574+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@851925942 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:01.575+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1370415101 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:18:01.575+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:18:01.575+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T09:18:01.576+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:18:01.576+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:18:01.577+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d9d4cf8]
2025-12-26T09:18:01.577+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:18:01.578+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:18:01.579+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:18:01.579+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:01.584+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6203098a]
2025-12-26T09:18:01.586+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T09:18:01.588+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:18:01.588+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:18:01.588+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.589+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:01.589+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f45a88]
2025-12-26T09:18:01.589+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e050ee5]
2025-12-26T09:18:01.590+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56420bd3] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.591+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:01.592+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:01.593+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@542870347 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:18:01.594+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:18:01.594+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:18:01.595+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:18:01.596+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:01.602+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:01.603+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:18:01.609+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:18:01.609+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:18:01.611+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:18:01.621+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:18:01.624+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:18:01.625+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:18:01.625+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56420bd3]
2025-12-26T09:18:01.626+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:18:01.626+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:18:01.627+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.627+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:18:01.627+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:18:01.627+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a4560eb] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.628+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:18:01.628+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:18:01.629+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@105278574 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:18:01.629+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:18:01.629+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.629+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:18:01.633+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.634+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:18:01.634+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b6080ca] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.634+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130bc0ed] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.635+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2061648156 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:01.636+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1724240831 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:18:01.637+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:18:01.637+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:18:01.638+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:18:01.638+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:18:01.638+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:18:01.639+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a4560eb]
2025-12-26T09:18:01.640+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.641+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e3bbe8] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.641+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:18:01.641+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:18:01.641+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1085328135 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:18:01.641+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130bc0ed]
2025-12-26T09:18:01.642+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b6080ca]
2025-12-26T09:18:01.642+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:18:01.643+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:01.643+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:01.644+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:18:01.644+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:18:01.644+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:18:01.645+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:01.645+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:01.652+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:18:01.653+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e3bbe8]
2025-12-26T09:18:01.653+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.653+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c4343e6] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.654+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1849872879 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:18:01.654+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:18:01.655+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:18:01.658+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:18:01.659+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c4343e6]
2025-12-26T09:18:01.659+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.660+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24565530] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.661+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@571239983 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:18:01.661+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:18:01.662+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:18:01.665+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:18:01.667+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24565530]
2025-12-26T09:18:01.668+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.668+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@426ae592] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.669+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1417922362 wrapping com.mysql.cj.jdbc.ConnectionImpl@da3e996] will not be managed by Spring
2025-12-26T09:18:01.669+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:18:01.670+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:18:01.672+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:18:01.672+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@426ae592]
2025-12-26T09:18:01.674+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:01.674+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:18:01.675+09:00 DEBUG 1756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:01.677+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:18:01.690+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:18:01.693+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:18:01.695+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:18:01.695+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:18:01.696+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.700+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@681d77d8] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.701+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@440749445 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:01.702+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:18:01.702+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:18:01.706+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:18:01.708+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@681d77d8]
2025-12-26T09:18:01.709+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.710+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2326d1ed] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.710+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@545702374 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:01.711+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:18:01.711+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:18:01.714+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:18:01.719+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2326d1ed]
2025-12-26T09:18:01.721+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.722+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@253a3954] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.723+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814099879 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:01.726+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:18:01.734+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:18:01.758+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:18:01.760+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@253a3954]
2025-12-26T09:18:01.760+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.761+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a22394c] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.763+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1042700741 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:01.774+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:18:01.776+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:18:01.781+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:18:01.784+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a22394c]
2025-12-26T09:18:01.786+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.788+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a470b9] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.790+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@135777240 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:01.791+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:18:01.791+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:18:01.794+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:18:01.794+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a470b9]
2025-12-26T09:18:01.796+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.796+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee0227b] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.797+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@783397030 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:01.799+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:18:01.801+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:18:01.807+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:18:01.807+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee0227b]
2025-12-26T09:18:01.808+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:01.808+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b82fe7] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:01.809+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1494496945 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:01.809+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:18:01.810+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:18:01.813+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:18:01.821+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b82fe7]
2025-12-26T09:18:01.824+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:01.824+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:18:01.827+09:00 DEBUG 1756 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:02.324+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:18:02.326+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T09:18:02.327+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:18:02.327+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:18:02.327+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:18:02.328+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:02.328+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6abc6cc7] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:02.330+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@833519295 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:18:02.332+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:18:02.334+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:18:02.337+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:18:02.337+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6abc6cc7]
2025-12-26T09:18:02.339+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:02.339+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T09:18:02.344+09:00 DEBUG 1756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:02.357+09:00 DEBUG 1756 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T09:18:02.357+09:00 DEBUG 1756 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T09:18:02.360+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:18:02.367+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T09:18:02.368+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:18:02.369+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T09:18:02.373+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T09:18:02.374+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T09:18:02.375+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:18:02.377+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T09:18:02.378+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:18:02.378+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:18:02.379+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T09:18:02.379+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:18:02.379+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:18:02.379+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:18:02.382+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:18:02.386+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:02.386+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:18:02.388+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:18:02.388+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@687990fb] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:02.389+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:18:02.390+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:18:02.390+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@369775637 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:18:02.391+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:02.391+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:02.392+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:18:02.392+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35eab4f5] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:02.393+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:18:02.392+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@566a7386] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:02.397+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@19849134 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:18:02.397+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@919963164 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:02.399+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:18:02.399+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:18:02.401+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:18:02.402+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@687990fb]
2025-12-26T09:18:02.403+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:18:02.404+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:18:02.404+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:02.405+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T09:18:02.407+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:18:02.407+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:18:02.408+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@566a7386]
2025-12-26T09:18:02.408+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35eab4f5]
2025-12-26T09:18:02.409+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:02.409+09:00 DEBUG 1756 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:02.409+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:02.410+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22436e9e] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:02.410+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac494a1] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:02.411+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@663028087 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:02.411+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1225941267 wrapping com.mysql.cj.jdbc.ConnectionImpl@3dac9852] will not be managed by Spring
2025-12-26T09:18:02.412+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:18:02.414+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:18:02.412+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:18:02.418+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T09:18:02.422+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:18:02.424+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22436e9e]
2025-12-26T09:18:02.424+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T09:18:02.424+09:00  INFO 1756 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:18:02.424+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac494a1]
2025-12-26T09:18:02.424+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:02.425+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:02.425+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:18:02.426+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:18:02.428+09:00 DEBUG 1756 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:02.428+09:00 DEBUG 1756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:02.434+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:18:02.435+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T09:18:02.437+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T09:18:02.438+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T09:18:02.438+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:18:02.438+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T09:18:02.439+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:18:02.439+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T09:18:02.440+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:18:02.440+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:18:02.440+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:18:02.441+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:18:02.442+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:18:02.443+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:18:02.443+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:02.444+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:02.444+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12b6e211] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:02.445+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58dd7a0] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:02.445+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610040322 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:18:02.446+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1243902219 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:02.448+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:18:02.448+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:18:02.456+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:18:02.457+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:18:02.462+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:18:02.463+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:18:02.468+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12b6e211]
2025-12-26T09:18:02.468+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:02.470+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b13ee00] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:02.467+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58dd7a0]
2025-12-26T09:18:02.471+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1846557465 wrapping com.mysql.cj.jdbc.ConnectionImpl@5302cd2c] will not be managed by Spring
2025-12-26T09:18:02.472+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:18:02.473+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:18:02.473+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6586e6f4] was not registered for synchronization because synchronization is not active
2025-12-26T09:18:02.473+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:18:02.474+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@240983347 wrapping com.mysql.cj.jdbc.ConnectionImpl@6e8890af] will not be managed by Spring
2025-12-26T09:18:02.477+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:18:02.482+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:18:02.488+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T09:18:02.488+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b13ee00]
2025-12-26T09:18:02.489+09:00  INFO 1756 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:18:02.491+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:02.492+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T09:18:02.492+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:18:02.494+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6586e6f4]
2025-12-26T09:18:02.497+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:18:02.497+09:00 DEBUG 1756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:18:02.500+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:18:02.501+09:00 DEBUG 1756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:44:46.068+09:00  INFO 23784 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 23784 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-26T09:44:46.086+09:00 DEBUG 23784 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-26T09:44:46.095+09:00  INFO 23784 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-26T09:44:48.218+09:00 DEBUG 23784 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-26T09:44:48.219+09:00 DEBUG 23784 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-26T09:44:48.643+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-26T09:44:48.644+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-26T09:44:48.644+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-26T09:44:48.645+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-26T09:44:48.645+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-26T09:44:48.646+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-26T09:44:48.646+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-26T09:44:48.648+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-26T09:44:48.651+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-26T09:44:48.654+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-26T09:44:48.666+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-26T09:44:48.673+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-26T09:44:48.676+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-26T09:44:48.679+09:00 DEBUG 23784 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-26T09:44:49.542+09:00  INFO 23784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T09:44:49.580+09:00  INFO 23784 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T09:44:49.599+09:00  INFO 23784 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-26T09:44:49.847+09:00  INFO 23784 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T09:44:49.848+09:00  INFO 23784 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3511 ms
2025-12-26T09:44:50.070+09:00 DEBUG 23784 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-26T09:44:50.086+09:00 DEBUG 23784 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-26T09:44:51.264+09:00 DEBUG 23784 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-26T09:44:51.382+09:00 DEBUG 23784 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-26T09:44:51.408+09:00 DEBUG 23784 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-26T09:44:51.454+09:00 DEBUG 23784 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-26T09:44:51.477+09:00 DEBUG 23784 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-26T09:44:51.506+09:00 DEBUG 23784 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-26T09:44:51.568+09:00 DEBUG 23784 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-26T09:44:52.234+09:00 DEBUG 23784 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 88 mappings in 'requestMappingHandlerMapping'
2025-12-26T09:44:52.401+09:00 DEBUG 23784 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T09:44:52.447+09:00  WARN 23784 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: e0322aaa-f47e-4de1-af13-f745c6ca1084

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-26T09:44:52.482+09:00  INFO 23784 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-26T09:44:52.693+09:00 DEBUG 23784 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T09:44:52.856+09:00 DEBUG 23784 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T09:44:53.033+09:00 DEBUG 23784 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T09:44:53.048+09:00 DEBUG 23784 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-26T09:44:53.410+09:00  INFO 23784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T09:44:53.435+09:00  INFO 23784 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.604 seconds (process running for 9.363)
2025-12-26T09:44:58.216+09:00  INFO 23784 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T09:44:58.217+09:00  INFO 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T09:44:58.219+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T09:44:58.221+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T09:44:58.235+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T09:44:58.241+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@280484c7
2025-12-26T09:44:58.244+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@298263fa
2025-12-26T09:44:58.247+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T09:44:58.252+09:00  INFO 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 33 ms
2025-12-26T09:44:58.326+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-26T09:44:58.392+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-26T09:44:58.596+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/logout
2025-12-26T09:44:58.605+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-26T09:44:58.611+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-26T09:44:58.617+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-26T09:44:58.719+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-26T09:44:58.730+09:00  INFO 23784 --- [http-nio-8080-exec-2] SECURITY                                 : LOGOUT userId=5
2025-12-26T09:44:58.764+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:44:58.769+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-26T09:44:58.805+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:02.322+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T09:45:02.327+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T09:45:02.334+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T09:45:02.335+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T09:45:02.338+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T09:45:02.344+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user4, password=1234)]
2025-12-26T09:45:02.347+09:00  INFO 23784 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user4
2025-12-26T09:45:02.358+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:02.365+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709e34f5] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:02.381+09:00  INFO 23784 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T09:45:02.734+09:00  INFO 23784 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20e90d06
2025-12-26T09:45:02.737+09:00  INFO 23784 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T09:45:02.751+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1878397524 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:02.766+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T09:45:02.816+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-26T09:45:02.857+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T09:45:02.869+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709e34f5]
2025-12-26T09:45:03.001+09:00  INFO 23784 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 5, role: ADMIN, companyId: 1
2025-12-26T09:45:03.002+09:00  INFO 23784 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=5 username=test_user4 role=ADMIN
2025-12-26T09:45:03.004+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:03.014+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=5, username=test_user4, password (truncated)...]
2025-12-26T09:45:03.030+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:03.520+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T09:45:03.538+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T09:45:03.551+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T09:45:03.553+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T09:45:03.559+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T09:45:03.561+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:45:03.563+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:45:03.563+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:45:03.584+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:45:03.566+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.577+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:45:03.585+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:45:03.586+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:45:03.586+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45cd1e37] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.587+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:45:03.588+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:45:03.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:45:03.594+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:45:03.596+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:45:03.594+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:45:03.597+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:45:03.598+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:45:03.599+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@893558711 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:03.611+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T09:45:03.601+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.619+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd6affd] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.602+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:03.613+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.619+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T09:45:03.633+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64cd485f] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.646+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:03.649+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.662+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f96a6e9] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.671+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@182688163 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:03.675+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T09:45:03.678+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@234631595 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:03.678+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:45:03.679+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45cd1e37]
2025-12-26T09:45:03.680+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:03.680+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1088517692 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:03.681+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:45:03.684+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:03.686+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:45:03.686+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:03.688+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:45:03.695+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:45:03.698+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T09:45:03.698+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:03.700+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:45:03.700+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f96a6e9]
2025-12-26T09:45:03.705+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:03.713+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd6affd]
2025-12-26T09:45:03.715+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64cd485f]
2025-12-26T09:45:03.716+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:03.721+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.721+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:03.724+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:45:03.725+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@483aada] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.726+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:45:03.732+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:03.737+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1736851199 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:03.747+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:45:03.750+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:03.763+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:03.767+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:45:03.770+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:45:03.787+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:45:03.783+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:45:03.787+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:45:03.788+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:45:03.790+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:45:03.791+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:45:03.791+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:45:03.792+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:03.795+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:45:03.796+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:03.796+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.797+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.797+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6187a85d] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.798+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9bc844] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.799+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1866488349 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:03.801+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@6043623 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:03.802+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:45:03.802+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:03.803+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:45:03.807+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:45:03.809+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@483aada]
2025-12-26T09:45:03.810+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:45:03.812+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.813+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a7cc1a] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.815+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:45:03.815+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:45:03.816+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9bc844]
2025-12-26T09:45:03.816+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6187a85d]
2025-12-26T09:45:03.817+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909308751 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:03.817+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:03.818+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:03.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:45:03.820+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:45:03.818+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:03.820+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:03.821+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:03.824+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:03.833+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:03.833+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a7cc1a]
2025-12-26T09:45:03.835+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.836+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f23712f] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.836+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1380957341 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:03.837+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:03.838+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:03.844+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:03.844+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f23712f]
2025-12-26T09:45:03.845+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.846+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@658c6d71] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.846+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217234389 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:03.847+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:03.848+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:45:03.850+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:03.851+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@658c6d71]
2025-12-26T09:45:03.853+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.853+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1878e61c] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.854+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@513406855 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:03.856+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:03.858+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:03.862+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:03.865+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1878e61c]
2025-12-26T09:45:03.867+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:03.867+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72811994] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:03.868+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@764828126 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:03.868+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:03.869+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:45:03.878+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:03.879+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72811994]
2025-12-26T09:45:03.882+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:03.909+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:45:03.932+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:03.944+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:45:03.954+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:45:03.961+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:45:03.966+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:45:03.999+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:45:04.000+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:04.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@462eef4b] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:04.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1223236094 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:04.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:04.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:04.008+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:04.008+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@462eef4b]
2025-12-26T09:45:04.010+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:04.010+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d413c5] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:04.011+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@951181571 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:04.012+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:04.013+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:45:04.016+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:04.016+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d413c5]
2025-12-26T09:45:04.017+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:04.017+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e75a14f] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:04.019+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1596677290 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:04.020+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:04.021+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:04.026+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:04.029+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e75a14f]
2025-12-26T09:45:04.030+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:04.030+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f92000a] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:04.031+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1050111201 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:04.031+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:04.032+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:04.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:04.036+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f92000a]
2025-12-26T09:45:04.037+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:04.038+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1126ff17] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:04.038+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1041969001 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:04.040+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:04.040+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:45:04.044+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:04.044+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1126ff17]
2025-12-26T09:45:04.046+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:04.046+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a710d3e] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:04.047+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@875612571 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:04.049+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:04.050+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:04.053+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:04.053+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a710d3e]
2025-12-26T09:45:04.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:04.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56dbdfd3] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:04.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@607203531 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:04.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:04.057+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:45:04.060+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:04.061+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56dbdfd3]
2025-12-26T09:45:04.062+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:04.064+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:45:04.066+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:05.759+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:45:05.762+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T09:45:05.763+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:45:05.764+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:45:05.764+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:45:05.766+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:05.767+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ade3dd] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:05.770+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1616809101 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:05.770+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:05.773+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:45:05.783+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:05.785+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ade3dd]
2025-12-26T09:45:05.786+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:05.797+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T09:45:05.801+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:05.808+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:45:05.814+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T09:45:05.820+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:45:05.820+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T09:45:05.821+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:45:05.832+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T09:45:05.832+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T09:45:05.847+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:45:05.848+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:45:05.852+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:45:05.850+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T09:45:05.862+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T09:45:05.852+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:45:05.858+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:45:05.863+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:45:05.866+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:05.864+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:05.866+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:45:05.870+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:05.871+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5184a800] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:05.883+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:45:05.883+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:05.884+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1934434990 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:05.884+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:05.885+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f720c22] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:05.886+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:05.886+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c997205] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:05.894+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:45:05.898+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@503752862 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:05.898+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2116758475 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:05.900+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:05.901+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:05.903+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:45:05.905+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:05.913+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:45:05.915+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5184a800]
2025-12-26T09:45:05.918+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:05.920+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T09:45:05.932+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:05.935+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:05.941+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:05.947+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f720c22]
2025-12-26T09:45:05.948+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c997205]
2025-12-26T09:45:05.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:05.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:05.954+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28c59b94] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:05.953+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@729613cc] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:05.965+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1717967327 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:05.967+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1430526758 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:05.968+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:45:05.968+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:45:05.972+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T09:45:05.981+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:45:05.988+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T09:45:05.990+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:45:05.997+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28c59b94]
2025-12-26T09:45:05.998+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@729613cc]
2025-12-26T09:45:05.998+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:05.999+09:00  INFO 23784 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:45:06.000+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:45:06.000+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:06.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:06.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:45:06.006+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:06.027+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T09:45:06.030+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:45:06.039+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T09:45:06.046+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T09:45:06.051+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T09:45:06.063+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:45:06.064+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T09:45:06.064+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:45:06.066+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:45:06.066+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:45:06.067+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:45:06.068+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:06.068+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:45:06.069+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:06.070+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:06.070+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:06.070+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b35cbc0] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:06.070+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a077578] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:06.071+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@123674497 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:06.078+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:06.079+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1274433063 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:06.079+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:45:06.079+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:06.081+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:45:06.082+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:06.085+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a077578]
2025-12-26T09:45:06.087+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:06.087+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:06.088+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b35cbc0]
2025-12-26T09:45:06.088+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@accf53] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:06.088+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:06.088+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1903281803 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:06.093+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2477d28e] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:06.093+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:45:06.094+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@67761762 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:06.095+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:45:06.095+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:45:06.099+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T09:45:06.104+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T09:45:06.105+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2477d28e]
2025-12-26T09:45:06.109+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:45:06.112+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:06.112+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@accf53]
2025-12-26T09:45:06.112+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:45:06.113+09:00  INFO 23784 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:45:06.113+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:06.114+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:06.114+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:45:06.121+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:09.342+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/1/company/1/approver?isApprover=false
2025-12-26T09:45:09.349+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/1/company/1/approver?isApprover=false
2025-12-26T09:45:09.354+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/1/company/1/approver
2025-12-26T09:45:09.364+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/1/company/1/approver?isApprover=false
2025-12-26T09:45:09.367+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/1/company/1/approver?isApprover=false", parameters={masked}
2025-12-26T09:45:09.371+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateApproverStatus(Long, Long, Boolean)
2025-12-26T09:45:09.375+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:09.384+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:09.460+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:09.462+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dc9c57]
2025-12-26T09:45:09.465+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@672747020 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will be managed by Spring
2025-12-26T09:45:09.468+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:09.470+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long)
2025-12-26T09:45:09.483+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 2
2025-12-26T09:45:09.485+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dc9c57]
2025-12-26T09:45:09.486+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dc9c57] from current transaction
2025-12-26T09:45:09.487+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.updateApproverStatus  : ==>  Preparing: UPDATE user_company_tb SET is_approver = ?, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-26T09:45:09.488+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.updateApproverStatus  : ==> Parameters: false(Boolean), 1(Long), 1(Long)
2025-12-26T09:45:09.501+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.updateApproverStatus  : <==    Updates: 1
2025-12-26T09:45:09.502+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dc9c57]
2025-12-26T09:45:09.503+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dc9c57]
2025-12-26T09:45:09.504+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dc9c57]
2025-12-26T09:45:09.505+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dc9c57]
2025-12-26T09:45:09.534+09:00  INFO 23784 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 결재자 지정 변경 - operatorId: 5, userId: 1, companyId: 1, isApprover: false
2025-12-26T09:45:09.570+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:09.572+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 지정이 해제되었습니다., data=null)]
2025-12-26T09:45:09.582+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:09.872+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:45:09.915+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T09:45:09.919+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:45:09.926+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:45:09.928+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:45:09.929+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:09.931+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:09.933+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:09.933+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750fa52] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:09.945+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1208170926 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:09.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:09.952+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:45:09.962+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:10.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750fa52]
2025-12-26T09:45:10.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:10.021+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6beba0e3] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:10.023+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554724075 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:10.024+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:45:10.025+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:45:10.033+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:45:10.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6beba0e3]
2025-12-26T09:45:10.036+09:00  INFO 23784 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:45:10.036+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:10.037+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:45:10.043+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:14.090+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/company/1/approver?isApprover=false
2025-12-26T09:45:14.096+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/4/company/1/approver?isApprover=false
2025-12-26T09:45:14.100+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/4/company/1/approver
2025-12-26T09:45:14.102+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/4/company/1/approver?isApprover=false
2025-12-26T09:45:14.114+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/4/company/1/approver?isApprover=false", parameters={masked}
2025-12-26T09:45:14.118+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateApproverStatus(Long, Long, Boolean)
2025-12-26T09:45:14.119+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:14.120+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:14.130+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:14.130+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7554becc]
2025-12-26T09:45:14.131+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1357984720 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will be managed by Spring
2025-12-26T09:45:14.132+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:14.133+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 4(Long)
2025-12-26T09:45:14.136+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 1
2025-12-26T09:45:14.139+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7554becc]
2025-12-26T09:45:14.146+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7554becc] from current transaction
2025-12-26T09:45:14.147+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateApproverStatus  : ==>  Preparing: UPDATE user_company_tb SET is_approver = ?, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-26T09:45:14.148+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateApproverStatus  : ==> Parameters: false(Boolean), 4(Long), 1(Long)
2025-12-26T09:45:14.195+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateApproverStatus  : <==    Updates: 1
2025-12-26T09:45:14.196+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7554becc]
2025-12-26T09:45:14.197+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7554becc]
2025-12-26T09:45:14.197+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7554becc]
2025-12-26T09:45:14.198+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7554becc]
2025-12-26T09:45:14.214+09:00  INFO 23784 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 결재자 지정 변경 - operatorId: 5, userId: 4, companyId: 1, isApprover: false
2025-12-26T09:45:14.215+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:14.216+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 지정이 해제되었습니다., data=null)]
2025-12-26T09:45:14.217+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:14.228+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:45:14.234+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T09:45:14.236+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:45:14.236+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:45:14.238+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:45:14.248+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:14.249+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:14.250+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:14.251+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111dd032] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:14.251+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1697492665 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:14.252+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:14.256+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:45:14.265+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:14.267+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111dd032]
2025-12-26T09:45:14.268+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:14.270+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d9c1762] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:14.271+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1384111779 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:14.274+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:45:14.276+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:45:14.279+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:45:14.280+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d9c1762]
2025-12-26T09:45:14.284+09:00  INFO 23784 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:45:14.286+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:14.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:45:14.291+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:16.514+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-26T09:45:16.535+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/logout
2025-12-26T09:45:16.536+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-26T09:45:16.542+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-26T09:45:16.542+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-26T09:45:16.545+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-26T09:45:16.549+09:00  INFO 23784 --- [http-nio-8080-exec-3] SECURITY                                 : LOGOUT userId=5
2025-12-26T09:45:16.553+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:16.554+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-26T09:45:16.558+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:19.625+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T09:45:19.627+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T09:45:19.627+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T09:45:19.628+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T09:45:19.629+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T09:45:19.630+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-26T09:45:19.632+09:00  INFO 23784 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-26T09:45:19.634+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:19.634+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36c9fa33] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:19.639+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2142876332 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:19.641+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T09:45:19.642+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-26T09:45:19.648+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T09:45:19.651+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36c9fa33]
2025-12-26T09:45:19.734+09:00  INFO 23784 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2025-12-26T09:45:19.734+09:00  INFO 23784 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-26T09:45:19.735+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:19.735+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-26T09:45:19.739+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:20.166+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-26T09:45:20.167+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-26T09:45:20.187+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T09:45:20.192+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:45:20.194+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:45:20.203+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-26T09:45:20.194+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:45:20.203+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-26T09:45:20.211+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T09:45:20.213+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T09:45:20.214+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T09:45:20.222+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.207+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-26T09:45:20.229+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:45:20.208+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:45:20.213+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-26T09:45:20.224+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7d5026] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.231+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:45:20.231+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:45:20.232+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-26T09:45:20.233+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:45:20.235+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:45:20.237+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:45:20.368+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:45:20.385+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@530185223 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:20.437+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:45:20.499+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:20.564+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.581+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-26T09:45:20.586+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T09:45:20.586+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:45:20.587+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:20.587+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ce3e63] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.588+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-26T09:45:20.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-26T09:45:20.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.592+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:45:20.593+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93676be] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.594+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb108c3] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.595+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.597+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cc50709] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.613+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2011985116 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:20.613+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@642522375 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:45:20.613+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@738319004 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:20.613+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1217277850 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:20.614+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T09:45:20.615+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:20.615+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:45:20.615+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:20.617+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:45:20.617+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7d5026]
2025-12-26T09:45:20.618+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:20.619+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:20.622+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T09:45:20.625+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:45:20.626+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:20.650+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:45:20.650+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:20.671+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T09:45:20.672+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cc50709]
2025-12-26T09:45:20.679+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:20.680+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ce3e63]
2025-12-26T09:45:20.682+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:20.684+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:20.687+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93676be]
2025-12-26T09:45:20.689+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.692+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8ede64] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.691+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:45:20.692+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:20.694+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@571248819 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:20.695+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:20.697+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:45:20.700+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-26T09:45:20.704+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:20.710+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-26T09:45:20.711+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb108c3]
2025-12-26T09:45:20.715+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:20.717+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T09:45:20.719+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:20.720+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:45:20.736+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:45:20.740+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-26T09:45:20.743+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:20.747+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-26T09:45:20.749+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:45:20.750+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.750+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:20.754+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8ede64]
2025-12-26T09:45:20.757+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.751+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:45:20.753+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5805e13e] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.761+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ebd9183] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.764+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-26T09:45:20.764+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@359647835 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:20.765+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905647054 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:20.765+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:45:20.766+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:45:20.767+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:20.769+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:20.767+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:45:20.769+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:20.775+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:45:20.778+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:20.781+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:20.782+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.782+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:45:20.786+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:20.786+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2e682] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.787+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5805e13e]
2025-12-26T09:45:20.788+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ebd9183]
2025-12-26T09:45:20.791+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@28296347 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:20.797+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:20.801+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.812+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5797078c] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.803+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:45:20.804+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:45:20.813+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@893691252 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:20.829+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:45:20.830+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:20.831+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:20.856+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:20.863+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:45:20.864+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2e682]
2025-12-26T09:45:20.866+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:20.868+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:45:20.869+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:20.871+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:20.876+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5797078c]
2025-12-26T09:45:20.878+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.879+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f89e866] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.880+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1615668604 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:20.883+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:20.884+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T09:45:20.902+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:20.913+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f89e866]
2025-12-26T09:45:20.918+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.925+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d68875e] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.927+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@232950861 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:20.930+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:20.933+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:20.937+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:20.937+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d68875e]
2025-12-26T09:45:20.941+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:20.942+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664567be] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:20.944+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1872645727 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:20.947+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:20.948+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T09:45:20.952+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:20.955+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664567be]
2025-12-26T09:45:20.959+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:20.969+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:45:20.971+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:20.986+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:45:20.991+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-26T09:45:20.993+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:45:21.007+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:45:21.008+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:45:21.009+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:21.036+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ecbd10c] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:21.065+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@670324800 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:21.078+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:21.084+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:21.093+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:21.097+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ecbd10c]
2025-12-26T09:45:21.098+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:21.100+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@574fae3c] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:21.101+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732003432 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:21.102+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:21.111+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T09:45:21.125+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:21.126+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@574fae3c]
2025-12-26T09:45:21.127+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:21.130+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b3e6a4] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:21.132+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@136811136 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:21.133+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:21.134+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:21.137+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:21.143+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b3e6a4]
2025-12-26T09:45:21.144+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:21.144+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@161dbc54] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:21.145+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@723975925 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:21.148+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:21.150+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:21.153+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:21.160+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@161dbc54]
2025-12-26T09:45:21.161+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:21.161+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19f312dc] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:21.162+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@144156339 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:21.163+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:21.164+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T09:45:21.166+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:21.167+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19f312dc]
2025-12-26T09:45:21.168+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:21.169+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ab4793] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:21.170+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1439685160 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:21.170+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:21.171+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:21.179+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:21.180+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ab4793]
2025-12-26T09:45:21.182+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:21.185+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1152159e] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:21.188+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@533417976 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:21.198+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:21.199+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T09:45:21.212+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:21.212+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1152159e]
2025-12-26T09:45:21.213+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:21.214+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:45:21.216+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:22.753+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:45:22.757+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-26T09:45:22.757+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:45:22.758+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:45:22.758+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:45:22.759+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:22.761+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2781d44c] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:22.764+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1980353211 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:22.766+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:22.769+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T09:45:22.780+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:22.780+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2781d44c]
2025-12-26T09:45:22.781+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:22.782+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-26T09:45:22.784+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:22.786+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:45:22.791+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-26T09:45:22.793+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:45:22.799+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:45:22.799+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T09:45:22.800+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:45:22.803+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:45:22.802+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-26T09:45:22.803+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-26T09:45:22.804+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:22.807+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:45:22.807+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T09:45:22.808+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d0cab3] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:22.809+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:45:22.810+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T09:45:22.812+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:45:22.813+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:45:22.815+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:22.815+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:45:22.816+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:22.816+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:45:22.818+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:22.820+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:22.820+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49caf562] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:22.821+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2073548251 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:22.825+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e52af69] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:22.826+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:22.827+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T09:45:22.830+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@883407160 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:45:22.830+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1254919096 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:22.833+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:22.833+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:22.834+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:22.835+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T09:45:22.835+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T09:45:22.835+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d0cab3]
2025-12-26T09:45:22.836+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:22.844+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-26T09:45:22.845+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:22.846+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:22.847+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e52af69]
2025-12-26T09:45:22.851+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:22.851+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:22.858+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a1c9582] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:22.860+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49caf562]
2025-12-26T09:45:22.860+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2044943723 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:22.861+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:22.862+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:45:22.863+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35be3c30] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:22.865+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T09:45:22.865+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855089635 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:45:22.866+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:45:22.869+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:45:22.870+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T09:45:22.875+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a1c9582]
2025-12-26T09:45:22.878+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:22.880+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:45:22.881+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:22.881+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:45:22.885+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35be3c30]
2025-12-26T09:45:22.886+09:00  INFO 23784 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:45:22.887+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:22.893+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T09:45:22.896+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:45:22.897+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:22.899+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-26T09:45:22.902+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:45:22.908+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T09:45:22.911+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T09:45:22.911+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-26T09:45:22.912+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:45:22.913+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:45:22.913+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:45:22.913+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:45:22.917+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:45:22.926+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:22.918+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:45:22.928+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a650299] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:22.929+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:22.946+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:22.947+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@24682603 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:22.947+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:22.947+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:22.948+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a9d1f04] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:22.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T09:45:22.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1829213709 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:22.951+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:22.953+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T09:45:22.953+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:22.954+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a650299]
2025-12-26T09:45:22.960+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:22.961+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:22.961+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@735a71dd] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:22.962+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a9d1f04]
2025-12-26T09:45:22.963+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@709989921 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:22.965+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:22.966+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:45:22.966+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21080bdf] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:22.968+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T09:45:22.968+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1465324147 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:22.970+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:45:22.978+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:45:22.978+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T09:45:22.980+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@735a71dd]
2025-12-26T09:45:22.981+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:22.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:45:22.984+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:45:22.985+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:22.991+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21080bdf]
2025-12-26T09:45:22.995+09:00  INFO 23784 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:45:23.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:23.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:45:23.005+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:44.920+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/2/company/1/approver?isApprover=true
2025-12-26T09:45:44.933+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/2/company/1/approver?isApprover=true
2025-12-26T09:45:44.936+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/2/company/1/approver
2025-12-26T09:45:44.936+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/2/company/1/approver?isApprover=true
2025-12-26T09:45:44.941+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/2/company/1/approver?isApprover=true", parameters={masked}
2025-12-26T09:45:44.944+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateApproverStatus(Long, Long, Boolean)
2025-12-26T09:45:44.946+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:44.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:44.962+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:44.964+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3898bcba]
2025-12-26T09:45:44.966+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@478811230 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will be managed by Spring
2025-12-26T09:45:44.967+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:44.969+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 2(Long)
2025-12-26T09:45:44.976+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 2
2025-12-26T09:45:44.977+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3898bcba]
2025-12-26T09:45:44.977+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3898bcba] from current transaction
2025-12-26T09:45:44.979+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.updateApproverStatus  : ==>  Preparing: UPDATE user_company_tb SET is_approver = ?, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-26T09:45:44.979+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.updateApproverStatus  : ==> Parameters: true(Boolean), 2(Long), 1(Long)
2025-12-26T09:45:44.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.updateApproverStatus  : <==    Updates: 1
2025-12-26T09:45:44.984+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3898bcba]
2025-12-26T09:45:44.985+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3898bcba]
2025-12-26T09:45:44.986+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3898bcba]
2025-12-26T09:45:44.992+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3898bcba]
2025-12-26T09:45:45.002+09:00  INFO 23784 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 결재자 지정 변경 - operatorId: 1, userId: 2, companyId: 1, isApprover: true
2025-12-26T09:45:45.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:45.007+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자로 지정되었습니다., data=null)]
2025-12-26T09:45:45.010+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:45.019+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:45:45.027+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-26T09:45:45.028+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:45:45.029+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:45:45.030+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:45:45.031+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:45.032+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:45.033+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:45.033+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd18485] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:45.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@910254002 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:45.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:45.037+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T09:45:45.044+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:45.045+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd18485]
2025-12-26T09:45:45.045+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:45.046+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21269dad] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:45.047+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685851385 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:45.047+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:45:45.048+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:45:45.050+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:45:45.051+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21269dad]
2025-12-26T09:45:45.051+09:00  INFO 23784 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:45:45.052+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:45.052+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:45:45.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:46.264+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/3/company/1/approver?isApprover=true
2025-12-26T09:45:46.269+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/3/company/1/approver?isApprover=true
2025-12-26T09:45:46.272+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/3/company/1/approver
2025-12-26T09:45:46.274+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/3/company/1/approver?isApprover=true
2025-12-26T09:45:46.275+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/3/company/1/approver?isApprover=true", parameters={masked}
2025-12-26T09:45:46.276+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateApproverStatus(Long, Long, Boolean)
2025-12-26T09:45:46.277+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:46.277+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:46.281+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:46.281+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6381fe17]
2025-12-26T09:45:46.282+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1487571596 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will be managed by Spring
2025-12-26T09:45:46.283+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:46.285+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long)
2025-12-26T09:45:46.292+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 2
2025-12-26T09:45:46.292+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6381fe17]
2025-12-26T09:45:46.292+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6381fe17] from current transaction
2025-12-26T09:45:46.292+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.updateApproverStatus  : ==>  Preparing: UPDATE user_company_tb SET is_approver = ?, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-26T09:45:46.294+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.updateApproverStatus  : ==> Parameters: true(Boolean), 3(Long), 1(Long)
2025-12-26T09:45:46.297+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.updateApproverStatus  : <==    Updates: 1
2025-12-26T09:45:46.297+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6381fe17]
2025-12-26T09:45:46.298+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6381fe17]
2025-12-26T09:45:46.298+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6381fe17]
2025-12-26T09:45:46.299+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6381fe17]
2025-12-26T09:45:46.303+09:00  INFO 23784 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 결재자 지정 변경 - operatorId: 1, userId: 3, companyId: 1, isApprover: true
2025-12-26T09:45:46.304+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:46.308+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자로 지정되었습니다., data=null)]
2025-12-26T09:45:46.309+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:46.313+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:45:46.317+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-26T09:45:46.317+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:45:46.319+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:45:46.320+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:45:46.325+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:46.326+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:46.328+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:46.329+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62cc17ad] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:46.331+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1555320103 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:46.333+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:46.336+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T09:45:46.341+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:46.341+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62cc17ad]
2025-12-26T09:45:46.342+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:46.343+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78ed9472] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:46.343+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1474090253 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:46.344+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:45:46.345+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:45:46.347+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:45:46.349+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78ed9472]
2025-12-26T09:45:46.349+09:00  INFO 23784 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:45:46.350+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:46.350+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:45:46.351+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:47.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/company/1/approver?isApprover=true
2025-12-26T09:45:47.595+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/4/company/1/approver?isApprover=true
2025-12-26T09:45:47.597+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/4/company/1/approver
2025-12-26T09:45:47.597+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/4/company/1/approver?isApprover=true
2025-12-26T09:45:47.598+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/4/company/1/approver?isApprover=true", parameters={masked}
2025-12-26T09:45:47.599+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateApproverStatus(Long, Long, Boolean)
2025-12-26T09:45:47.600+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:47.600+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:47.612+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:47.613+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567fca7]
2025-12-26T09:45:47.614+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@887443984 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will be managed by Spring
2025-12-26T09:45:47.617+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:47.620+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 4(Long)
2025-12-26T09:45:47.629+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 1
2025-12-26T09:45:47.629+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567fca7]
2025-12-26T09:45:47.630+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567fca7] from current transaction
2025-12-26T09:45:47.630+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateApproverStatus  : ==>  Preparing: UPDATE user_company_tb SET is_approver = ?, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-26T09:45:47.631+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateApproverStatus  : ==> Parameters: true(Boolean), 4(Long), 1(Long)
2025-12-26T09:45:47.634+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateApproverStatus  : <==    Updates: 1
2025-12-26T09:45:47.635+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567fca7]
2025-12-26T09:45:47.635+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567fca7]
2025-12-26T09:45:47.635+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567fca7]
2025-12-26T09:45:47.635+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567fca7]
2025-12-26T09:45:47.644+09:00  INFO 23784 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 결재자 지정 변경 - operatorId: 1, userId: 4, companyId: 1, isApprover: true
2025-12-26T09:45:47.645+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:47.645+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자로 지정되었습니다., data=null)]
2025-12-26T09:45:47.646+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:47.650+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:45:47.653+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-26T09:45:47.653+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:45:47.655+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:45:47.658+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:45:47.658+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:47.659+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:45:47.659+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:47.660+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d57c2] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:47.662+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@121598007 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:47.662+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:45:47.665+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T09:45:47.667+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:45:47.668+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d57c2]
2025-12-26T09:45:47.668+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:47.668+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72902e54] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:47.668+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@466992659 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:47.668+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:45:47.669+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:45:47.674+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:45:47.675+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72902e54]
2025-12-26T09:45:47.675+09:00  INFO 23784 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:45:47.676+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:47.676+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:45:47.678+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:50.680+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-26T09:45:50.693+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2025-12-26T09:45:50.695+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-26T09:45:50.696+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-26T09:45:50.699+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-26T09:45:50.700+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-26T09:45:50.702+09:00  INFO 23784 --- [http-nio-8080-exec-5] SECURITY                                 : LOGOUT userId=1
2025-12-26T09:45:50.703+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:50.703+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-26T09:45:50.708+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:56.057+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T09:45:56.058+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T09:45:56.060+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T09:45:56.061+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T09:45:56.061+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T09:45:56.061+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2025-12-26T09:45:56.062+09:00  INFO 23784 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2025-12-26T09:45:56.062+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:56.064+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c921ffb] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:56.067+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@12526450 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:56.069+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T09:45:56.069+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-26T09:45:56.080+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T09:45:56.080+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c921ffb]
2025-12-26T09:45:56.170+09:00  INFO 23784 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: USER, companyId: 1
2025-12-26T09:45:56.173+09:00  INFO 23784 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=USER
2025-12-26T09:45:56.174+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:56.174+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2025-12-26T09:45:56.176+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:57.082+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T09:45:57.085+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2025-12-26T09:45:57.100+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:45:57.103+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:45:57.115+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T09:45:57.117+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:45:57.124+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T09:45:57.124+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T09:45:57.126+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:45:57.127+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.128+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b2d3975] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.127+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:45:57.128+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:45:57.131+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:45:57.135+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:45:57.136+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:45:57.140+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@538650572 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:45:57.137+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:45:57.141+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.144+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T09:45:57.144+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:45:57.144+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf68ebe] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.145+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:45:57.145+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-26T09:45:57.145+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.147+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27404ee5] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.148+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1636877747 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:57.149+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:57.149+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@48226232 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:45:57.149+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-26T09:45:57.150+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:57.150+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:45:57.150+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b2d3975]
2025-12-26T09:45:57.151+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:45:57.152+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:57.153+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T09:45:57.153+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:57.155+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:57.159+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf68ebe]
2025-12-26T09:45:57.155+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:45:57.159+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.160+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27404ee5]
2025-12-26T09:45:57.160+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d8bce25] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.161+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:57.162+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2050347426 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:57.163+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:45:57.165+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:57.166+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:57.167+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:45:57.173+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:45:57.173+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:57.179+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d8bce25]
2025-12-26T09:45:57.179+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:45:57.180+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.180+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:45:57.181+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751c368a] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.182+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1156812115 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:57.181+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:45:57.183+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:57.184+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:45:57.184+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:57.185+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.186+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341874af] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.188+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:57.191+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2045593877 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:45:57.192+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751c368a]
2025-12-26T09:45:57.192+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:45:57.194+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.196+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:45:57.196+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa75904] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.199+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1260096540 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:57.200+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:45:57.200+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:57.201+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341874af]
2025-12-26T09:45:57.202+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:57.205+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:57.214+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:45:57.216+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:57.216+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:57.218+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa75904]
2025-12-26T09:45:57.218+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.218+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc19ed1] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.219+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1481346836 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:57.219+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:57.220+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:45:57.230+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:57.230+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc19ed1]
2025-12-26T09:45:57.230+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.231+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c775861] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.231+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1030842408 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:57.231+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:57.232+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:57.234+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:57.234+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c775861]
2025-12-26T09:45:57.234+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.235+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a09b303] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.235+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2089504371 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:45:57.235+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:57.236+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:45:57.242+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:57.243+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a09b303]
2025-12-26T09:45:57.244+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:57.244+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:45:57.246+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:45:57.248+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:45:57.251+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:45:57.251+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:45:57.252+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:45:57.252+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:45:57.253+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.256+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d39bf1a] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.260+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1677458917 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:45:57.263+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:57.264+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:57.268+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:57.268+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d39bf1a]
2025-12-26T09:45:57.273+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.274+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e73337] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.275+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1498500003 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:45:57.275+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:57.277+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:45:57.284+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:57.285+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e73337]
2025-12-26T09:45:57.286+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.286+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e730f8a] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.288+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@591456248 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:45:57.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:57.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:57.294+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:57.295+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e730f8a]
2025-12-26T09:45:57.295+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.296+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c890f6] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.296+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1135728282 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:45:57.297+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:45:57.298+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:45:57.300+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:45:57.300+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c890f6]
2025-12-26T09:45:57.302+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.303+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a1bca12] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.303+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@463845511 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:45:57.304+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:57.306+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:45:57.311+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:57.311+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a1bca12]
2025-12-26T09:45:57.312+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.312+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6505678f] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.313+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1366981223 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:45:57.313+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:45:57.315+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:45:57.319+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:45:57.319+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6505678f]
2025-12-26T09:45:57.323+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:45:57.323+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c387305] was not registered for synchronization because synchronization is not active
2025-12-26T09:45:57.323+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@307191314 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:45:57.324+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:45:57.327+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:45:57.329+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:45:57.330+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c387305]
2025-12-26T09:45:57.331+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:45:57.332+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:45:57.334+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:49:38.187+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T09:49:38.187+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T09:49:38.187+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T09:49:38.275+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T09:49:38.276+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T09:49:38.280+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T09:49:38.401+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/approvers
2025-12-26T09:49:38.408+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/approvers
2025-12-26T09:49:38.409+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2025-12-26T09:49:38.411+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T09:49:38.420+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T09:49:38.412+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T09:49:38.422+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T09:49:38.423+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T09:49:38.413+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T09:49:38.421+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T09:49:38.424+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:49:38.424+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T09:49:38.425+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:49:38.425+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f9bf5f5] was not registered for synchronization because synchronization is not active
2025-12-26T09:49:38.426+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T09:49:38.426+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc8ebd4] was not registered for synchronization because synchronization is not active
2025-12-26T09:49:38.429+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:49:38.429+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c92808] was not registered for synchronization because synchronization is not active
2025-12-26T09:49:38.442+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1367806470 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:49:38.442+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1178232243 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:49:38.442+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814065841 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:49:38.443+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T09:49:38.443+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T09:49:38.444+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T09:49:38.445+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T09:49:38.446+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-26T09:49:38.448+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T09:49:38.459+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-26T09:49:38.462+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-26T09:49:38.464+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-26T09:49:38.469+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c92808]
2025-12-26T09:49:38.470+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc8ebd4]
2025-12-26T09:49:38.470+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f9bf5f5]
2025-12-26T09:49:38.472+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:49:38.472+09:00  INFO 23784 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-26T09:49:38.474+09:00  INFO 23784 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-26T09:49:38.474+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T09:49:38.476+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:49:38.476+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:49:38.477+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:49:38.479+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-26T09:49:38.481+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-26T09:49:38.490+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:49:38.491+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:18.294+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:18.294+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:51:18.294+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:51:18.295+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:18.302+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:18.302+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:18.302+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:51:18.305+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:51:18.306+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:51:18.311+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:51:18.318+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:51:18.321+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:18.324+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:51:18.324+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:18.325+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:51:18.328+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:51:18.328+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:51:18.330+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:51:18.335+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:51:18.337+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:51:18.336+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:51:18.336+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:51:18.337+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:51:18.338+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.339+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.339+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:51:18.340+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.342+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de06ca3] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.342+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50021ba] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.343+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca3e3b] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.343+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.350+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ea7aaf] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.352+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1452149267 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:18.352+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2120209769 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:18.353+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@146254899 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:18.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:51:18.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:51:18.356+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:18.356+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:18.357+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:18.358+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:18.358+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605487925 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:18.360+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:18.362+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:18.362+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:51:18.362+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:51:18.363+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:18.364+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50021ba]
2025-12-26T09:51:18.365+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca3e3b]
2025-12-26T09:51:18.367+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de06ca3]
2025-12-26T09:51:18.368+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:18.369+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:18.370+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.374+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd08564] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.371+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:51:18.372+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:51:18.373+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:18.375+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110958037 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:18.377+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:18.382+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:18.384+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ea7aaf]
2025-12-26T09:51:18.385+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:18.390+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.390+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:18.391+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e6be01] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.392+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1621490447 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:18.393+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:18.393+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:18.394+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:18.395+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd08564]
2025-12-26T09:51:18.401+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.402+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7debbc76] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.403+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:18.403+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1379921162 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:18.404+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e6be01]
2025-12-26T09:51:18.404+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:18.405+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.406+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:18.406+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5136c722] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.407+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217935283 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:18.407+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:18.408+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:18.408+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:18.409+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7debbc76]
2025-12-26T09:51:18.409+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.410+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78604747] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.410+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:18.410+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1481137201 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:18.411+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5136c722]
2025-12-26T09:51:18.411+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:18.411+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.411+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:18.411+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa4326] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.414+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648532326 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:18.417+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:18.419+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:18.419+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78604747]
2025-12-26T09:51:18.419+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:18.419+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.420+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab6c95d] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.421+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@538371891 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:18.423+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:18.423+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:18.425+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:18.425+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:18.425+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa4326]
2025-12-26T09:51:18.426+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab6c95d]
2025-12-26T09:51:18.426+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.426+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.426+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@168188c7] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.426+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1b82ca] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.427+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273971978 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:18.427+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@906708213 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:18.428+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:18.428+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:18.429+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:18.431+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:18.436+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:18.436+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:18.436+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1b82ca]
2025-12-26T09:51:18.436+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@168188c7]
2025-12-26T09:51:18.436+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.437+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.437+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37766ba4] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.438+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7423b9dd] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.438+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@830321234 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:18.439+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1853800494 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:18.439+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:18.440+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:18.440+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:18.440+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:18.443+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:18.444+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:18.445+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37766ba4]
2025-12-26T09:51:18.449+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7423b9dd]
2025-12-26T09:51:18.450+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:18.450+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:18.451+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:51:18.452+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2554aff2] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:18.454+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:18.454+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@832495066 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:18.456+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:18.457+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:18.459+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:18.465+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2554aff2]
2025-12-26T09:51:18.467+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:18.471+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:51:18.473+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:19.077+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-26T09:51:19.083+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-26T09:51:19.104+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/logout
2025-12-26T09:51:19.117+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-26T09:51:19.195+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-26T09:51:19.235+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-26T09:51:19.250+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-26T09:51:19.266+09:00  INFO 23784 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=2
2025-12-26T09:51:19.273+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:19.274+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-26T09:51:19.276+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:24.625+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-26T09:51:24.628+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T09:51:24.630+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T09:51:24.630+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T09:51:24.631+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T09:51:24.632+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T09:51:24.632+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user4, password=1234)]
2025-12-26T09:51:24.633+09:00  INFO 23784 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user4
2025-12-26T09:51:24.633+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:24.633+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75dd819a] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:24.638+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1786376673 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:24.638+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T09:51:24.639+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-26T09:51:24.641+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T09:51:24.642+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75dd819a]
2025-12-26T09:51:24.731+09:00  INFO 23784 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 성공 - userId: 5, role: ADMIN, companyId: 1
2025-12-26T09:51:24.732+09:00  INFO 23784 --- [http-nio-8080-exec-6] SECURITY                                 : LOGIN_SUCCESS userId=5 username=test_user4 role=ADMIN
2025-12-26T09:51:24.732+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:24.733+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=5, username=test_user4, password (truncated)...]
2025-12-26T09:51:24.736+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:25.153+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T09:51:25.159+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T09:51:25.169+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T09:51:25.169+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T09:51:25.170+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T09:51:25.172+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T09:51:25.173+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.174+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@405c0085] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.186+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1628701802 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:25.186+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T09:51:25.188+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T09:51:25.190+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T09:51:25.191+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@405c0085]
2025-12-26T09:51:25.193+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:25.194+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T09:51:25.196+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:25.222+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:51:25.224+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:25.224+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:51:25.224+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T09:51:25.225+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:25.225+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T09:51:25.237+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:51:25.238+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:25.238+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:51:25.247+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:51:25.250+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:51:25.251+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:51:25.251+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:51:25.252+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:51:25.252+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:51:25.248+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:51:25.251+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:51:25.254+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:51:25.256+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.262+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58eefd84] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.257+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:25.258+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:25.259+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:51:25.261+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:51:25.275+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:51:25.265+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:51:25.276+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:51:25.277+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:51:25.273+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:51:25.273+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:51:25.275+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.283+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79467672] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.276+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:51:25.288+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:51:25.278+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:51:25.281+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:25.282+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:51:25.289+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:51:25.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:51:25.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:51:25.291+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.294+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d803126] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.291+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:51:25.292+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@593180588 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:25.293+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@693523981 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:25.293+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:51:25.294+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:51:25.305+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1344812669 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:25.300+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:51:25.301+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:25.303+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:25.304+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.306+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.306+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:51:25.307+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.307+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:25.308+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:25.308+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610efb70] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.309+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d0d5fcf] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.309+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:51:25.310+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c7b120c] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.316+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2000928357 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:25.320+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:51:25.321+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@103595549 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:25.321+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:25.321+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:25.321+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:51:25.322+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:51:25.323+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:51:25.324+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79467672]
2025-12-26T09:51:25.324+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58eefd84]
2025-12-26T09:51:25.326+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1642027078 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:25.324+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d803126]
2025-12-26T09:51:25.325+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:51:25.326+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.326+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.327+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:51:25.327+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:25.334+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@229f9f3f] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.336+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6896e2c1] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.338+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:51:25.338+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:51:25.339+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1227589522 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:25.339+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:51:25.339+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:51:25.345+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d0d5fcf]
2025-12-26T09:51:25.340+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1768523586 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:25.341+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:25.342+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:25.346+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610efb70]
2025-12-26T09:51:25.347+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:25.348+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:51:25.348+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:25.354+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:25.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:25.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:51:25.356+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c7b120c]
2025-12-26T09:51:25.357+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:25.357+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:51:25.358+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:25.358+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:25.360+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:25.364+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:25.367+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:51:25.370+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@229f9f3f]
2025-12-26T09:51:25.372+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:25.374+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.375+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:25.382+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ff66dfc] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.383+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6896e2c1]
2025-12-26T09:51:25.385+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@21915482 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:25.385+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.386+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:25.386+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c1a012c] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.388+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:25.389+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@860186244 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:25.390+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:25.391+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:25.391+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:25.392+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ff66dfc]
2025-12-26T09:51:25.393+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.394+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e8bf76c] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.394+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:25.394+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c1a012c]
2025-12-26T09:51:25.394+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1929310412 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:25.395+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.395+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:25.395+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46659211] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.396+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:25.397+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2060118160 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:25.399+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:25.401+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:25.401+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:25.402+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e8bf76c]
2025-12-26T09:51:25.403+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.403+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@777c1940] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.403+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@915255380 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:25.404+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:25.404+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:25.405+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46659211]
2025-12-26T09:51:25.405+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:25.405+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.406+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69baa20a] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.407+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@52777014 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:25.408+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:25.408+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:25.408+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:25.408+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@777c1940]
2025-12-26T09:51:25.409+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.410+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72a21604] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.411+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1703130889 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:25.411+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:25.411+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:25.412+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69baa20a]
2025-12-26T09:51:25.413+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:25.414+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.415+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525918f9] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.417+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1859078730 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:25.417+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:25.417+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:25.418+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72a21604]
2025-12-26T09:51:25.418+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:25.418+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.419+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe03368] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.421+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1838155430 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:25.421+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:25.422+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:25.422+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525918f9]
2025-12-26T09:51:25.422+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:25.422+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:25.423+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ceadee1] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:25.424+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1190038357 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:25.425+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:25.425+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:25.426+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe03368]
2025-12-26T09:51:25.427+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:25.433+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:25.434+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:51:25.435+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:25.435+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:25.440+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ceadee1]
2025-12-26T09:51:25.440+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:25.441+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:51:25.442+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:26.689+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T09:51:26.689+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T09:51:26.700+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T09:51:26.700+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T09:51:26.703+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T09:51:26.703+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T09:51:26.704+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T09:51:26.704+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T09:51:26.704+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T09:51:26.705+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T09:51:26.705+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T09:51:26.705+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T09:51:26.705+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:26.706+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:26.706+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fff6cd5] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:26.706+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f7882a] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:26.710+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1669187770 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:26.710+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1222841818 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:26.710+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T09:51:26.711+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T09:51:26.714+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T09:51:26.714+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T09:51:26.716+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-26T09:51:26.717+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f7882a]
2025-12-26T09:51:26.717+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-26T09:51:26.719+09:00  INFO 23784 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-26T09:51:26.720+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fff6cd5]
2025-12-26T09:51:26.720+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:26.720+09:00  INFO 23784 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-26T09:51:26.720+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-26T09:51:26.720+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:26.721+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:26.722+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-26T09:51:26.727+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:31.394+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:51:31.399+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T09:51:31.399+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:31.400+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:51:31.403+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:31.405+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T09:51:31.417+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:51:31.419+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:51:31.420+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:31.421+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:51:31.422+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:51:31.426+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:51:31.432+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:51:31.432+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:31.436+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:51:31.438+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:51:31.439+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:51:31.439+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:51:31.440+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:51:31.443+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:51:31.449+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:31.449+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:51:31.450+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:51:31.450+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:51:31.450+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:51:31.451+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:51:31.451+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:51:31.451+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:51:31.452+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:51:31.452+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:51:31.453+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:51:31.453+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:51:31.454+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:51:31.456+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:51:31.456+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:51:31.457+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:51:31.457+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.458+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:51:31.458+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.461+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167b848f] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.459+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.462+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d5d9e0] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.460+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:51:31.460+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:51:31.460+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64240d69] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.461+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.466+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:51:31.466+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.470+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1018736739 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:31.468+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a9a79d] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.468+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1593773791 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:31.472+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:31.468+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@386676629 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:31.469+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.473+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1068510653 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:31.474+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:51:31.470+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c19cb2b] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.471+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:31.473+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:31.473+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:51:31.473+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@301c5684] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.474+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:51:31.475+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:31.478+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1937809875 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:31.480+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:31.482+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:51:31.488+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:51:31.489+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d5d9e0]
2025-12-26T09:51:31.490+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:51:31.490+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.491+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1427249320 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:51:31.492+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403228a5] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.493+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:31.493+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:51:31.497+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:51:31.500+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517456712 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:31.500+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:51:31.500+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:51:31.500+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64240d69]
2025-12-26T09:51:31.501+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a9a79d]
2025-12-26T09:51:31.501+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:51:31.502+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:31.502+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167b848f]
2025-12-26T09:51:31.502+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c19cb2b]
2025-12-26T09:51:31.502+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.504+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:31.503+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:31.503+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:31.505+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:51:31.503+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:31.504+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1b66ba] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.504+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:51:31.504+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:51:31.506+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:31.506+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:51:31.507+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:31.507+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1965235482 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:31.508+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:31.509+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@301c5684]
2025-12-26T09:51:31.514+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:31.516+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403228a5]
2025-12-26T09:51:31.517+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:31.519+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:31.521+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:51:31.520+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.521+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:31.524+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:31.526+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1782709e] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.533+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1185154507 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:31.534+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:31.534+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:31.535+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1b66ba]
2025-12-26T09:51:31.535+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:31.535+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.536+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5163270] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.537+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@271428318 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:31.537+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:31.537+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:31.538+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:31.539+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1782709e]
2025-12-26T09:51:31.539+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.542+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b75dc3a] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.544+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@527915338 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:31.545+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:31.545+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:31.545+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5163270]
2025-12-26T09:51:31.547+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:31.547+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.550+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d696be0] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.551+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1230525327 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:31.551+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:31.551+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:31.552+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b75dc3a]
2025-12-26T09:51:31.552+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:31.552+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.553+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6733bc93] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.554+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1376925763 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:31.554+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:31.555+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:31.556+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:31.557+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d696be0]
2025-12-26T09:51:31.558+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.558+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1485c869] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.559+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@579180402 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:31.562+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:31.566+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:31.568+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:31.569+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6733bc93]
2025-12-26T09:51:31.570+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.570+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525d778c] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.570+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:31.572+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@686853744 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:31.572+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1485c869]
2025-12-26T09:51:31.574+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:31.574+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.575+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0a15e4] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.575+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:31.575+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425432268 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:31.576+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:31.576+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:31.577+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:31.577+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525d778c]
2025-12-26T09:51:31.579+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.580+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4878c8a5] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.579+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:31.580+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1897936689 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:31.582+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0a15e4]
2025-12-26T09:51:31.582+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:31.583+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:31.584+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:31.584+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201284b5] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:31.584+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@512299110 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:51:31.584+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:31.585+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:51:31.586+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:31.586+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4878c8a5]
2025-12-26T09:51:31.588+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:31.588+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:31.589+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:51:31.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201284b5]
2025-12-26T09:51:31.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:31.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:31.594+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:51:31.595+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:32.559+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-26T09:51:32.565+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-26T09:51:32.576+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/logout
2025-12-26T09:51:32.580+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-26T09:51:32.582+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-26T09:51:32.584+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-26T09:51:32.587+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-26T09:51:32.589+09:00  INFO 23784 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=5
2025-12-26T09:51:32.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:32.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-26T09:51:32.592+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:36.257+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-26T09:51:36.259+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T09:51:36.260+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T09:51:36.261+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T09:51:36.261+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T09:51:36.263+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T09:51:36.264+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2025-12-26T09:51:36.265+09:00  INFO 23784 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2025-12-26T09:51:36.265+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:36.266+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@568fdfa] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:36.276+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1031385321 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:36.278+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T09:51:36.284+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-26T09:51:36.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T09:51:36.291+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@568fdfa]
2025-12-26T09:51:36.375+09:00  INFO 23784 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: USER, companyId: 1
2025-12-26T09:51:36.375+09:00  INFO 23784 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=USER
2025-12-26T09:51:36.376+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:36.378+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2025-12-26T09:51:36.379+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:36.776+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T09:51:36.781+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T09:51:36.794+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2025-12-26T09:51:36.827+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:51:36.831+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:36.832+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:51:36.847+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:36.860+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T09:51:36.915+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T09:51:36.916+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T09:51:36.924+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:36.925+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d275fca] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:36.945+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1590475461 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:36.948+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:51:36.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T09:51:36.951+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:51:36.952+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:36.953+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-26T09:51:36.954+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:51:36.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:51:36.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:51:36.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:51:36.958+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:51:36.959+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:36.960+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:51:36.961+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-26T09:51:36.961+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:51:36.966+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:36.969+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:51:36.970+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:51:36.971+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d275fca]
2025-12-26T09:51:36.973+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:51:36.973+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:51:36.974+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:51:36.971+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:51:36.971+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:51:36.976+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:36.972+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:36.973+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:36.975+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:51:36.976+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:36.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162071e9] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:36.977+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a272d2e] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:36.977+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24835da7] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:36.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T09:51:36.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:36.992+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15179267] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:36.991+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1712929093 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:36.993+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:36.994+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:36.998+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:36.998+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1964899260 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:37.004+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:51:37.006+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:37.008+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@321085687 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:37.008+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1310233936 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:37.019+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:37.019+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:51:37.019+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:37.020+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24835da7]
2025-12-26T09:51:37.022+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:37.022+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:51:37.026+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162071e9]
2025-12-26T09:51:37.023+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:37.025+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.028+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:37.033+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4af7ee9d] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.033+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:51:37.034+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1948777473 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:37.036+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:37.037+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:37.039+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:37.042+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T09:51:37.042+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:37.044+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15179267]
2025-12-26T09:51:37.044+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a272d2e]
2025-12-26T09:51:37.047+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:37.048+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:37.048+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.049+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4af7ee9d]
2025-12-26T09:51:37.050+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T09:51:37.052+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@366a36b6] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.053+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:37.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@343993012 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:37.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b33a4a0] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.057+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:37.060+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@516242525 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:37.060+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:37.060+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:37.061+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:37.066+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:37.066+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:37.067+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@366a36b6]
2025-12-26T09:51:37.067+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b33a4a0]
2025-12-26T09:51:37.067+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.068+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.068+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218d97c] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.068+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@579663b0] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.069+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1705017359 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:37.069+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@569822022 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:37.069+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:37.070+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:37.071+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:37.072+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:37.076+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:37.076+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:37.076+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218d97c]
2025-12-26T09:51:37.077+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@579663b0]
2025-12-26T09:51:37.078+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.078+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.081+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b5118d1] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.080+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af919af] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.082+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1874747880 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:37.083+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1861150389 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:37.083+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:37.084+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:51:37.084+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:37.085+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:51:37.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:37.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-26T09:51:37.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b5118d1]
2025-12-26T09:51:37.092+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af919af]
2025-12-26T09:51:37.092+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.092+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.093+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f2391f7] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.093+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49957504] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.094+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1555533138 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:37.094+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@734210552 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:37.094+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:37.100+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:37.100+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:37.101+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:37.104+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:37.104+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:37.104+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49957504]
2025-12-26T09:51:37.105+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f2391f7]
2025-12-26T09:51:37.106+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.106+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.106+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c047ef] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.107+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11937d97] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.108+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@572467110 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:37.108+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1392310907 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:51:37.108+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:51:37.109+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:37.109+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-26T09:51:37.109+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:37.115+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:51:37.116+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:37.120+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c047ef]
2025-12-26T09:51:37.120+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11937d97]
2025-12-26T09:51:37.120+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:37.121+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:37.121+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f54effa] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:37.121+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:51:37.122+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1844001472 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:37.123+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:37.123+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:37.127+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:37.133+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:37.137+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f54effa]
2025-12-26T09:51:37.137+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:37.138+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:51:37.139+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:39.000+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T09:51:39.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T09:51:39.010+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T09:51:39.010+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T09:51:39.014+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/approvers
2025-12-26T09:51:39.014+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/approvers
2025-12-26T09:51:39.015+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T09:51:39.016+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T09:51:39.016+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T09:51:39.017+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T09:51:39.018+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T09:51:39.018+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T09:51:39.020+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:39.018+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:39.023+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c86eb9] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:39.024+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc487d4] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:39.028+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1394503113 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:51:39.028+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1288956134 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:51:39.033+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T09:51:39.033+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T09:51:39.034+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T09:51:39.038+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T09:51:39.042+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-26T09:51:39.042+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-26T09:51:39.043+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc487d4]
2025-12-26T09:51:39.043+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c86eb9]
2025-12-26T09:51:39.044+09:00  INFO 23784 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-26T09:51:39.044+09:00  INFO 23784 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-26T09:51:39.047+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:39.047+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:39.048+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-26T09:51:39.049+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-26T09:51:39.050+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:39.052+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:54.409+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/create
2025-12-26T09:51:54.419+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/create
2025-12-26T09:51:54.421+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/create
2025-12-26T09:51:54.422+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/create
2025-12-26T09:51:54.423+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/create", parameters={}
2025-12-26T09:51:54.424+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#createExpense(ExpenseReportDto)
2025-12-26T09:51:54.472+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=2, reportDate=2025-12-26, title=test1, totalAmount= (truncated)...]
2025-12-26T09:51:54.577+09:00  INFO 23784 --- [http-nio-8080-exec-10] c.i.b.controller.ExpenseController       : 지출결의서 생성 요청 - drafterId: 2, currentUserId: 2, title: test1, totalAmount: 22222
2025-12-26T09:51:54.587+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:54.587+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f4b78]
2025-12-26T09:51:54.588+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1823628466 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will be managed by Spring
2025-12-26T09:51:54.589+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:54.589+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:54.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:54.592+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f4b78]
2025-12-26T09:51:54.592+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f4b78] from current transaction
2025-12-26T09:51:54.593+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.insertExpenseReport            : ==>  Preparing: INSERT INTO expense_report_tb ( drafter_id, report_date, title, total_amount, status, payment_req_date, is_secret, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-26T09:51:54.594+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.insertExpenseReport            : ==> Parameters: 2(Long), 2025-12-26(LocalDate), test1(String), 22222(Long), WAIT(String), 2025-12-26(LocalDate), false(Boolean), 1(Long)
2025-12-26T09:51:54.603+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.insertExpenseReport            : <==    Updates: 1
2025-12-26T09:51:54.607+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f4b78]
2025-12-26T09:51:54.608+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 상세 항목 저장 시작 - 항목 수: 1
2025-12-26T09:51:54.608+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f4b78] from current transaction
2025-12-26T09:51:54.609+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-26T09:51:54.615+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 2(Long), 식대(String), test(String), 22222(Long), (String), 1(Long)
2025-12-26T09:51:54.622+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-26T09:51:54.624+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f4b78]
2025-12-26T09:51:54.628+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 상세 항목 저장 완료
2025-12-26T09:51:54.637+09:00  INFO 23784 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 지출결의서 생성 완료 - expenseReportId: 2
2025-12-26T09:51:54.637+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f4b78]
2025-12-26T09:51:54.638+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f4b78]
2025-12-26T09:51:54.639+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f4b78]
2025-12-26T09:51:54.654+09:00  INFO 23784 --- [http-nio-8080-exec-10] c.i.b.controller.ExpenseController       : 지출결의서 생성 완료 - expenseId: 2
2025-12-26T09:51:54.655+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:54.656+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=기안서 저장 성공, data=2)]
2025-12-26T09:51:54.657+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:54.663+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/2/approval-lines
2025-12-26T09:51:54.669+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/2/approval-lines
2025-12-26T09:51:54.671+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/2/approval-lines
2025-12-26T09:51:54.672+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/2/approval-lines
2025-12-26T09:51:54.672+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/2/approval-lines", parameters={}
2025-12-26T09:51:54.673+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#setApprovalLines(Long, ApprovalLineRequest)
2025-12-26T09:51:54.683+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseController.ApprovalLineRequest(approvalLines=[ApprovalLineDto(approvalLineId=null, expenseRep (truncated)...]
2025-12-26T09:51:54.688+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:54.695+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260142e5]
2025-12-26T09:51:54.697+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1682824326 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will be managed by Spring
2025-12-26T09:51:54.698+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-26T09:51:54.700+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 2(Long), 2(Long), 1(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-26T09:51:54.704+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-26T09:51:54.704+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260142e5]
2025-12-26T09:51:54.705+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260142e5] from current transaction
2025-12-26T09:51:54.705+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-26T09:51:54.706+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 2(Long), 4(Long), 2(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-26T09:51:54.710+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-26T09:51:54.710+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260142e5]
2025-12-26T09:51:54.711+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260142e5] from current transaction
2025-12-26T09:51:54.711+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-26T09:51:54.713+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 2(Long), 5(Long), 3(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-26T09:51:54.721+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-26T09:51:54.721+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260142e5]
2025-12-26T09:51:54.722+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 결재 라인 저장 완료 - expenseReportId: 2, 라인 수: 3
2025-12-26T09:51:54.722+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260142e5]
2025-12-26T09:51:54.722+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260142e5]
2025-12-26T09:51:54.723+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260142e5]
2025-12-26T09:51:54.728+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:54.733+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재 라인 설정 성공, data=null)]
2025-12-26T09:51:54.734+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:55.781+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/2
2025-12-26T09:51:55.781+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/2
2025-12-26T09:51:55.822+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/2
2025-12-26T09:51:55.825+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/2
2025-12-26T09:51:55.848+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/2
2025-12-26T09:51:55.850+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/2
2025-12-26T09:51:55.850+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/2
2025-12-26T09:51:55.851+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/2
2025-12-26T09:51:55.852+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/2", parameters={}
2025-12-26T09:51:55.852+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/2", parameters={}
2025-12-26T09:51:55.853+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-26T09:51:55.853+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-26T09:51:55.855+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:55.856+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:55.856+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1ce41c] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:55.857+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@299b0791] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:55.871+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@303621039 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:55.875+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@10810407 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:55.885+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-26T09:51:55.887+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-26T09:51:55.888+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:55.889+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:55.901+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-26T09:51:55.901+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-26T09:51:55.904+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@299b0791]
2025-12-26T09:51:55.904+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1ce41c]
2025-12-26T09:51:55.904+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:55.905+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:55.906+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a2c36e] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:55.906+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d63be47] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:55.907+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@827882700 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:55.907+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@640483732 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:55.908+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-26T09:51:55.909+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-26T09:51:55.909+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:55.910+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:55.920+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-26T09:51:55.920+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-26T09:51:55.922+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a2c36e]
2025-12-26T09:51:55.924+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d63be47]
2025-12-26T09:51:55.925+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:55.926+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:55.934+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7000f941] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:55.937+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138d34fe] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:55.939+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@619572636 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:55.939+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1937514830 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:55.939+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-26T09:51:55.940+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-26T09:51:55.940+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:55.942+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:55.953+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-26T09:51:55.955+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-26T09:51:55.961+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7000f941]
2025-12-26T09:51:55.961+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138d34fe]
2025-12-26T09:51:55.962+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:55.963+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:55.965+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e3ce0be] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:55.970+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4286de10] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:55.972+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@696236557 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:55.975+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@953559162 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:55.975+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-26T09:51:55.976+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-26T09:51:55.976+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:55.977+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:51:56.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-26T09:51:56.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-26T09:51:56.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e3ce0be]
2025-12-26T09:51:56.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4286de10]
2025-12-26T09:51:56.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:56.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:51:56.004+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b8f292f] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:56.004+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@af9f922] was not registered for synchronization because synchronization is not active
2025-12-26T09:51:56.005+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1923025904 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:51:56.006+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122043443 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:51:56.006+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:56.006+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:51:56.008+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:56.009+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:51:56.017+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:56.017+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:51:56.018+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@af9f922]
2025-12-26T09:51:56.018+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b8f292f]
2025-12-26T09:51:56.019+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:56.021+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:51:56.031+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=2, drafterId=2, re (truncated)...]
2025-12-26T09:51:56.037+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=2, drafterId=2, re (truncated)...]
2025-12-26T09:51:56.041+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:51:56.047+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:07.900+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:52:07.901+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:07.902+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:52:07.903+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:07.989+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:52:07.990+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:07.995+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:52:07.997+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:52:07.997+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:52:07.997+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:07.999+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:52:08.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:08.004+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:52:08.004+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:52:08.004+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:52:08.005+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:52:08.005+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:52:08.006+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:52:08.007+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:08.007+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:52:08.008+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:52:08.008+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:52:08.008+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.009+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.012+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:52:08.013+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:52:08.016+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66cbe130] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.016+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102dcfa9] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.017+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.018+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.021+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c558292] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.023+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d94d415] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.028+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1854272968 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:08.029+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1966097067 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:08.031+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:08.034+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:52:08.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:08.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1016819564 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:08.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610441291 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:08.036+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:08.040+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:08.040+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:52:08.043+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:08.043+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:08.050+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:08.051+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66cbe130]
2025-12-26T09:52:08.051+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-26T09:52:08.051+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-26T09:52:08.051+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:08.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c558292]
2025-12-26T09:52:08.052+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.053+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102dcfa9]
2025-12-26T09:52:08.056+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.053+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d94d415]
2025-12-26T09:52:08.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785db19] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.064+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515a5654] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.064+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.065+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@534d3356] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.065+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@660065667 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:08.067+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@176535590 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:08.067+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a40798d] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.067+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@565762029 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:08.070+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:08.068+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:08.068+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:08.069+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1938371388 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:08.071+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:08.072+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:08.072+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:08.072+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:08.074+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:08.084+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:08.085+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:08.085+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:08.087+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@534d3356]
2025-12-26T09:52:08.088+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515a5654]
2025-12-26T09:52:08.088+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785db19]
2025-12-26T09:52:08.090+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:08.091+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.091+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.092+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.092+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a40798d]
2025-12-26T09:52:08.092+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2686e54b] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.093+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@768cfd5d] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.094+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b720e03] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.096+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.097+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@476820814 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:08.097+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1969745198 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:08.098+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@42354023 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:08.100+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f6be8c2] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.100+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:08.100+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:08.101+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:08.101+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@115241651 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:08.102+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:08.102+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-26T09:52:08.102+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:08.103+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:08.108+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-26T09:52:08.108+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:52:08.110+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@768cfd5d]
2025-12-26T09:52:08.110+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.110+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a4fa15] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.111+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:52:08.113+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@47422249 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:08.114+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f6be8c2]
2025-12-26T09:52:08.115+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:08.115+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:08.116+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:08.116+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.117+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2686e54b]
2025-12-26T09:52:08.117+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b720e03]
2025-12-26T09:52:08.118+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:08.119+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb72d2d] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.120+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.120+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.121+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217769345 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:08.122+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@446ebfad] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.122+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172dcae6] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.122+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:08.123+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:08.123+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1439934166 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:08.131+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:08.126+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@747949078 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:08.127+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:08.127+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a4fa15]
2025-12-26T09:52:08.135+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:08.137+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:08.144+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:08.152+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:08.153+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-26T09:52:08.155+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:08.184+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:08.184+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:08.184+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:08.190+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@446ebfad]
2025-12-26T09:52:08.191+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb72d2d]
2025-12-26T09:52:08.218+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:08.192+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172dcae6]
2025-12-26T09:52:08.192+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.224+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-26T09:52:08.260+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.267+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@370f537a] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.267+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@224846dd] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.268+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:08.271+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@112005601 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:08.274+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540084360 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:08.280+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:08.281+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:08.281+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:08.282+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:08.303+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:08.303+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:08.304+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@224846dd]
2025-12-26T09:52:08.304+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@370f537a]
2025-12-26T09:52:08.305+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.305+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.306+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524e7da] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.307+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@471d7f53] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.308+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1706702605 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:08.308+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@180641865 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:08.310+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:08.316+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:08.317+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:08.319+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:08.325+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:08.325+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:08.339+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524e7da]
2025-12-26T09:52:08.338+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@471d7f53]
2025-12-26T09:52:08.343+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.344+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dd683ce] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.341+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:08.349+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27104960 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:08.351+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba24aae] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:08.352+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:08.354+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@966423607 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:08.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:08.356+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:08.354+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:08.405+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:08.405+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:08.414+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dd683ce]
2025-12-26T09:52:08.415+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba24aae]
2025-12-26T09:52:08.416+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:08.416+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:08.417+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:52:08.417+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:52:08.418+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:08.420+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:09.803+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/2
2025-12-26T09:52:09.803+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/2
2025-12-26T09:52:09.808+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/2
2025-12-26T09:52:09.814+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/2
2025-12-26T09:52:09.815+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/2
2025-12-26T09:52:09.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/2
2025-12-26T09:52:09.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/2", parameters={}
2025-12-26T09:52:09.820+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-26T09:52:09.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/2
2025-12-26T09:52:09.823+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:09.823+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c40bbd9] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:09.823+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/2
2025-12-26T09:52:09.826+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/2", parameters={}
2025-12-26T09:52:09.826+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@676200686 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:09.827+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-26T09:52:09.831+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-26T09:52:09.832+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:09.832+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:09.833+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b466824] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:09.837+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@980665084 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:09.837+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-26T09:52:09.837+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-26T09:52:09.838+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c40bbd9]
2025-12-26T09:52:09.838+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:09.838+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:09.839+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fe13673] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:09.839+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1347918374 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:09.839+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-26T09:52:09.840+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:09.840+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-26T09:52:09.841+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b466824]
2025-12-26T09:52:09.842+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:09.842+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3aa77] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:09.842+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-26T09:52:09.843+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1227207352 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:09.843+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fe13673]
2025-12-26T09:52:09.844+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-26T09:52:09.844+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:09.846+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:09.847+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78583d46] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:09.848+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1053609616 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:09.848+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-26T09:52:09.850+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:09.851+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-26T09:52:09.851+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3aa77]
2025-12-26T09:52:09.852+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:09.852+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56363658] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:09.853+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1337962235 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:09.853+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-26T09:52:09.853+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-26T09:52:09.854+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78583d46]
2025-12-26T09:52:09.854+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:09.854+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:09.854+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f904d1a] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:09.855+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1453060003 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:09.855+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-26T09:52:09.856+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:09.856+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-26T09:52:09.858+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56363658]
2025-12-26T09:52:09.859+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-26T09:52:09.859+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:09.860+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f904d1a]
2025-12-26T09:52:09.860+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a68204] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:09.861+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:09.864+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@239467934 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:09.864+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b96d769] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:09.864+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-26T09:52:09.864+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@100904860 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:09.865+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:09.866+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:09.867+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:09.869+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-26T09:52:09.870+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a68204]
2025-12-26T09:52:09.870+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:09.870+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:09.870+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b96d769]
2025-12-26T09:52:09.871+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c8ac5cf] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:09.871+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:09.871+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@291621112 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:09.872+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=2, drafterId=2, re (truncated)...]
2025-12-26T09:52:09.872+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:09.873+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:09.874+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:09.879+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:09.883+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c8ac5cf]
2025-12-26T09:52:09.883+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:09.884+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=2, drafterId=2, re (truncated)...]
2025-12-26T09:52:09.886+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:11.903+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:11.903+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:52:11.903+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:52:11.904+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:11.908+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:11.909+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:52:11.915+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:52:11.912+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:52:11.917+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:52:11.917+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:11.920+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:52:11.919+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:52:11.920+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:52:11.923+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:52:11.922+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:52:11.922+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:52:11.924+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:11.924+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:52:11.924+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.934+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e0b3067] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.925+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:52:11.935+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:52:11.931+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:52:11.934+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.936+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.937+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:11.937+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a89152b] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.939+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676b2491] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.939+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:52:11.943+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:52:11.947+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@433697544 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:11.948+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2048701750 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:11.949+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1617305473 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:11.952+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:11.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.951+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:11.952+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:52:11.953+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a39a0b8] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.953+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:11.953+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:11.953+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:11.955+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1477358928 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:11.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:11.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:11.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-26T09:52:11.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:52:11.958+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a89152b]
2025-12-26T09:52:11.959+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676b2491]
2025-12-26T09:52:11.961+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.964+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f9570bd] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.960+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e0b3067]
2025-12-26T09:52:11.960+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:11.960+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.966+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@193037935 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:11.968+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.968+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aadfbf2] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.971+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-26T09:52:11.969+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:11.970+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16ce7c42] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.971+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2035984835 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:11.971+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a39a0b8]
2025-12-26T09:52:11.972+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:11.974+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1367810770 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:11.974+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:11.975+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.976+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@346519b4] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.976+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:11.976+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:11.978+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:11.981+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1352647387 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:11.984+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:11.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:11.984+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f9570bd]
2025-12-26T09:52:11.986+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:11.987+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.987+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:11.988+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e17e531] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.988+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aadfbf2]
2025-12-26T09:52:11.989+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.989+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1784900822 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:11.990+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b88d36] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.990+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:11.991+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:11.991+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:11.992+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203394968 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:11.992+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16ce7c42]
2025-12-26T09:52:11.992+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@346519b4]
2025-12-26T09:52:11.992+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:11.992+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:11.993+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.993+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:11.994+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:11.998+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ac97] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.998+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd133b3] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:11.999+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:12.000+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1696328883 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:12.000+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1625632036 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:12.000+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:12.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e17e531]
2025-12-26T09:52:12.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:12.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:12.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b88d36]
2025-12-26T09:52:12.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:12.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-26T09:52:12.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-26T09:52:12.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:12.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e4afd7a] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:12.006+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@759d5ce2] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:12.007+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1606788079 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:12.008+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1750187610 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:12.018+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:12.020+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:12.020+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:52:12.020+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:52:12.022+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:12.022+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:12.023+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd133b3]
2025-12-26T09:52:12.024+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ac97]
2025-12-26T09:52:12.026+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:12.026+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:12.033+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d6c1bd] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:12.034+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fabb90d] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:12.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1953441439 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:12.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:12.036+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:12.039+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@973643387 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:52:12.041+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:12.042+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e4afd7a]
2025-12-26T09:52:12.042+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@759d5ce2]
2025-12-26T09:52:12.043+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:12.043+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:12.047+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:12.049+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:12.049+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:12.050+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d33fb5] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:12.051+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a79395] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:12.052+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:12.053+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1263250872 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:12.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:12.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@507688207 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:12.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d6c1bd]
2025-12-26T09:52:12.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:12.056+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fabb90d]
2025-12-26T09:52:12.057+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:12.057+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:12.057+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:12.058+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:12.058+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:12.058+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-26T09:52:12.059+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-26T09:52:12.061+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:12.067+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:12.071+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:12.075+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:12.076+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d33fb5]
2025-12-26T09:52:12.076+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a79395]
2025-12-26T09:52:12.076+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:12.077+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:12.077+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cff825d] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:12.081+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b6fdb3] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:12.081+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2008692960 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:12.081+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1244722155 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:12.083+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:12.083+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:12.084+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:12.084+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:12.088+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:12.088+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:12.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cff825d]
2025-12-26T09:52:12.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b6fdb3]
2025-12-26T09:52:12.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:12.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:12.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45e2309b] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:12.090+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d2ed45] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:12.090+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@636464912 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:12.090+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1498009769 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:12.091+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:12.091+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:12.091+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:12.092+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:12.096+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:12.096+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:12.098+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45e2309b]
2025-12-26T09:52:12.098+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d2ed45]
2025-12-26T09:52:12.099+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:12.099+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:12.100+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:52:12.101+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:52:12.102+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:12.104+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:15.312+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/2
2025-12-26T09:52:15.312+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/2
2025-12-26T09:52:15.317+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/2
2025-12-26T09:52:15.321+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/2
2025-12-26T09:52:15.323+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/2
2025-12-26T09:52:15.327+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/2", parameters={}
2025-12-26T09:52:15.318+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/2
2025-12-26T09:52:15.333+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-26T09:52:15.337+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/2
2025-12-26T09:52:15.340+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:15.340+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/2
2025-12-26T09:52:15.341+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11a9c83a] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:15.341+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/2", parameters={}
2025-12-26T09:52:15.342+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-26T09:52:15.352+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:15.353+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6164ac] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:15.353+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1937174389 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:52:15.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-26T09:52:15.357+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:15.359+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1134963548 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:15.360+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-26T09:52:15.364+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:15.361+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-26T09:52:15.367+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11a9c83a]
2025-12-26T09:52:15.368+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-26T09:52:15.368+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:15.369+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6164ac]
2025-12-26T09:52:15.369+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc50f27] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:15.369+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:15.371+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1586519416 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:52:15.372+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54de034f] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:15.372+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-26T09:52:15.373+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@74377992 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:15.373+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:15.374+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-26T09:52:15.375+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:15.388+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-26T09:52:15.388+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-26T09:52:15.389+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc50f27]
2025-12-26T09:52:15.391+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54de034f]
2025-12-26T09:52:15.392+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:15.392+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:15.392+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fc4ceb1] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:15.393+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9ce1403] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:15.393+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2055035481 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:52:15.399+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@758037006 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:15.399+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-26T09:52:15.400+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-26T09:52:15.402+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:15.403+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:15.427+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-26T09:52:15.427+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-26T09:52:15.428+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fc4ceb1]
2025-12-26T09:52:15.431+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9ce1403]
2025-12-26T09:52:15.431+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:15.432+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aae6c2f] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:15.432+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:15.437+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1446d813] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:15.437+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1591516469 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:52:15.438+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-26T09:52:15.438+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@790809335 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:15.440+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:15.442+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-26T09:52:15.446+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:15.456+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-26T09:52:15.457+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-26T09:52:15.457+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aae6c2f]
2025-12-26T09:52:15.457+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1446d813]
2025-12-26T09:52:15.459+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:15.459+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:15.460+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@103d4811] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:15.460+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76fe22ff] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:15.461+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701202733 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:52:15.470+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1415248499 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:15.470+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:15.471+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:15.472+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:15.473+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:15.477+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:15.477+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:15.484+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@103d4811]
2025-12-26T09:52:15.484+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76fe22ff]
2025-12-26T09:52:15.486+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:15.486+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:15.490+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=2, drafterId=2, re (truncated)...]
2025-12-26T09:52:15.490+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=2, drafterId=2, re (truncated)...]
2025-12-26T09:52:15.493+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:15.512+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:16.558+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:52:16.559+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:16.559+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:52:16.559+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:16.571+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:52:16.573+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:52:16.573+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:16.574+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:16.580+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:52:16.580+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:52:16.593+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:52:16.588+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:52:16.591+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:52:16.594+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:52:16.597+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:52:16.598+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:16.599+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:16.604+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:52:16.605+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:52:16.606+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.601+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:52:16.607+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:52:16.603+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:52:16.604+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:52:16.614+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:52:16.607+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@595caa28] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.609+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.619+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76865b1b] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.612+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.615+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.621+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5ed28f] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.621+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316277bc] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.636+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1110698744 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:16.636+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025465190 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:16.636+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1929478110 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:16.636+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@533210019 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:16.637+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:52:16.637+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:16.638+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:16.638+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:52:16.639+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:16.639+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:16.639+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:16.641+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:16.645+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:16.645+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:16.645+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-26T09:52:16.650+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5ed28f]
2025-12-26T09:52:16.650+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.647+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76865b1b]
2025-12-26T09:52:16.650+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316277bc]
2025-12-26T09:52:16.651+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25cb8991] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.652+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-26T09:52:16.652+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.652+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.653+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@890295000 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:16.653+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@595caa28]
2025-12-26T09:52:16.653+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cfbe03b] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.654+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b8116f2] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.656+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:16.656+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.657+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1644732569 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:16.657+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1506593158 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:16.657+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:16.658+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490f3bc9] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.658+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:16.659+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:16.666+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@769145510 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:16.667+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:16.670+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:16.670+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:16.671+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:16.673+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:16.674+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25cb8991]
2025-12-26T09:52:16.674+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:16.675+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.676+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:16.677+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cfbe03b]
2025-12-26T09:52:16.677+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72f9e7c] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.678+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:16.679+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b8116f2]
2025-12-26T09:52:16.682+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.685+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127632393 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:16.686+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490f3bc9]
2025-12-26T09:52:16.686+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.687+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8a8fb3] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.687+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:16.687+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.688+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65278070] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.688+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@140725953 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:16.689+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-26T09:52:16.689+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@707b4661] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.689+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:16.689+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1453468832 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:16.691+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1083898580 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:16.692+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:52:16.698+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:16.699+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:16.700+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:16.701+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72f9e7c]
2025-12-26T09:52:16.701+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:16.702+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-26T09:52:16.703+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.704+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693cbcd7] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.705+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:16.705+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@312148978 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:52:16.706+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8a8fb3]
2025-12-26T09:52:16.706+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:16.707+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.707+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:16.707+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-26T09:52:16.708+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:16.709+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bc751c8] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.709+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65278070]
2025-12-26T09:52:16.717+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@75479060 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:16.709+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@707b4661]
2025-12-26T09:52:16.717+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.718+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:16.718+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:16.719+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.719+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cda0d67] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.720+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:16.720+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693cbcd7]
2025-12-26T09:52:16.720+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41494698] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.722+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1428629644 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:16.723+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:16.724+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1797998750 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:16.743+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:16.748+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:16.746+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-26T09:52:16.746+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:16.750+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:16.750+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:16.752+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:16.768+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bc751c8]
2025-12-26T09:52:16.770+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-26T09:52:16.772+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.774+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cda0d67]
2025-12-26T09:52:16.774+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7807b324] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.774+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.775+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@155186429 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:16.775+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c1a9fc] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.776+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:16.777+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:16.782+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1303134102 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:16.782+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41494698]
2025-12-26T09:52:16.782+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:16.782+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:16.783+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:16.784+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:16.785+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-26T09:52:16.787+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:16.791+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:16.793+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7807b324]
2025-12-26T09:52:16.793+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:16.793+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.794+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c1a9fc]
2025-12-26T09:52:16.795+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218867ce] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.797+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.799+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@de59a9e] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.799+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1691582024 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:16.799+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@301423767 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:16.800+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:16.800+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:16.800+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:16.801+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long), 1(Long)
2025-12-26T09:52:16.804+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:16.804+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:16.809+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218867ce]
2025-12-26T09:52:16.815+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@de59a9e]
2025-12-26T09:52:16.816+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.818+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:16.818+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28e86950] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.818+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fe6fc3] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:16.818+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1253891476 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:16.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@636368040 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:16.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:16.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:16.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:16.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:16.822+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:16.822+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:16.822+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28e86950]
2025-12-26T09:52:16.823+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fe6fc3]
2025-12-26T09:52:16.823+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:16.824+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:16.824+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:52:16.824+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:52:16.825+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:16.825+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:19.989+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T09:52:19.989+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T09:52:19.995+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T09:52:19.996+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T09:52:19.998+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/approvers
2025-12-26T09:52:19.998+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/approvers
2025-12-26T09:52:20.001+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T09:52:20.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T09:52:20.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T09:52:20.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T09:52:20.005+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T09:52:20.004+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:20.006+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60a52b61] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:20.005+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T09:52:20.009+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:20.014+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@114d5a94] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:20.018+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1856209364 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:20.020+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T09:52:20.022+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T09:52:20.024+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@396239554 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:20.026+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T09:52:20.027+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T09:52:20.037+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-26T09:52:20.039+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60a52b61]
2025-12-26T09:52:20.040+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-26T09:52:20.041+09:00  INFO 23784 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-26T09:52:20.042+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@114d5a94]
2025-12-26T09:52:20.046+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:20.047+09:00  INFO 23784 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-26T09:52:20.047+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-26T09:52:20.048+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:20.048+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:20.049+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-26T09:52:20.051+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:31.041+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/create
2025-12-26T09:52:31.048+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/create
2025-12-26T09:52:31.050+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/create
2025-12-26T09:52:31.052+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/create
2025-12-26T09:52:31.052+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/create", parameters={}
2025-12-26T09:52:31.053+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#createExpense(ExpenseReportDto)
2025-12-26T09:52:31.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=2, reportDate=2025-12-26, title=test2, totalAmount= (truncated)...]
2025-12-26T09:52:31.055+09:00  INFO 23784 --- [http-nio-8080-exec-3] c.i.b.controller.ExpenseController       : 지출결의서 생성 요청 - drafterId: 2, currentUserId: 2, title: test2, totalAmount: 33333
2025-12-26T09:52:31.073+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:31.074+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f186e]
2025-12-26T09:52:31.081+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1938620933 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will be managed by Spring
2025-12-26T09:52:31.082+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:31.085+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:31.088+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:31.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f186e]
2025-12-26T09:52:31.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f186e] from current transaction
2025-12-26T09:52:31.091+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.insertExpenseReport            : ==>  Preparing: INSERT INTO expense_report_tb ( drafter_id, report_date, title, total_amount, status, payment_req_date, is_secret, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-26T09:52:31.093+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.insertExpenseReport            : ==> Parameters: 2(Long), 2025-12-26(LocalDate), test2(String), 33333(Long), WAIT(String), 2025-12-26(LocalDate), false(Boolean), 1(Long)
2025-12-26T09:52:31.104+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.insertExpenseReport            : <==    Updates: 1
2025-12-26T09:52:31.105+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f186e]
2025-12-26T09:52:31.106+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.backend.service.ExpenseService       : 상세 항목 저장 시작 - 항목 수: 1
2025-12-26T09:52:31.107+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f186e] from current transaction
2025-12-26T09:52:31.108+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-26T09:52:31.109+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 3(Long), 식대(String), (String), 33333(Long), (String), 1(Long)
2025-12-26T09:52:31.155+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-26T09:52:31.155+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f186e]
2025-12-26T09:52:31.159+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.backend.service.ExpenseService       : 상세 항목 저장 완료
2025-12-26T09:52:31.163+09:00  INFO 23784 --- [http-nio-8080-exec-3] c.i.backend.service.ExpenseService       : 지출결의서 생성 완료 - expenseReportId: 3
2025-12-26T09:52:31.164+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f186e]
2025-12-26T09:52:31.184+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f186e]
2025-12-26T09:52:31.184+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f186e]
2025-12-26T09:52:31.208+09:00  INFO 23784 --- [http-nio-8080-exec-3] c.i.b.controller.ExpenseController       : 지출결의서 생성 완료 - expenseId: 3
2025-12-26T09:52:31.210+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:31.215+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=기안서 저장 성공, data=3)]
2025-12-26T09:52:31.218+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:31.225+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/3/approval-lines
2025-12-26T09:52:31.230+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/3/approval-lines
2025-12-26T09:52:31.236+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/3/approval-lines
2025-12-26T09:52:31.236+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/3/approval-lines
2025-12-26T09:52:31.237+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/3/approval-lines", parameters={}
2025-12-26T09:52:31.237+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#setApprovalLines(Long, ApprovalLineRequest)
2025-12-26T09:52:31.239+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseController.ApprovalLineRequest(approvalLines=[ApprovalLineDto(approvalLineId=null, expenseRep (truncated)...]
2025-12-26T09:52:31.242+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:31.242+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9]
2025-12-26T09:52:31.243+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1273928266 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will be managed by Spring
2025-12-26T09:52:31.244+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-26T09:52:31.250+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 3(Long), 2(Long), 1(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-26T09:52:31.257+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-26T09:52:31.257+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9]
2025-12-26T09:52:31.258+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9] from current transaction
2025-12-26T09:52:31.259+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-26T09:52:31.261+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 3(Long), 3(Long), 2(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-26T09:52:31.303+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-26T09:52:31.304+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9]
2025-12-26T09:52:31.304+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9] from current transaction
2025-12-26T09:52:31.304+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-26T09:52:31.305+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 3(Long), 4(Long), 3(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-26T09:52:31.308+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-26T09:52:31.308+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9]
2025-12-26T09:52:31.313+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9] from current transaction
2025-12-26T09:52:31.314+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-26T09:52:31.315+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 3(Long), 5(Long), 4(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-26T09:52:31.318+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-26T09:52:31.319+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9]
2025-12-26T09:52:31.319+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.backend.service.ExpenseService       : 결재 라인 저장 완료 - expenseReportId: 3, 라인 수: 4
2025-12-26T09:52:31.320+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9]
2025-12-26T09:52:31.320+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9]
2025-12-26T09:52:31.320+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55bc9]
2025-12-26T09:52:31.334+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:31.335+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재 라인 설정 성공, data=null)]
2025-12-26T09:52:31.336+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:32.274+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/3
2025-12-26T09:52:32.274+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/3
2025-12-26T09:52:32.283+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/3
2025-12-26T09:52:32.283+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/3
2025-12-26T09:52:32.285+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/3
2025-12-26T09:52:32.286+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/3
2025-12-26T09:52:32.286+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/3
2025-12-26T09:52:32.286+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/3", parameters={}
2025-12-26T09:52:32.288+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/3
2025-12-26T09:52:32.288+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-26T09:52:32.289+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/3", parameters={}
2025-12-26T09:52:32.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:32.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-26T09:52:32.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d7d7a85] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:32.292+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:32.299+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ef0ca67] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:32.302+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@963602913 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:32.303+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722546558 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:32.306+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-26T09:52:32.307+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-26T09:52:32.307+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 3(Long), 1(Long)
2025-12-26T09:52:32.308+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 3(Long), 1(Long)
2025-12-26T09:52:32.314+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-26T09:52:32.314+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-26T09:52:32.321+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ef0ca67]
2025-12-26T09:52:32.322+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d7d7a85]
2025-12-26T09:52:32.323+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:32.324+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:32.326+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3765ee56] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:32.334+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc919db] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:32.334+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@738066405 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:32.335+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@289270708 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:32.335+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-26T09:52:32.336+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-26T09:52:32.336+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 3(Long), 1(Long)
2025-12-26T09:52:32.337+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 3(Long), 1(Long)
2025-12-26T09:52:32.353+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-26T09:52:32.353+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-26T09:52:32.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3765ee56]
2025-12-26T09:52:32.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc919db]
2025-12-26T09:52:32.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:32.357+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:32.357+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@639a19ab] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:32.358+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fe43899] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:32.358+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2073386192 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:32.359+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@437711743 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:32.360+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-26T09:52:32.363+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-26T09:52:32.367+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 3(Long), 1(Long)
2025-12-26T09:52:32.367+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 3(Long), 1(Long)
2025-12-26T09:52:32.370+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-26T09:52:32.370+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-26T09:52:32.370+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@639a19ab]
2025-12-26T09:52:32.371+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fe43899]
2025-12-26T09:52:32.371+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:32.372+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:32.372+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b803d0b] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:32.373+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d859fad] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:32.374+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@409222801 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:32.374+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@871059572 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:32.374+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-26T09:52:32.374+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-26T09:52:32.375+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 3(Long), 1(Long)
2025-12-26T09:52:32.376+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 3(Long), 1(Long)
2025-12-26T09:52:32.384+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-26T09:52:32.385+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-26T09:52:32.388+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d859fad]
2025-12-26T09:52:32.390+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b803d0b]
2025-12-26T09:52:32.391+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:32.391+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:32.391+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cbfdead] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:32.392+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a82ea3f] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:32.393+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1830176352 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:32.399+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1078000129 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:32.399+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:32.401+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:32.401+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:32.402+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:32.405+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:32.405+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:32.407+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cbfdead]
2025-12-26T09:52:32.407+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a82ea3f]
2025-12-26T09:52:32.408+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:32.409+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:32.409+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=3, drafterId=2, re (truncated)...]
2025-12-26T09:52:32.409+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=3, drafterId=2, re (truncated)...]
2025-12-26T09:52:32.411+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:32.415+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:36.165+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:52:36.165+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:52:36.165+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:36.166+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:36.182+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:52:36.183+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:36.183+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:52:36.185+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:36.191+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:52:36.197+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:52:36.200+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T09:52:36.202+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:52:36.202+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:52:36.203+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:36.206+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:52:36.207+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:52:36.207+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T09:52:36.208+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:52:36.208+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:52:36.209+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:52:36.209+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T09:52:36.209+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:52:36.209+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:52:36.210+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:52:36.213+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.214+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48133f44] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.211+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.212+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.213+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.216+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bcc48dc] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.220+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6ec562] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.221+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f31d11d] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.223+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@262554749 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:36.224+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:52:36.224+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:36.225+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@188913586 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:36.232+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:36.232+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1280903067 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:36.232+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@872666939 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:52:36.236+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:36.237+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:36.237+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:52:36.238+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:36.239+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T09:52:36.240+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T09:52:36.242+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48133f44]
2025-12-26T09:52:36.243+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.244+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d02fa83] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.247+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@231195993 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:36.288+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:36.289+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:36.248+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T09:52:36.249+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T09:52:36.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6ec562]
2025-12-26T09:52:36.291+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.291+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e366d1a] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.249+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T09:52:36.295+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f31d11d]
2025-12-26T09:52:36.290+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bcc48dc]
2025-12-26T09:52:36.291+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1990733444 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:52:36.296+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.297+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.298+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:36.348+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15d48a24] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.348+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:36.349+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.351+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:36.352+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1013008274 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:36.352+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d02fa83]
2025-12-26T09:52:36.353+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@739027750 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:36.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:36.355+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.357+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:36.368+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:36.388+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf3fa81] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.388+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:36.390+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:36.393+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@642762622 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:36.396+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e366d1a]
2025-12-26T09:52:36.399+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:36.399+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:36.401+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.401+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T09:52:36.407+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:36.409+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15d48a24]
2025-12-26T09:52:36.410+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@115c7a1] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.413+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d]
2025-12-26T09:52:36.413+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.415+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1553347620 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:52:36.416+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.417+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cbc59d7] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.435+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:36.435+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@346f5f16] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.437+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:36.438+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@487089102 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:36.439+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T09:52:36.440+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1672714428 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:36.440+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf3fa81]
2025-12-26T09:52:36.442+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:36.442+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:36.442+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.446+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T09:52:36.447+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T09:52:36.449+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a485a0c] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.451+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:52:36.453+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@163353654 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:52:36.454+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@115c7a1]
2025-12-26T09:52:36.454+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T09:52:36.454+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T09:52:36.455+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:36.455+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.456+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cbc59d7]
2025-12-26T09:52:36.456+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@346f5f16]
2025-12-26T09:52:36.457+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:36.458+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7376ce8b] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.458+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.459+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.460+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1550923659 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:52:36.464+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140e1736] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.466+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:36.466+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba2c5f6] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.466+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:36.467+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1513260673 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:36.467+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a485a0c]
2025-12-26T09:52:36.468+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897299067 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:36.468+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:36.468+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:36.469+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:36.469+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:52:36.470+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:36.471+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T09:52:36.472+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:52:36.474+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:36.472+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:36.478+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7376ce8b]
2025-12-26T09:52:36.479+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T09:52:36.480+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:36.480+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140e1736]
2025-12-26T09:52:36.481+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T09:52:36.482+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.484+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:36.487+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T09:52:36.488+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30fc0005] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.490+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba2c5f6]
2025-12-26T09:52:36.492+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1412368011 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:36.492+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.493+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:36.494+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ade3ddb] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.496+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:36.498+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2000606723 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:36.499+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:36.501+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:36.501+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:36.502+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30fc0005]
2025-12-26T09:52:36.502+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.502+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a0d751f] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.504+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@446802035 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:36.504+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:36.504+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:36.504+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ade3ddb]
2025-12-26T09:52:36.505+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T09:52:36.506+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.506+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40435138] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.510+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@723029006 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:36.510+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:52:36.510+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T09:52:36.512+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T09:52:36.514+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a0d751f]
2025-12-26T09:52:36.514+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.515+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107723ad] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.518+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@838015281 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:52:36.519+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:36.519+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:36.522+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T09:52:36.524+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40435138]
2025-12-26T09:52:36.525+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:36.526+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:52:36.526+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107723ad]
2025-12-26T09:52:36.526+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@471347e5] was not registered for synchronization because synchronization is not active
2025-12-26T09:52:36.527+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:36.530+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@495125678 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:52:36.531+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:52:36.532+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:52:36.532+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T09:52:36.532+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:52:36.540+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:52:36.541+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@471347e5]
2025-12-26T09:52:36.542+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:52:36.545+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:52:36.547+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:08.017+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-26T09:53:08.097+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-26T09:53:08.236+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/logout
2025-12-26T09:53:08.268+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-26T09:53:08.438+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-26T09:53:08.495+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-26T09:53:08.547+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-26T09:53:08.551+09:00  INFO 23784 --- [http-nio-8080-exec-2] SECURITY                                 : LOGOUT userId=2
2025-12-26T09:53:08.571+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:08.760+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-26T09:53:08.781+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:11.930+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-26T09:53:11.933+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T09:53:11.934+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T09:53:11.934+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T09:53:11.934+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T09:53:11.935+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T09:53:11.936+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user4, password=123)]
2025-12-26T09:53:11.937+09:00  INFO 23784 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user4
2025-12-26T09:53:11.939+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:11.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66a4010d] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:11.971+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545494581 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:53:11.982+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T09:53:11.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-26T09:53:11.999+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T09:53:12.003+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66a4010d]
2025-12-26T09:53:12.092+09:00  WARN 23784 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 실패 - username: test_user4
2025-12-26T09:53:12.094+09:00  WARN 23784 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_FAILURE username=test_user4
2025-12-26T09:53:12.094+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:12.095+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=아이디 또는 비밀번호가 틀렸습니다., data=null)]
2025-12-26T09:53:12.096+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:13.081+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-26T09:53:13.084+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T09:53:13.085+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T09:53:13.085+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T09:53:13.086+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T09:53:13.086+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T09:53:13.087+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user4, password=1234)]
2025-12-26T09:53:13.088+09:00  INFO 23784 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user4
2025-12-26T09:53:13.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8269a2] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.093+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@947052934 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:53:13.096+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T09:53:13.100+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-26T09:53:13.106+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T09:53:13.115+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8269a2]
2025-12-26T09:53:13.200+09:00  INFO 23784 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 성공 - userId: 5, role: ADMIN, companyId: 1
2025-12-26T09:53:13.201+09:00  INFO 23784 --- [http-nio-8080-exec-6] SECURITY                                 : LOGIN_SUCCESS userId=5 username=test_user4 role=ADMIN
2025-12-26T09:53:13.201+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:13.202+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=5, username=test_user4, password (truncated)...]
2025-12-26T09:53:13.203+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:13.731+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T09:53:13.751+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T09:53:13.775+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T09:53:13.781+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T09:53:13.784+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:53:13.787+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T09:53:13.787+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T09:53:13.789+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T09:53:13.789+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T09:53:13.789+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T09:53:13.802+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T09:53:13.803+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:53:13.796+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T09:53:13.803+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.805+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2766d600] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.804+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:53:13.805+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:53:13.808+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:53:13.807+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:53:13.817+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@657873262 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:53:13.807+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T09:53:13.808+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:53:13.820+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:53:13.820+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:53:13.808+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:53:13.814+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T09:53:13.818+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:53:13.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T09:53:13.821+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T09:53:13.823+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T09:53:13.821+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:53:13.821+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:53:13.822+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T09:53:13.822+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:53:13.823+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T09:53:13.824+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T09:53:13.829+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:53:13.824+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.825+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T09:53:13.825+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T09:53:13.825+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:53:13.831+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T09:53:13.832+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.834+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3196f97d] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.837+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.839+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T09:53:13.839+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:53:13.840+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2766d600]
2025-12-26T09:53:13.840+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665a8ec7] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.841+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d69eb25] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.841+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.842+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:13.847+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:13.850+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727f2a1a] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.850+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1570226070 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:53:13.852+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:13.853+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1265705741 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:53:13.853+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1040716857 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:53:13.853+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T09:53:13.854+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1692107151 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:53:13.854+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:53:13.855+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.855+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:53:13.855+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:53:13.857+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:13.858+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T09:53:13.859+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:53:13.859+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@353b1031] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.862+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:53:13.862+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:53:13.864+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T09:53:13.865+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T09:53:13.873+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T09:53:13.873+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T09:53:13.885+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d69eb25]
2025-12-26T09:53:13.885+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.886+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ffeab4c] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.873+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T09:53:13.888+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665a8ec7]
2025-12-26T09:53:13.873+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@635711072 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f142100] will not be managed by Spring
2025-12-26T09:53:13.880+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T09:53:13.884+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3196f97d]
2025-12-26T09:53:13.887+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1998314260 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:53:13.889+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.890+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:53:13.890+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T09:53:13.890+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T09:53:13.891+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.891+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:53:13.891+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4bec9c] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.892+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:53:13.892+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727f2a1a]
2025-12-26T09:53:13.892+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T09:53:13.892+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e0c9ee6] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.898+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:53:13.899+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1057599922 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:53:13.900+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.902+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@502a10e1] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.900+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T09:53:13.901+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1283259256 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:53:13.902+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:53:13.902+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:53:13.904+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1536089860 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:53:13.905+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:53:13.905+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:13.905+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:53:13.905+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@353b1031]
2025-12-26T09:53:13.905+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:53:13.906+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:53:13.906+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ffeab4c]
2025-12-26T09:53:13.908+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:13.908+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:53:13.909+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:13.915+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:53:13.915+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.918+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:53:13.916+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.917+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:53:13.917+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:53:13.918+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a9b7c15] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.918+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e0c9ee6]
2025-12-26T09:53:13.919+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4469398] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.920+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:53:13.921+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4bec9c]
2025-12-26T09:53:13.922+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:13.922+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1615134913 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:53:13.922+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.923+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@502a10e1]
2025-12-26T09:53:13.924+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.925+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:53:13.925+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1052717027 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:53:13.929+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a0a1ba3] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.929+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.929+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2979239] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.930+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T09:53:13.930+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T09:53:13.931+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1880837546 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:53:13.932+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@724cc884] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.933+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@121483771 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:53:13.934+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T09:53:13.934+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:53:13.935+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1918989108 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:53:13.935+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:53:13.935+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T09:53:13.935+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T09:53:13.936+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:53:13.936+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T09:53:13.936+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a9b7c15]
2025-12-26T09:53:13.936+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T09:53:13.937+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T09:53:13.938+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.939+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4469398]
2025-12-26T09:53:13.939+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:53:13.940+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:13.939+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T09:53:13.940+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b90df4d] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.940+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a0a1ba3]
2025-12-26T09:53:13.941+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:53:13.941+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T09:53:13.941+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2979239]
2025-12-26T09:53:13.941+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@984248318 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:53:13.941+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.942+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@724cc884]
2025-12-26T09:53:13.942+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.942+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:13.946+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:53:13.946+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b43e600] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.947+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.947+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfaaf3] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.948+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:53:13.949+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@31337416 wrapping com.mysql.cj.jdbc.ConnectionImpl@442d0107] will not be managed by Spring
2025-12-26T09:53:13.949+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33e7ac85] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.949+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2080898759 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:53:13.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:53:13.950+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@670784149 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:53:13.951+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T09:53:13.951+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:53:13.952+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:53:13.952+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T09:53:13.952+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T09:53:13.952+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:53:13.953+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b90df4d]
2025-12-26T09:53:13.954+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:53:13.954+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.954+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b43e600]
2025-12-26T09:53:13.955+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@461f2314] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.955+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T09:53:13.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:53:13.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:13.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@990438957 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:53:13.957+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfaaf3]
2025-12-26T09:53:13.957+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33e7ac85]
2025-12-26T09:53:13.957+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T09:53:13.958+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:53:13.958+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.959+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:13.959+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:13.964+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:53:13.964+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b9dbbfd] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.965+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T09:53:13.972+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@80373327 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:53:13.973+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:13.974+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:53:13.975+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:53:13.978+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@461f2314]
2025-12-26T09:53:13.980+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:53:13.980+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.981+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29f5282a] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.982+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@382577027 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:53:13.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:53:13.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:53:13.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T09:53:13.983+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b9dbbfd]
2025-12-26T09:53:13.984+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.984+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@289ed26f] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.985+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2114635474 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:53:13.985+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T09:53:13.985+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T09:53:13.985+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T09:53:13.985+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29f5282a]
2025-12-26T09:53:13.986+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.986+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d123f46] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.987+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489091254 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:53:13.987+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T09:53:13.988+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:53:13.988+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@289ed26f]
2025-12-26T09:53:13.988+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:53:13.988+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:13.989+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c563548] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:13.991+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1921353479 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:53:13.991+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:53:13.991+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T09:53:13.991+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d123f46]
2025-12-26T09:53:13.991+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T09:53:13.992+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:13.996+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:53:13.997+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T09:53:13.997+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:14.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c563548]
2025-12-26T09:53:14.002+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:14.004+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T09:53:14.005+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:16.015+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T09:53:16.016+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T09:53:16.023+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:53:16.024+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T09:53:16.025+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T09:53:16.034+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:53:16.034+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T09:53:16.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:53:16.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T09:53:16.035+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:53:16.036+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T09:53:16.037+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:16.038+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T09:53:16.038+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441fa381] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:16.038+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:16.039+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260d1a46] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:16.042+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1508717821 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:53:16.042+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@309941387 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:53:16.048+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:53:16.049+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:53:16.050+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:53:16.051+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:53:16.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:53:16.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:53:16.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260d1a46]
2025-12-26T09:53:16.054+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441fa381]
2025-12-26T09:53:16.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:16.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:16.055+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T09:53:16.056+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T09:53:16.057+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:16.062+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:16.068+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T09:53:16.071+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T09:53:16.071+09:00 DEBUG 23784 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T09:53:16.071+09:00 DEBUG 23784 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T09:53:16.082+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T09:53:16.084+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:53:16.086+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T09:53:16.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T09:53:16.089+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T09:53:16.090+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T09:53:16.091+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:53:16.101+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T09:53:16.104+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T09:53:16.102+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:53:16.103+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T09:53:16.108+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T09:53:16.105+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T09:53:16.106+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:53:16.107+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:53:16.114+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T09:53:16.115+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:53:16.117+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:53:16.117+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:53:16.118+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:53:16.121+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:53:16.122+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:53:16.122+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:16.123+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T09:53:16.123+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:53:16.125+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:16.128+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:16.131+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:16.130+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:16.130+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:16.131+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c99f4d6] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:16.132+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ace08fc] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:16.132+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a1e6614] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:16.133+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:16.135+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1194302104 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:53:16.138+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:16.138+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:53:16.139+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f723ee2] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:16.141+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794433509 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:53:16.145+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:53:16.145+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@781477184 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:53:16.147+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:53:16.148+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:53:16.149+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@677375303 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:53:16.150+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:53:16.150+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:53:16.150+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:53:16.156+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:53:16.158+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:53:16.164+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ace08fc]
2025-12-26T09:53:16.218+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:16.219+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c96e754] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:16.165+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:53:16.222+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f723ee2]
2025-12-26T09:53:16.222+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:16.167+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:53:16.220+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1723178962 wrapping com.mysql.cj.jdbc.ConnectionImpl@20e90d06] will not be managed by Spring
2025-12-26T09:53:16.223+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e844c54] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:16.223+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c99f4d6]
2025-12-26T09:53:16.224+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:53:16.225+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@541058120 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will not be managed by Spring
2025-12-26T09:53:16.225+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:16.226+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:53:16.284+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:53:16.329+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:53:16.335+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690d0c8c] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:16.336+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a1e6614]
2025-12-26T09:53:16.337+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:53:16.337+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1091061467 wrapping com.mysql.cj.jdbc.ConnectionImpl@507d677] will not be managed by Spring
2025-12-26T09:53:16.338+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:16.344+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:53:16.345+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f76cdbd] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:16.346+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T09:53:16.346+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1075806848 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:53:16.347+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T09:53:16.349+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T09:53:16.351+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:53:16.354+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c96e754]
2025-12-26T09:53:16.355+09:00  INFO 23784 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:53:16.358+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T09:53:16.360+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:53:16.364+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T09:53:16.365+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:16.366+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690d0c8c]
2025-12-26T09:53:16.367+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e844c54]
2025-12-26T09:53:16.367+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f76cdbd]
2025-12-26T09:53:16.367+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:53:16.368+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:16.369+09:00  INFO 23784 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:53:16.372+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:16.373+09:00 DEBUG 23784 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:16.375+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:53:16.399+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:16.400+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T09:53:16.420+09:00 DEBUG 23784 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:16.414+09:00 DEBUG 23784 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:16.419+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:53:16.433+09:00 DEBUG 23784 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:54.200+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/1/company/1/approver?isApprover=true
2025-12-26T09:53:54.341+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/1/company/1/approver?isApprover=true
2025-12-26T09:53:54.430+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/1/company/1/approver
2025-12-26T09:53:54.482+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/1/company/1/approver?isApprover=true
2025-12-26T09:53:54.495+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/1/company/1/approver?isApprover=true", parameters={masked}
2025-12-26T09:53:54.502+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateApproverStatus(Long, Long, Boolean)
2025-12-26T09:53:54.523+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:54.530+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:54.574+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:54.574+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66734efe]
2025-12-26T09:53:54.578+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1668150860 wrapping com.mysql.cj.jdbc.ConnectionImpl@55630ecf] will be managed by Spring
2025-12-26T09:53:54.579+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:53:54.585+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long)
2025-12-26T09:53:54.592+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 2
2025-12-26T09:53:54.598+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66734efe]
2025-12-26T09:53:54.604+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66734efe] from current transaction
2025-12-26T09:53:54.619+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.updateApproverStatus  : ==>  Preparing: UPDATE user_company_tb SET is_approver = ?, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-26T09:53:54.621+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.updateApproverStatus  : ==> Parameters: true(Boolean), 1(Long), 1(Long)
2025-12-26T09:53:54.659+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.updateApproverStatus  : <==    Updates: 1
2025-12-26T09:53:54.665+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66734efe]
2025-12-26T09:53:54.667+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66734efe]
2025-12-26T09:53:54.672+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66734efe]
2025-12-26T09:53:54.674+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66734efe]
2025-12-26T09:53:54.722+09:00  INFO 23784 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 결재자 지정 변경 - operatorId: 5, userId: 1, companyId: 1, isApprover: true
2025-12-26T09:53:54.733+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:54.737+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자로 지정되었습니다., data=null)]
2025-12-26T09:53:54.739+09:00 DEBUG 23784 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T09:53:54.782+09:00 DEBUG 23784 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T09:53:54.800+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T09:53:54.806+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T09:53:54.809+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T09:53:54.813+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T09:53:54.816+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T09:53:54.819+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:54.820+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T09:53:54.831+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:54.835+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39aa4c4d] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:54.882+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1173319526 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:53:54.889+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T09:53:54.891+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T09:53:54.914+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T09:53:54.917+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39aa4c4d]
2025-12-26T09:53:54.918+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T09:53:54.919+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21265378] was not registered for synchronization because synchronization is not active
2025-12-26T09:53:54.920+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1733236803 wrapping com.mysql.cj.jdbc.ConnectionImpl@d1b891a] will not be managed by Spring
2025-12-26T09:53:54.920+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T09:53:54.923+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T09:53:54.933+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T09:53:54.935+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21265378]
2025-12-26T09:53:54.939+09:00  INFO 23784 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T09:53:54.940+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T09:53:54.954+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T09:53:54.956+09:00 DEBUG 23784 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:00:04.286+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-26T10:00:04.288+09:00 DEBUG 23784 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T10:00:04.681+09:00  INFO 23784 --- [http-nio-8080-exec-5] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [MGLNDD_210.119.78.233_80800x0a...]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:402) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-26T10:03:13.981+09:00  INFO 3076 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 3076 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-26T10:03:13.989+09:00 DEBUG 3076 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-26T10:03:14.018+09:00  INFO 3076 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-26T10:03:15.734+09:00 DEBUG 3076 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-26T10:03:15.745+09:00 DEBUG 3076 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-26T10:03:16.085+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-26T10:03:16.087+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-26T10:03:16.087+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-26T10:03:16.090+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-26T10:03:16.092+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-26T10:03:16.092+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-26T10:03:16.094+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-26T10:03:16.114+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-26T10:03:16.118+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-26T10:03:16.125+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-26T10:03:16.128+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-26T10:03:16.131+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-26T10:03:16.135+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-26T10:03:16.139+09:00 DEBUG 3076 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-26T10:03:17.284+09:00  INFO 3076 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:03:17.340+09:00  INFO 3076 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:03:17.351+09:00  INFO 3076 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-26T10:03:17.613+09:00  INFO 3076 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:03:17.621+09:00  INFO 3076 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3504 ms
2025-12-26T10:03:17.767+09:00 DEBUG 3076 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-26T10:03:17.772+09:00 DEBUG 3076 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-26T10:03:18.306+09:00 DEBUG 3076 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-26T10:03:18.429+09:00 DEBUG 3076 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-26T10:03:18.463+09:00 DEBUG 3076 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-26T10:03:18.563+09:00 DEBUG 3076 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-26T10:03:18.613+09:00 DEBUG 3076 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-26T10:03:18.649+09:00 DEBUG 3076 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-26T10:03:18.711+09:00 DEBUG 3076 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-26T10:03:19.699+09:00 DEBUG 3076 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 88 mappings in 'requestMappingHandlerMapping'
2025-12-26T10:03:19.849+09:00 DEBUG 3076 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T10:03:19.914+09:00  WARN 3076 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 1480b8bd-d2d4-4e84-b4b2-0564f556d80f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-26T10:03:19.955+09:00  INFO 3076 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-26T10:03:20.125+09:00 DEBUG 3076 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T10:03:20.272+09:00 DEBUG 3076 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T10:03:20.380+09:00 DEBUG 3076 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T10:03:20.391+09:00 DEBUG 3076 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-26T10:03:21.038+09:00  INFO 3076 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:03:21.093+09:00  INFO 3076 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.048 seconds (process running for 8.784)
2025-12-26T10:03:25.423+09:00  INFO 3076 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:03:25.444+09:00  INFO 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:03:25.449+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T10:03:25.451+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T10:03:25.455+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T10:03:25.466+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3feebf9c
2025-12-26T10:03:25.469+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3e98b933
2025-12-26T10:03:25.473+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T10:03:25.475+09:00  INFO 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 27 ms
2025-12-26T10:03:25.537+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:25.537+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:03:25.537+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:25.537+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:03:25.538+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:03:25.538+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:03:25.635+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:03:25.636+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:25.637+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:03:25.640+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:03:25.681+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:25.695+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:03:26.112+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:03:26.112+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:03:26.112+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:03:26.112+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:03:26.112+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:03:26.112+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:03:26.135+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:03:26.135+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:26.135+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:26.135+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:03:26.138+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:03:26.139+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:03:26.149+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:03:26.149+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:03:26.154+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:03:26.155+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:03:26.155+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:03:26.157+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:03:26.160+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:03:26.169+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:03:26.170+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:03:26.171+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:03:26.172+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:03:26.175+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:03:26.226+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:26.226+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:26.241+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:26.241+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:26.285+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c95c98d] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:26.242+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:26.242+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:26.308+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ea172c] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:26.285+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22140c11] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:26.286+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:26.286+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:26.342+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:26.347+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f158974] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:26.304+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316cab4d] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:26.322+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:26.352+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b96d769] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:26.338+09:00  INFO 3076 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:03:27.139+09:00  INFO 3076 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d8af7
2025-12-26T10:03:27.183+09:00  INFO 3076 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:03:27.198+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1174574783 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:27.301+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:03:27.375+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:03:27.521+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:03:27.578+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22140c11]
2025-12-26T10:03:27.675+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1616620351 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:27.677+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:27.695+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:03:27.749+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2be39545] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:27.755+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:03:27.775+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:03:27.788+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ea172c]
2025-12-26T10:03:27.776+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@258780680 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:03:27.797+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:27.813+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ca006b] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:27.797+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732810212 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:27.808+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:03:27.867+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:03:27.882+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:03:27.883+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:03:27.923+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:03:27.928+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:03:27.937+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b96d769]
2025-12-26T10:03:27.938+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316cab4d]
2025-12-26T10:03:27.940+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@150229733 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:03:28.005+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:03:27.999+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:28.004+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.005+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@705883189 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:28.006+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:03:28.021+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:03:28.023+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11370a8] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.024+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:03:28.042+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:03:28.100+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:03:28.097+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:28.130+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c95c98d]
2025-12-26T10:03:28.134+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.134+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1970580726 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:03:28.155+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@323d9022] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.155+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:28.157+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:28.158+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:03:28.168+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f158974]
2025-12-26T10:03:28.181+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2141235678 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:28.182+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:28.200+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:28.202+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:28.219+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:03:28.220+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:28.220+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2be39545]
2025-12-26T10:03:28.223+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@624471236 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:03:28.235+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:28.236+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1230530561 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:03:28.237+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.237+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:28.241+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:28.258+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30eb9041] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.262+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:28.267+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:28.276+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:28.301+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ca006b]
2025-12-26T10:03:28.307+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.307+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2035021056 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:28.314+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@379d651a] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.317+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:28.318+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:28.320+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:03:28.323+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@323d9022]
2025-12-26T10:03:28.324+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11370a8]
2025-12-26T10:03:28.329+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:03:28.330+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.330+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143464666 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:03:28.331+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.334+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796f4a0a] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.340+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:03:28.341+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:03:28.351+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24cd453e] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.353+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@655194501 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:03:28.358+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:03:28.358+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30eb9041]
2025-12-26T10:03:28.359+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:03:28.361+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.362+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@171809582 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:28.370+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:03:28.366+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:03:28.369+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71628aa9] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.372+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:03:28.373+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:03:28.374+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@379d651a]
2025-12-26T10:03:28.383+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.384+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb41764] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.383+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@13279424 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:03:28.385+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1002725110 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:03:28.388+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:28.388+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:03:28.389+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:03:28.390+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:28.390+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:03:28.390+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:03:28.392+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796f4a0a]
2025-12-26T10:03:28.396+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24cd453e]
2025-12-26T10:03:28.397+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.397+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.398+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@435a9003] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.399+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bd0231b] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.400+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1080475000 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:03:28.401+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@360344042 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:28.402+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:03:28.403+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:28.404+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:28.405+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:03:28.405+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:28.405+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:03:28.407+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71628aa9]
2025-12-26T10:03:28.412+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb41764]
2025-12-26T10:03:28.416+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:28.417+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.430+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:03:28.440+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fb242ea] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.450+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@940301050 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:03:28.476+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:28.452+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:28.466+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:28.478+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:28.479+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bd0231b]
2025-12-26T10:03:28.481+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:28.499+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:03:28.501+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:28.502+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:28.523+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:03:28.523+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fb242ea]
2025-12-26T10:03:28.523+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@435a9003]
2025-12-26T10:03:28.527+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.532+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.532+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c3d7de8] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.532+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f1557b8] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.533+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1854863137 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:03:28.535+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1649275810 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:03:28.535+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:28.537+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:03:28.538+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:28.539+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:03:28.545+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:28.547+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:03:28.553+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c3d7de8]
2025-12-26T10:03:28.554+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f1557b8]
2025-12-26T10:03:28.555+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.556+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.557+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441ef7d0] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.559+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2882d083] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.564+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@590024838 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:03:28.565+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@488630972 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:03:28.566+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:03:28.567+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:28.568+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:03:28.569+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:28.575+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:28.577+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:03:28.586+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2882d083]
2025-12-26T10:03:28.587+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441ef7d0]
2025-12-26T10:03:28.588+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:28.589+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:28.591+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c2948b] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:28.598+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:03:28.600+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1776512902 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:03:28.608+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:28.621+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:28.627+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:28.650+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:28.655+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c2948b]
2025-12-26T10:03:28.657+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:28.663+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:03:28.666+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:37.033+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T10:03:37.048+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T10:03:37.055+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/switch-company
2025-12-26T10:03:37.062+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T10:03:37.116+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T10:03:37.140+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T10:03:37.203+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=2, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T10:03:37.213+09:00  INFO 3076 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 2
2025-12-26T10:03:37.214+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:37.219+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4416a1d0] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:37.247+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1275729986 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:37.251+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:03:37.254+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:03:37.286+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:03:37.289+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4416a1d0]
2025-12-26T10:03:37.300+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:37.301+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1579ac]
2025-12-26T10:03:37.303+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@115746139 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will be managed by Spring
2025-12-26T10:03:37.304+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:03:37.307+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:03:37.320+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:03:37.325+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1579ac]
2025-12-26T10:03:37.331+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1579ac] from current transaction
2025-12-26T10:03:37.334+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T10:03:37.334+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 2(Long), 5(Long)
2025-12-26T10:03:37.340+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T10:03:37.340+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1579ac]
2025-12-26T10:03:37.341+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1579ac] from current transaction
2025-12-26T10:03:37.342+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T10:03:37.343+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 2(Long), 5(Long)
2025-12-26T10:03:37.349+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T10:03:37.349+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1579ac]
2025-12-26T10:03:37.352+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1579ac]
2025-12-26T10:03:37.366+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1579ac]
2025-12-26T10:03:37.367+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1579ac]
2025-12-26T10:03:37.430+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:37.431+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e066fc4] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:37.432+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1441016408 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:37.432+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:37.433+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:37.436+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:37.436+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e066fc4]
2025-12-26T10:03:37.437+09:00  INFO 3076 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 2
2025-12-26T10:03:37.439+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:37.450+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T10:03:37.470+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:38.632+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:03:38.633+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:38.635+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:03:38.635+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:03:38.635+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:03:38.636+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:38.651+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:03:38.662+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:03:38.664+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:38.686+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:03:38.670+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:03:38.680+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:03:38.682+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:03:38.698+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies
2025-12-26T10:03:38.682+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:38.701+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:03:38.702+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:03:38.687+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:03:38.689+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:03:38.691+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:03:38.700+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:03:38.703+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:03:38.703+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:03:38.705+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:03:38.706+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:38.706+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:03:38.733+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:03:38.735+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:03:38.737+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:03:38.755+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:03:38.739+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:03:38.741+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:03:38.743+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:03:38.747+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:03:38.751+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:38.757+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:03:38.763+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:38.769+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:03:38.774+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:03:38.775+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:38.798+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1df6198e] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:38.775+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bbc5378] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:38.786+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:38.795+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c56d9d4] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:38.796+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:38.797+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:38.803+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f9989b9] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:38.807+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5f4fff] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:38.820+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:38.822+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:38.827+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@170503640 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:03:38.829+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@443423851 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:03:38.884+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:03:38.834+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@875612571 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:38.868+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@775152095 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:03:38.889+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:03:38.890+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:03:38.869+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598844411 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:03:38.894+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:03:38.870+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9d9cd6] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:38.881+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:03:38.888+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:03:38.888+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:03:38.897+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:03:38.899+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:03:38.901+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:03:38.965+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:03:38.966+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:03:38.966+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@150808372 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:03:38.985+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:03:38.980+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:03:38.981+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:03:38.981+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:03:38.990+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c56d9d4]
2025-12-26T10:03:38.983+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1df6198e]
2025-12-26T10:03:38.984+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bbc5378]
2025-12-26T10:03:38.986+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T10:03:38.987+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f9989b9]
2025-12-26T10:03:38.990+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5f4fff]
2025-12-26T10:03:38.991+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:38.996+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:38.997+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:39.017+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e75762] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:39.003+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:39.004+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:39.009+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41d0427f] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:39.024+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@442475750 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:03:39.030+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:03:39.020+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@475942086 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:03:39.031+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:03:39.021+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T10:03:39.022+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:03:39.023+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:03:39.031+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:03:39.033+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:03:39.035+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:39.038+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:39.042+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:39.055+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:03:39.119+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:03:39.136+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:03:39.137+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:03:39.141+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:03:39.142+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e75762]
2025-12-26T10:03:39.142+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41d0427f]
2025-12-26T10:03:39.148+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:03:39.152+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:39.154+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:39.158+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:03:39.163+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:39.155+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:03:39.156+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:03:39.175+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:39.171+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:39.185+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:39.188+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:39.189+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107cae5e] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:39.197+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1256585920 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:39.210+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:03:39.452+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T10:03:39.538+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T10:03:39.553+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9d9cd6]
2025-12-26T10:03:39.555+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:39.564+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T10:03:39.570+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:39.571+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T10:03:39.587+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107cae5e]
2025-12-26T10:03:39.597+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:39.601+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T10:03:39.618+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:41.853+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:03:41.853+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:03:41.872+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:03:41.875+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:03:41.891+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies
2025-12-26T10:03:41.895+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:03:41.897+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:03:41.897+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies
2025-12-26T10:03:41.898+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:03:41.899+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:03:41.900+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:41.900+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:03:41.900+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5d2075] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:41.906+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:03:41.908+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:41.913+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d560dd1] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:41.918+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@544542994 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:03:41.920+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:03:41.921+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924490894 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:41.923+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:03:41.924+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:03:41.931+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:03:41.938+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:03:41.942+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5d2075]
2025-12-26T10:03:41.950+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:41.951+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:03:41.965+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:03:41.968+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d560dd1]
2025-12-26T10:03:41.971+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:41.975+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:41.999+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:03:41.990+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-26T10:03:41.994+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-26T10:03:42.002+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:42.034+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-26T10:03:42.035+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-26T10:03:42.055+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T10:03:42.057+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T10:03:42.082+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies/2/applications
2025-12-26T10:03:42.085+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T10:03:42.087+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T10:03:42.087+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/company/2
2025-12-26T10:03:42.101+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T10:03:42.103+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T10:03:42.090+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T10:03:42.092+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T10:03:42.101+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:03:42.104+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:03:42.114+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies/2/applications
2025-12-26T10:03:42.120+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/company/2
2025-12-26T10:03:42.121+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:03:42.138+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:42.140+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T10:03:42.150+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T10:03:42.141+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T10:03:42.153+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T10:03:42.142+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:03:42.157+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:42.142+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:42.158+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:42.153+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:03:42.156+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:03:42.158+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecfe2d3] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:42.160+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d591172] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:42.166+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:03:42.166+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:42.167+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@136470233 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:42.168+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:03:42.169+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:42.170+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:03:42.171+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:42.175+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:42.176+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084236399 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:03:42.177+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:03:42.183+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aa870cc] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:42.183+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a788e] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:42.185+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:03:42.187+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:03:42.192+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@531320047 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:03:42.195+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:03:42.196+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1773936238 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:03:42.198+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:03:42.199+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d591172]
2025-12-26T10:03:42.199+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:03:42.200+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:03:42.202+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:03:42.204+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:42.204+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecfe2d3]
2025-12-26T10:03:42.205+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:03:42.206+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@119aa853] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:42.207+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:42.209+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@198506543 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:03:42.211+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63628ff7] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:42.216+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:03:42.216+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@579893934 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:03:42.222+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T10:03:42.223+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:03:42.225+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:03:42.230+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:03:42.233+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T10:03:42.235+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aa870cc]
2025-12-26T10:03:42.236+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a788e]
2025-12-26T10:03:42.237+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:42.238+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cafe84b] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:42.238+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:42.239+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2062442943 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:03:42.246+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T10:03:42.250+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7037ebc8] was not registered for synchronization because synchronization is not active
2025-12-26T10:03:42.273+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T10:03:42.305+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:03:42.321+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@119aa853]
2025-12-26T10:03:42.322+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@111315875 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:03:42.338+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63628ff7]
2025-12-26T10:03:42.353+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T10:03:42.354+09:00  INFO 3076 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T10:03:42.354+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:03:42.355+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:42.368+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T10:03:42.368+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:42.369+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T10:03:42.391+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:03:42.396+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:42.402+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:42.472+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T10:03:42.512+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cafe84b]
2025-12-26T10:03:42.579+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:42.633+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T10:03:42.666+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T10:03:42.704+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:42.706+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7037ebc8]
2025-12-26T10:03:42.709+09:00  INFO 3076 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T10:03:42.748+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:42.767+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:03:42.792+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:03:51.385+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/2/companies/2/approve
2025-12-26T10:03:51.400+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/2/companies/2/approve
2025-12-26T10:03:51.422+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/2/companies/2/approve
2025-12-26T10:03:51.473+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/2/companies/2/approve
2025-12-26T10:03:51.562+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/2/companies/2/approve", parameters={}
2025-12-26T10:03:51.601+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUserCompany(Long, Long)
2025-12-26T10:03:51.636+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUserCompany(java.lang.Long,java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:51.644+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUserCompany(java.lang.Long,java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:03:51.645+09:00  INFO 3076 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사 소속 승인 - operatorId: 5, userId: 2, companyId: 2
2025-12-26T10:03:51.652+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:03:51.653+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5]
2025-12-26T10:03:51.654+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1237134957 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will be managed by Spring
2025-12-26T10:03:51.654+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:03:51.655+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:03:51.657+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:03:51.658+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5]
2025-12-26T10:03:51.661+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5] from current transaction
2025-12-26T10:03:51.661+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:03:51.664+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:03:51.668+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:03:51.669+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5]
2025-12-26T10:03:51.669+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5] from current transaction
2025-12-26T10:03:51.670+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.U.countUsersByCompanyId          : ==>  Preparing: SELECT COUNT(DISTINCT uc.user_id) FROM user_company_tb uc WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND (uc.is_active IS NULL OR uc.is_active = 1)
2025-12-26T10:03:51.671+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.U.countUsersByCompanyId          : ==> Parameters: 2(Long)
2025-12-26T10:03:51.678+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.U.countUsersByCompanyId          : <==      Total: 1
2025-12-26T10:03:51.682+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5]
2025-12-26T10:03:51.684+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5] from current transaction
2025-12-26T10:03:51.684+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-26T10:03:51.685+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 2(Long)
2025-12-26T10:03:51.692+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-26T10:03:51.695+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5]
2025-12-26T10:03:51.697+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5] from current transaction
2025-12-26T10:03:51.699+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5]
2025-12-26T10:03:51.699+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5]
2025-12-26T10:03:51.701+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec8bed5]
2025-12-26T10:03:51.706+09:00 ERROR 3076 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사 소속 승인 실패

com.innersignature.backend.exception.BusinessException: 무료 플랜의 최대 사용자 수(3명)에 도달했습니다. 플랜을 업그레이드해주세요.
	at com.innersignature.backend.util.SubscriptionUtil.checkUserLimit(SubscriptionUtil.java:74) ~[classes/:na]
	at com.innersignature.backend.service.UserService.approveUserCompany(UserService.java:693) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.UserService$$SpringCGLIB$$0.approveUserCompany(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.UserController.approveUserCompany(UserController.java:1107) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.UserController$$SpringCGLIB$$0.approveUserCompany(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-26T10:03:51.755+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:03:51.757+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=무료 플랜의 최대 사용자 수(3명)에 도달했습니다. 플랜을 업그레이드해주세요., data=null)]
2025-12-26T10:03:51.759+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:16.508+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-26T10:04:16.519+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-26T10:04:16.524+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/logout
2025-12-26T10:04:16.530+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-26T10:04:16.536+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-26T10:04:16.537+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-26T10:04:16.540+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-26T10:04:16.548+09:00  INFO 3076 --- [http-nio-8080-exec-5] SECURITY                                 : LOGOUT userId=5
2025-12-26T10:04:16.553+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:16.553+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-26T10:04:16.556+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:21.153+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-26T10:04:21.156+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T10:04:21.157+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T10:04:21.157+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T10:04:21.159+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T10:04:21.160+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T10:04:21.162+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-26T10:04:21.164+09:00  INFO 3076 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-26T10:04:21.164+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:21.165+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17b9d004] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:21.170+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@796030447 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:04:21.170+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T10:04:21.171+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-26T10:04:21.174+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T10:04:21.175+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17b9d004]
2025-12-26T10:04:21.271+09:00  INFO 3076 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2025-12-26T10:04:21.272+09:00  INFO 3076 --- [http-nio-8080-exec-10] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-26T10:04:21.273+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:21.273+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-26T10:04:21.276+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:21.739+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:04:21.745+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:04:21.753+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-26T10:04:21.755+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:04:21.757+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:04:21.761+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:04:21.764+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:21.765+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6591b51] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:21.773+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1356292296 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:04:21.790+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:04:21.794+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-26T10:04:21.798+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:04:21.799+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:04:21.803+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:04:21.808+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:04:21.816+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-26T10:04:21.822+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:04:21.834+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:04:21.839+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-26T10:04:21.840+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:04:21.841+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-26T10:04:21.851+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-26T10:04:21.855+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:04:21.855+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-26T10:04:21.866+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:04:21.923+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:04:21.925+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:04:21.928+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:04:21.929+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:04:21.930+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-26T10:04:21.925+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-26T10:04:21.925+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-26T10:04:21.930+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.001+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528ac320] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:21.937+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-26T10:04:21.996+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-26T10:04:21.997+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:04:21.999+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:04:22.001+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-26T10:04:22.021+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:04:22.021+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:04:22.022+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6591b51]
2025-12-26T10:04:22.022+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:04:22.024+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:04:22.029+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:04:22.030+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.030+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:22.030+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@766282924 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:04:22.031+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:04:22.032+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.032+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:04:22.033+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a3dcfe] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.034+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T10:04:22.035+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:04:22.036+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.036+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54cbb014] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.037+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:04:22.044+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:22.055+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:04:22.047+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:04:22.048+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cdfa16e] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.050+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@988310361 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:04:22.084+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:04:22.058+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:04:22.061+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.082+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@431072201 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:04:22.084+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-26T10:04:22.087+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4082f013] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.087+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-26T10:04:22.089+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:04:22.092+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377573750 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:04:22.095+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:04:22.117+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528ac320]
2025-12-26T10:04:22.119+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.115+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:04:22.116+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-26T10:04:22.117+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:04:22.120+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524458b4] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.135+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1107374958 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:04:22.136+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:04:22.136+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T10:04:22.121+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:04:22.140+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:04:22.141+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:04:22.123+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:04:22.144+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:04:22.148+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.152+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:04:22.167+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26addc57] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.168+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@450289081 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:04:22.168+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:04:22.168+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:04:22.169+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:04:22.170+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a3dcfe]
2025-12-26T10:04:22.172+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2123361951 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:04:22.173+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:04:22.175+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54cbb014]
2025-12-26T10:04:22.179+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524458b4]
2025-12-26T10:04:22.179+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cdfa16e]
2025-12-26T10:04:22.181+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:22.182+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:04:22.183+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:04:22.183+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:22.183+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.183+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.183+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:04:22.184+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:04:22.186+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:04:22.186+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@450832f9] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.187+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5568f6e7] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.189+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:22.192+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:22.198+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897143572 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:04:22.200+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1199439090 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:04:22.220+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:04:22.221+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T10:04:22.204+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:04:22.220+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:04:22.233+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-26T10:04:22.234+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:04:22.235+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:04:22.235+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:04:22.235+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:04:22.241+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26addc57]
2025-12-26T10:04:22.244+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:04:22.247+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:04:22.248+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4082f013]
2025-12-26T10:04:22.248+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:22.249+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:04:22.250+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5568f6e7]
2025-12-26T10:04:22.251+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@450832f9]
2025-12-26T10:04:22.251+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.250+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:04:22.250+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:22.250+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:04:22.251+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.251+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c38ac9] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.256+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.257+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:04:22.260+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:22.262+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd91f43] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.263+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@302947320 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:04:22.263+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51cfa981] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.264+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:22.266+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2042783227 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:04:22.269+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:04:22.270+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@561345542 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:04:22.270+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:04:22.271+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:04:22.272+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:04:22.273+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:04:22.277+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T10:04:22.289+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:04:22.289+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:04:22.290+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:04:22.303+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51cfa981]
2025-12-26T10:04:22.304+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd91f43]
2025-12-26T10:04:22.305+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c38ac9]
2025-12-26T10:04:22.306+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:22.306+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.306+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.307+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-26T10:04:22.307+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c2a9855] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.309+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@392820a5] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.316+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:22.316+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@154971028 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:04:22.317+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@631333003 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:04:22.320+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:04:22.322+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:04:22.323+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T10:04:22.324+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:04:22.338+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:04:22.340+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:04:22.340+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@392820a5]
2025-12-26T10:04:22.341+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c2a9855]
2025-12-26T10:04:22.341+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.347+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.348+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a0a748e] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.348+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ae9c520] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.349+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1658802786 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:04:22.350+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772794740 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:04:22.352+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:04:22.353+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:04:22.353+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T10:04:22.354+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:04:22.375+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:04:22.378+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:04:22.397+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ae9c520]
2025-12-26T10:04:22.398+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.400+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278d2a43] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.398+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a0a748e]
2025-12-26T10:04:22.401+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1597325229 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:04:22.426+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.436+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:04:22.440+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38422692] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.442+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T10:04:22.446+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1906674448 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:04:22.448+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:04:22.455+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:04:22.467+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:04:22.473+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278d2a43]
2025-12-26T10:04:22.489+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:22.490+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:04:22.499+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:04:22.501+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38422692]
2025-12-26T10:04:22.502+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:22.505+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:22.506+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3534d33] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:22.508+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@705469821 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:04:22.515+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:04:22.517+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-26T10:04:22.537+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:04:22.552+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3534d33]
2025-12-26T10:04:22.562+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:22.563+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:04:22.569+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:24.004+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:04:24.004+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:04:24.013+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:04:24.015+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:04:24.018+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-26T10:04:24.018+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-26T10:04:24.020+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:04:24.020+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:04:24.022+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:04:24.022+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:04:24.023+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:04:24.024+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:04:24.025+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:24.027+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:24.030+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a4eb879] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:24.030+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f4eca9] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:24.033+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1764039728 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:04:24.033+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319706978 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:04:24.034+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:04:24.035+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:04:24.036+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T10:04:24.037+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T10:04:24.039+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:04:24.039+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:04:24.039+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a4eb879]
2025-12-26T10:04:24.039+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f4eca9]
2025-12-26T10:04:24.041+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:24.041+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:24.041+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-26T10:04:24.041+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-26T10:04:24.042+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:24.046+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:24.052+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T10:04:24.052+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T10:04:24.069+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T10:04:24.069+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T10:04:24.071+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T10:04:24.072+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T10:04:24.081+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-26T10:04:24.084+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-26T10:04:24.086+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T10:04:24.091+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T10:04:24.086+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T10:04:24.088+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T10:04:24.090+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T10:04:24.101+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-26T10:04:24.095+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:04:24.097+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T10:04:24.102+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T10:04:24.103+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-26T10:04:24.103+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:04:24.104+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:04:24.105+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T10:04:24.107+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:04:24.106+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T10:04:24.107+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:04:24.107+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:04:24.108+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:04:24.110+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T10:04:24.113+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:24.113+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:04:24.116+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:24.118+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2570c032] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:24.117+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:04:24.117+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b85c2d0] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:24.118+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:04:24.120+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:04:24.122+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:24.125+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:04:24.125+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27db4b02] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:24.128+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:24.130+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d91a844] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:24.130+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858850295 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:04:24.130+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@589998489 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:04:24.132+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:04:24.131+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1973930000 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:04:24.132+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:04:24.133+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1239563297 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:04:24.136+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T10:04:24.133+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T10:04:24.133+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:04:24.136+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:04:24.139+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T10:04:24.139+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T10:04:24.146+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:04:24.145+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:04:24.148+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2570c032]
2025-12-26T10:04:24.148+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b85c2d0]
2025-12-26T10:04:24.150+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:04:24.151+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:24.151+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:24.153+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f03a98] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:24.153+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:04:24.152+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d91a844]
2025-12-26T10:04:24.153+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5166f82e] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:24.153+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1131833875 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:04:24.154+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27db4b02]
2025-12-26T10:04:24.154+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:24.154+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@704321067 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:04:24.154+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:04:24.155+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:24.156+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26494ada] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:24.155+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@291ac357] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:24.155+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:04:24.156+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T10:04:24.156+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@538928835 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:04:24.164+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:04:24.157+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701078968 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:04:24.162+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T10:04:24.167+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T10:04:24.170+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:04:24.173+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T10:04:24.194+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T10:04:24.211+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f03a98]
2025-12-26T10:04:24.212+09:00  INFO 3076 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T10:04:24.217+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:24.220+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T10:04:24.221+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T10:04:24.225+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@291ac357]
2025-12-26T10:04:24.222+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T10:04:24.223+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:04:24.223+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26494ada]
2025-12-26T10:04:24.228+09:00  INFO 3076 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T10:04:24.229+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5166f82e]
2025-12-26T10:04:24.234+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:24.237+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:24.237+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:24.240+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:24.248+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:04:24.249+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:04:24.251+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:04:24.253+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:24.256+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:24.264+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:30.491+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-26T10:04:30.493+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-26T10:04:30.500+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T10:04:30.500+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T10:04:30.502+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/2/applications
2025-12-26T10:04:30.502+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/2
2025-12-26T10:04:30.503+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T10:04:30.504+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T10:04:30.504+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T10:04:30.506+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T10:04:30.505+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:04:30.506+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:04:30.510+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:04:30.507+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:04:30.513+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:04:30.515+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:04:30.516+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:30.518+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4524fb91] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:30.517+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:30.520+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ee37e9] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:30.524+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1650724683 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:04:30.529+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:04:30.531+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1711973571 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:04:30.534+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T10:04:30.534+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:04:30.539+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-26T10:04:30.540+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:04:30.541+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4524fb91]
2025-12-26T10:04:30.547+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:30.547+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@378bbb8f] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:30.547+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:04:30.549+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@845072821 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:04:30.550+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ee37e9]
2025-12-26T10:04:30.551+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:04:30.552+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:04:30.553+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc9b1e2] was not registered for synchronization because synchronization is not active
2025-12-26T10:04:30.553+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T10:04:30.554+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1243701803 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:04:30.555+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:04:30.562+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T10:04:30.562+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T10:04:30.566+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@378bbb8f]
2025-12-26T10:04:30.567+09:00  INFO 3076 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T10:04:30.568+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:30.568+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:04:30.569+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T10:04:30.569+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:04:30.572+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc9b1e2]
2025-12-26T10:04:30.581+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:04:30.583+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T10:04:30.584+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:04.184+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-26T10:09:04.192+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-26T10:09:04.197+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2025-12-26T10:09:04.201+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-26T10:09:04.208+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-26T10:09:04.209+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-26T10:09:04.211+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-26T10:09:04.240+09:00  INFO 3076 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=1
2025-12-26T10:09:04.242+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:04.244+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-26T10:09:04.245+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:08.774+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-26T10:09:08.778+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T10:09:08.779+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T10:09:08.779+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T10:09:08.779+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T10:09:08.780+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T10:09:08.781+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user4, password=1234)]
2025-12-26T10:09:08.782+09:00  INFO 3076 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user4
2025-12-26T10:09:08.782+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:08.782+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fd04672] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:08.788+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2013378548 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:08.789+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T10:09:08.792+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-26T10:09:08.796+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T10:09:08.797+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fd04672]
2025-12-26T10:09:08.897+09:00  INFO 3076 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 성공 - userId: 5, role: ADMIN, companyId: 2
2025-12-26T10:09:08.897+09:00  INFO 3076 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_SUCCESS userId=5 username=test_user4 role=ADMIN
2025-12-26T10:09:08.898+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:08.899+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=5, username=test_user4, password (truncated)...]
2025-12-26T10:09:08.909+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:09.244+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:09:09.250+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:09:09.258+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies
2025-12-26T10:09:09.260+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:09:09.262+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:09:09.263+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:09:09.264+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:09.265+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cdf691a] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:09.299+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:09:09.305+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:09.306+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:09:09.308+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:09:09.308+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:09.313+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:09:09.316+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@707780589 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:09.325+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:09:09.329+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:09:09.331+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:09:09.331+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:09.334+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:09:09.334+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:09:09.343+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:09.350+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:09:09.355+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:09:09.356+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:09:09.362+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:09:09.363+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:09:09.374+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:09:09.375+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:09:09.377+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:09.378+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:09:09.378+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:09:09.379+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cdf691a]
2025-12-26T10:09:09.379+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:09.383+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:09.380+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:09:09.381+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:09:09.382+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:09:09.383+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:09:09.383+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:09:09.385+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T10:09:09.392+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:09:09.392+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:09:09.399+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:09.394+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:09:09.394+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:09:09.395+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:09:09.397+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:09.399+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:09.399+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b9f5fb8] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:09.400+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:09.401+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:09.401+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:09.409+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:09:09.410+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b579ef6] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:09.413+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:09.415+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ad50455] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:09.416+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28dacc6a] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:09.426+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:09:09.429+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1702212711 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:09:09.441+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802538526 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:09:09.431+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:09.438+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:09:09.441+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1644618927 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:09.441+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:09.441+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:09:09.442+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c65a943] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:09.442+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:09:09.442+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@904841414 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:09:09.443+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:09:09.443+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:09.444+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:09:09.444+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@176210002 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:09.445+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:09:09.446+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:09.446+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:09:09.448+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:09:09.451+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:09.458+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:09.460+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T10:09:09.461+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:09.465+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:09.466+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:09:09.467+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf81bf3] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:09.473+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b9f5fb8]
2025-12-26T10:09:09.474+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:09.480+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bb2542e] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:09.481+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:09:09.481+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:09:09.481+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T10:09:09.482+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2083750197 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:09:09.483+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ad50455]
2025-12-26T10:09:09.483+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@900852705 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:09:09.486+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28dacc6a]
2025-12-26T10:09:09.489+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c65a943]
2025-12-26T10:09:09.490+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:09.492+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:09.493+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:09:09.493+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:09:09.494+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:09.495+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:09.496+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:09.496+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:09:09.497+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T10:09:09.498+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b579ef6]
2025-12-26T10:09:09.498+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9b6bf1] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:09.500+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T10:09:09.503+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:09.509+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:09:09.510+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:09.511+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545824813 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:09:09.512+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T10:09:09.513+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:09.513+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bb2542e]
2025-12-26T10:09:09.514+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:09:09.514+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:09.515+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf81bf3]
2025-12-26T10:09:09.523+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:09.524+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:09.524+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:09.526+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:09.527+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:09:09.529+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T10:09:09.531+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:09.533+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:09.542+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:09:09.542+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9b6bf1]
2025-12-26T10:09:09.543+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:09.543+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:09:09.544+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:10.846+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:09:10.846+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:09:10.849+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:09:10.850+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:09:10.856+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies
2025-12-26T10:09:10.859+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:09:10.859+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies
2025-12-26T10:09:10.873+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:09:10.879+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:09:10.880+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:09:10.883+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:10.882+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:09:10.888+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:09:10.884+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8ead14] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:10.891+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:10.893+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb5d84c] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:10.898+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2111602171 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:10.900+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:09:10.908+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:09:10.908+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@162942133 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:09:10.909+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:09:10.910+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:09:10.911+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:09:10.913+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8ead14]
2025-12-26T10:09:10.913+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:09:10.913+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:10.914+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb5d84c]
2025-12-26T10:09:10.914+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:09:10.915+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:10.917+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:10.919+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:09:10.929+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-26T10:09:10.932+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:10.929+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-26T10:09:10.948+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T10:09:10.948+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T10:09:10.949+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-26T10:09:10.950+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-26T10:09:10.960+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/company/2
2025-12-26T10:09:10.961+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies/2/applications
2025-12-26T10:09:10.963+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T10:09:10.964+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T10:09:10.965+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:09:10.963+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T10:09:10.965+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:10.966+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T10:09:10.967+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:10.974+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:09:10.974+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:10.976+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e4ff5ca] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:10.976+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:09:10.977+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T10:09:10.977+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T10:09:10.978+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:09:10.980+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/company/2
2025-12-26T10:09:10.980+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies/2/applications
2025-12-26T10:09:10.981+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:10.981+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1727271570 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:10.992+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:09:10.982+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T10:09:10.996+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:09:10.983+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T10:09:11.000+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T10:09:10.984+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43891f86] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:10.996+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T10:09:11.009+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:09:11.010+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@440606973 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:09:11.011+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:09:11.011+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:09:11.013+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:09:11.014+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:11.016+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:09:11.023+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:09:11.026+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:11.027+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:09:11.030+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:11.032+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:11.034+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e4ff5ca]
2025-12-26T10:09:11.034+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d375a26] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:11.212+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fec70cd] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:11.261+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:09:11.322+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:11.334+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@845295518 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:11.343+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43891f86]
2025-12-26T10:09:11.343+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc72414] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:11.343+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:09:11.344+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:11.345+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1807565534 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:11.346+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@204c34b6] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:11.346+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:09:11.347+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1523412269 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:09:11.348+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:09:11.350+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@724728342 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:09:11.350+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:09:11.353+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T10:09:11.360+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:09:11.356+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:09:11.360+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:09:11.398+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T10:09:11.416+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fec70cd]
2025-12-26T10:09:11.410+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T10:09:11.411+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:09:11.416+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc72414]
2025-12-26T10:09:11.416+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:11.417+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d375a26]
2025-12-26T10:09:11.417+09:00  INFO 3076 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T10:09:11.419+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5703f096] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:11.421+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:11.422+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T10:09:11.423+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:11.423+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2076543139 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:11.424+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac0e466] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:11.425+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@204c34b6]
2025-12-26T10:09:11.425+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:09:11.426+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:09:11.427+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1380918868 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:09:11.428+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:11.429+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:11.430+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T10:09:11.430+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:09:11.433+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T10:09:11.443+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T10:09:11.444+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:11.449+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T10:09:11.450+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T10:09:11.451+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5703f096]
2025-12-26T10:09:11.453+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac0e466]
2025-12-26T10:09:11.454+09:00  INFO 3076 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T10:09:11.454+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:11.459+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:11.459+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T10:09:11.460+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:09:11.460+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:11.460+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:15.766+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:09:15.770+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:15.771+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:09:15.773+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:09:15.773+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:09:15.774+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:15.811+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:09:15.811+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:15.813+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:09:15.826+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:09:15.814+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:09:15.815+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:15.816+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:09:15.822+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:09:15.831+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:09:15.832+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:09:15.827+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:09:15.828+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:15.833+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:09:15.830+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:09:15.830+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:09:15.839+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:15.832+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:09:15.833+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:09:15.844+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:09:15.833+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:09:15.833+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:09:15.847+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:09:15.838+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:09:15.841+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:09:15.844+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:09:15.849+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:09:15.846+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:15.846+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:09:15.847+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:15.848+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:09:15.849+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:09:15.850+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:15.858+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a34e7c4] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:15.860+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:15.863+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bda929a] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:15.861+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:15.861+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:09:15.862+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:15.863+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:15.864+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:15.871+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:15.874+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a0423d] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:15.874+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:15.876+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55c1c331] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:15.877+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1646841681 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:09:15.878+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@520983466 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:15.882+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:15.878+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10dc207a] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:15.879+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bb85f14] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:15.882+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:09:15.884+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:15.895+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:09:15.899+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@859379444 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:09:15.899+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1455950299 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:09:15.900+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@256179846 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:15.900+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:09:15.900+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1338928485 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:09:15.907+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:09:15.907+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:15.909+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:09:15.909+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:09:15.909+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T10:09:15.910+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:09:15.913+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T10:09:15.913+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:15.924+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a34e7c4]
2025-12-26T10:09:15.926+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bda929a]
2025-12-26T10:09:15.928+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:09:15.931+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:15.932+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:15.939+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ccc365] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:15.940+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T10:09:15.940+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:09:15.941+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@78135 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:15.941+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55c1c331]
2025-12-26T10:09:15.945+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:15.946+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:15.946+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:15.948+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:15.949+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T10:09:15.958+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:15.958+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:09:15.965+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10dc207a]
2025-12-26T10:09:15.959+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:09:15.959+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T10:09:15.967+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:15.973+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a0423d]
2025-12-26T10:09:15.973+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bb85f14]
2025-12-26T10:09:15.976+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@643c185a] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:15.976+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:09:15.977+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:15.977+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:15.978+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@600143671 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:15.979+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ccc365]
2025-12-26T10:09:15.980+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:09:15.980+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T10:09:15.981+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:15.981+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:15.985+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:15.993+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:15.994+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:15.995+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:09:16.009+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:16.025+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:09:16.042+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@643c185a]
2025-12-26T10:09:16.043+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:16.044+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:09:16.045+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:21.891+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T10:09:21.899+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T10:09:21.913+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/switch-company
2025-12-26T10:09:21.927+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T10:09:21.930+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T10:09:21.931+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T10:09:21.932+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=1, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T10:09:21.940+09:00  INFO 3076 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 1
2025-12-26T10:09:21.949+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:21.950+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15d336d0] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:21.960+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1735982746 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:09:21.961+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:09:21.964+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:09:21.968+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:09:21.979+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15d336d0]
2025-12-26T10:09:21.985+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:21.994+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25186317]
2025-12-26T10:09:21.997+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@746808328 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will be managed by Spring
2025-12-26T10:09:21.997+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:09:22.000+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:09:22.007+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:09:22.010+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25186317]
2025-12-26T10:09:22.011+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25186317] from current transaction
2025-12-26T10:09:22.011+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T10:09:22.011+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 1(Long), 5(Long)
2025-12-26T10:09:22.027+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T10:09:22.028+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25186317]
2025-12-26T10:09:22.029+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25186317] from current transaction
2025-12-26T10:09:22.029+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T10:09:22.031+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 1(Long), 5(Long)
2025-12-26T10:09:22.080+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T10:09:22.083+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25186317]
2025-12-26T10:09:22.086+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25186317]
2025-12-26T10:09:22.088+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25186317]
2025-12-26T10:09:22.097+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25186317]
2025-12-26T10:09:22.173+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:22.177+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b6a2d1f] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:22.180+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1145392975 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:09:22.194+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:22.196+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:22.214+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:22.215+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b6a2d1f]
2025-12-26T10:09:22.215+09:00  INFO 3076 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 1
2025-12-26T10:09:22.217+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:22.225+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T10:09:22.227+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:23.766+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:09:23.774+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:23.777+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:09:23.778+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:09:23.780+09:00 DEBUG 3076 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:23.780+09:00 DEBUG 3076 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:09:23.847+09:00 DEBUG 3076 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:09:23.930+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:09:23.947+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:09:23.960+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:09:23.961+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:09:23.961+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:09:23.958+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:09:23.962+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:23.965+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:09:23.981+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:09:23.975+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b2402f] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:23.983+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:09:23.993+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:09:23.994+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.007+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:24.008+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:09:24.009+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:09:24.015+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:09:24.013+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c2d08e] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.016+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:09:24.016+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T10:09:24.017+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:24.026+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:09:24.027+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:09:24.027+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:09:24.028+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:09:24.029+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:09:24.033+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2089582713 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:09:24.048+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:24.038+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:09:24.043+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:24.045+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:09:24.047+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:09:24.049+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:24.061+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:09:24.050+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.058+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@164685100 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:24.065+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:24.060+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:24.061+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.064+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:09:24.065+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe090bb] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.066+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:24.072+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:24.072+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f86329c] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.073+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:09:24.077+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.081+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:09:24.092+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:09:24.094+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@125037ef] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.095+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b2402f]
2025-12-26T10:09:24.096+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.098+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:09:24.098+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57541982 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:24.099+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.100+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b0782c] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.110+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@525361501 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:09:24.111+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c2d08e]
2025-12-26T10:09:24.111+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:09:24.114+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78317d20] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.116+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@117044994 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dba6c8d] will not be managed by Spring
2025-12-26T10:09:24.117+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:09:24.118+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.123+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:09:24.123+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1953555788 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:09:24.125+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:09:24.125+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:09:24.126+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bd46ddc] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.132+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:24.133+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:09:24.134+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@875473674 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:24.134+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:24.140+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:24.141+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@819544118 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:09:24.143+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:09:24.143+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:24.144+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:09:24.144+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe090bb]
2025-12-26T10:09:24.145+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:09:24.145+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:09:24.148+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:09:24.148+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:24.148+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.150+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@125037ef]
2025-12-26T10:09:24.157+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f86329c]
2025-12-26T10:09:24.159+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78317d20]
2025-12-26T10:09:24.159+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd624f5] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.161+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:24.162+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:24.163+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:24.163+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.164+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@892113493 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:24.165+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:09:24.166+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bd46ddc]
2025-12-26T10:09:24.167+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:09:24.175+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T10:09:24.175+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f72999] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.176+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:24.176+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b0782c]
2025-12-26T10:09:24.177+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.178+09:00 DEBUG 3076 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:24.178+09:00 DEBUG 3076 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:24.182+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1155308090 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:09:24.211+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:09:24.182+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:24.240+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:09:24.192+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.193+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57c266e1] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.196+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:09:24.241+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e71b633] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.242+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1340099400 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:24.244+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:09:24.248+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@780084588 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:09:24.249+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:09:24.261+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:09:24.250+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:09:24.259+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:24.262+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:09:24.263+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:24.263+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:09:24.264+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:24.265+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:09:24.266+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd624f5]
2025-12-26T10:09:24.266+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:24.267+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f72999]
2025-12-26T10:09:24.267+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.271+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:09:24.271+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.273+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:09:24.274+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@662ba014] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.276+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.277+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:24.277+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6220efc1] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.279+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57c266e1]
2025-12-26T10:09:24.281+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1015071144 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:24.289+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:09:24.281+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac1f7ea] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.282+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e71b633]
2025-12-26T10:09:24.283+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1821747709 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:09:24.283+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.294+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:09:24.294+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1738052101 wrapping com.mysql.cj.jdbc.ConnectionImpl@603af9c] will not be managed by Spring
2025-12-26T10:09:24.294+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.295+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:24.296+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a737f58] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.297+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:09:24.297+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45fa1027] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.298+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:24.300+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1044577177 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:24.307+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:09:24.308+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:09:24.308+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@108652165 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:09:24.309+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:09:24.314+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:09:24.316+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@662ba014]
2025-12-26T10:09:24.317+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:09:24.326+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:09:24.327+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6220efc1]
2025-12-26T10:09:24.330+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.330+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:09:24.327+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.328+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:09:24.330+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513b69fd] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.331+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac1f7ea]
2025-12-26T10:09:24.331+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7241035c] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.333+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@880855804 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:09:24.345+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:09:24.346+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:24.347+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1238443520 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f0e6c] will not be managed by Spring
2025-12-26T10:09:24.362+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:24.363+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a737f58]
2025-12-26T10:09:24.365+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:09:24.365+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:09:24.365+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:24.365+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:24.365+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.366+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45fa1027]
2025-12-26T10:09:24.366+09:00 DEBUG 3076 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:24.367+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:24.372+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a809c6] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.373+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.379+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@574629716 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:24.381+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d585319] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.382+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:24.383+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:24.383+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016808381 wrapping com.mysql.cj.jdbc.ConnectionImpl@584dd0ae] will not be managed by Spring
2025-12-26T10:09:24.391+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:24.392+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:24.393+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513b69fd]
2025-12-26T10:09:24.394+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:24.394+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7241035c]
2025-12-26T10:09:24.397+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.397+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:24.398+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:24.400+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e30f267] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.401+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:09:24.407+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1951275229 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:09:24.408+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:09:24.408+09:00 DEBUG 3076 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:24.409+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:09:24.417+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:24.417+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:24.417+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d585319]
2025-12-26T10:09:24.422+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a809c6]
2025-12-26T10:09:24.423+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:24.423+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.425+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f38f07] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.424+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:09:24.426+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1368808102 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:24.427+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:09:24.429+09:00 DEBUG 3076 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:24.431+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:09:24.433+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e30f267]
2025-12-26T10:09:24.433+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:09:24.433+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.439+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a19150] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.441+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@276559305 wrapping com.mysql.cj.jdbc.ConnectionImpl@1530b3f9] will not be managed by Spring
2025-12-26T10:09:24.441+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:24.442+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:24.443+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:09:24.444+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f38f07]
2025-12-26T10:09:24.448+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:09:24.448+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@457a9f96] was not registered for synchronization because synchronization is not active
2025-12-26T10:09:24.449+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@188722057 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d8af7] will not be managed by Spring
2025-12-26T10:09:24.457+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:09:24.459+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:09:24.459+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:24.462+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a19150]
2025-12-26T10:09:24.465+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:24.466+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:09:24.474+09:00 DEBUG 3076 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:09:24.490+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:09:24.552+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@457a9f96]
2025-12-26T10:09:24.557+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:09:24.559+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:09:24.566+09:00 DEBUG 3076 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:15:24.437+09:00  INFO 2644 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 2644 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-26T10:15:24.620+09:00 DEBUG 2644 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-26T10:15:24.719+09:00  INFO 2644 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-26T10:15:27.063+09:00 DEBUG 2644 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-26T10:15:27.066+09:00 DEBUG 2644 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-26T10:15:27.639+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-26T10:15:27.652+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-26T10:15:27.674+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-26T10:15:27.676+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-26T10:15:27.705+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-26T10:15:27.712+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-26T10:15:27.722+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-26T10:15:27.731+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-26T10:15:27.737+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-26T10:15:27.747+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-26T10:15:27.750+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-26T10:15:27.753+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-26T10:15:27.756+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-26T10:15:27.762+09:00 DEBUG 2644 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-26T10:15:29.220+09:00  INFO 2644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:15:29.242+09:00  INFO 2644 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:15:29.250+09:00  INFO 2644 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-26T10:15:29.394+09:00  INFO 2644 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:15:29.401+09:00  INFO 2644 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4488 ms
2025-12-26T10:15:29.576+09:00 DEBUG 2644 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-26T10:15:29.585+09:00 DEBUG 2644 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-26T10:15:30.201+09:00 DEBUG 2644 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-26T10:15:30.283+09:00 DEBUG 2644 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-26T10:15:30.327+09:00 DEBUG 2644 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-26T10:15:30.394+09:00 DEBUG 2644 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-26T10:15:30.431+09:00 DEBUG 2644 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-26T10:15:30.511+09:00 DEBUG 2644 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-26T10:15:30.565+09:00 DEBUG 2644 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-26T10:15:30.705+09:00  WARN 2644 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'companyController' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\controller\CompanyController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userService' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\service\UserService.class]: Failed to instantiate [com.innersignature.backend.service.UserService]: Constructor threw exception
2025-12-26T10:15:30.820+09:00  INFO 2644 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-26T10:15:30.846+09:00  INFO 2644 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-26T10:15:30.905+09:00 ERROR 2644 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'companyController' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\controller\CompanyController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userService' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\service\UserService.class]: Failed to instantiate [com.innersignature.backend.service.UserService]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.8.jar:3.5.8]
	at com.innersignature.backend.BackendApplication.main(BackendApplication.java:12) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userService' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\service\UserService.class]: Failed to instantiate [com.innersignature.backend.service.UserService]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:321) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:309) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.14.jar:6.2.14]
	... 21 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.innersignature.backend.service.UserService]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:146) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:318) ~[spring-beans-6.2.14.jar:6.2.14]
	... 34 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problem: 

	at com.innersignature.backend.service.UserService.<init>(UserService.java:15) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:210) ~[spring-beans-6.2.14.jar:6.2.14]
	... 36 common frames omitted

2025-12-26T10:17:37.106+09:00  INFO 31172 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 31172 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-26T10:17:37.110+09:00 DEBUG 31172 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-26T10:17:37.112+09:00  INFO 31172 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-26T10:17:39.575+09:00 DEBUG 31172 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-26T10:17:39.599+09:00 DEBUG 31172 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-26T10:17:40.464+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-26T10:17:40.467+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-26T10:17:40.469+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-26T10:17:40.469+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-26T10:17:40.471+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-26T10:17:40.475+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-26T10:17:40.487+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-26T10:17:40.499+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-26T10:17:40.503+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-26T10:17:40.509+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-26T10:17:40.513+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-26T10:17:40.517+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-26T10:17:40.521+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-26T10:17:40.529+09:00 DEBUG 31172 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-26T10:17:41.952+09:00  INFO 31172 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:17:41.988+09:00  INFO 31172 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:17:41.997+09:00  INFO 31172 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-26T10:17:42.151+09:00  INFO 31172 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:17:42.159+09:00  INFO 31172 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4960 ms
2025-12-26T10:17:42.354+09:00 DEBUG 31172 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-26T10:17:42.356+09:00 DEBUG 31172 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-26T10:17:42.965+09:00 DEBUG 31172 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-26T10:17:43.060+09:00 DEBUG 31172 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-26T10:17:43.082+09:00 DEBUG 31172 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-26T10:17:43.131+09:00 DEBUG 31172 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-26T10:17:43.183+09:00 DEBUG 31172 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-26T10:17:43.216+09:00 DEBUG 31172 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-26T10:17:43.256+09:00 DEBUG 31172 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-26T10:17:44.308+09:00 DEBUG 31172 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 88 mappings in 'requestMappingHandlerMapping'
2025-12-26T10:17:44.727+09:00 DEBUG 31172 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T10:17:44.835+09:00  WARN 31172 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 1e54fef6-135f-4e19-92bb-11f05adc2ea4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-26T10:17:44.881+09:00  INFO 31172 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-26T10:17:45.270+09:00 DEBUG 31172 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T10:17:45.532+09:00 DEBUG 31172 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T10:17:45.646+09:00 DEBUG 31172 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T10:17:45.676+09:00 DEBUG 31172 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-26T10:17:46.030+09:00  INFO 31172 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:17:46.050+09:00  INFO 31172 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 10.012 seconds (process running for 10.551)
2025-12-26T10:17:50.934+09:00  INFO 31172 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:17:50.935+09:00  INFO 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:17:50.936+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T10:17:50.936+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T10:17:50.937+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T10:17:50.939+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@18d610e1
2025-12-26T10:17:50.940+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@a4df251
2025-12-26T10:17:50.944+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T10:17:50.950+09:00  INFO 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2025-12-26T10:17:50.997+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T10:17:51.048+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T10:17:51.236+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/switch-company
2025-12-26T10:17:51.242+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T10:17:51.247+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T10:17:51.249+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T10:17:51.347+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=2, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T10:17:51.358+09:00  INFO 31172 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 2
2025-12-26T10:17:51.380+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:17:51.386+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68889010] was not registered for synchronization because synchronization is not active
2025-12-26T10:17:51.404+09:00  INFO 31172 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:17:51.803+09:00  INFO 31172 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33eb21fc
2025-12-26T10:17:51.806+09:00  INFO 31172 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:17:51.813+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@546823265 wrapping com.mysql.cj.jdbc.ConnectionImpl@33eb21fc] will not be managed by Spring
2025-12-26T10:17:51.826+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:17:51.900+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:17:51.968+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:17:51.980+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68889010]
2025-12-26T10:17:51.997+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:17:51.998+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e42ab0]
2025-12-26T10:17:52.003+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1923090148 wrapping com.mysql.cj.jdbc.ConnectionImpl@33eb21fc] will be managed by Spring
2025-12-26T10:17:52.007+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:17:52.013+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:17:52.021+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:17:52.027+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e42ab0]
2025-12-26T10:17:52.031+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e42ab0] from current transaction
2025-12-26T10:17:52.032+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T10:17:52.034+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 2(Long), 5(Long)
2025-12-26T10:17:52.046+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T10:17:52.047+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e42ab0]
2025-12-26T10:17:52.049+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e42ab0] from current transaction
2025-12-26T10:17:52.051+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T10:17:52.051+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 2(Long), 5(Long)
2025-12-26T10:17:52.059+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T10:17:52.060+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e42ab0]
2025-12-26T10:17:52.062+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e42ab0]
2025-12-26T10:17:52.063+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e42ab0]
2025-12-26T10:17:52.065+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e42ab0]
2025-12-26T10:17:52.078+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:17:52.079+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237b375a] was not registered for synchronization because synchronization is not active
2025-12-26T10:17:52.080+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1118351741 wrapping com.mysql.cj.jdbc.ConnectionImpl@33eb21fc] will not be managed by Spring
2025-12-26T10:17:52.082+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:17:52.083+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:17:52.093+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:17:52.095+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237b375a]
2025-12-26T10:17:52.135+09:00  INFO 31172 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 2
2025-12-26T10:17:52.152+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:17:52.168+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T10:17:52.191+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:17:53.225+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:17:53.230+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:17:53.231+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:17:53.234+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:17:53.236+09:00 DEBUG 31172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:17:53.237+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:17:53.265+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:17:53.280+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:17:53.280+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:17:53.280+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:17:53.282+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:17:53.285+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:17:53.286+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:17:53.294+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:17:53.298+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:17:53.299+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:17:53.301+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/companies
2025-12-26T10:17:53.324+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:17:53.312+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:17:53.312+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:17:53.314+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:17:53.315+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:17:53.326+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:17:53.326+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:17:53.327+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:17:53.329+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:17:53.330+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:17:53.330+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:17:53.331+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:17:53.333+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:17:53.334+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:17:53.343+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:17:53.334+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:17:53.335+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:17:53.337+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:17:53.341+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:17:53.345+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:17:53.346+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd6affd] was not registered for synchronization because synchronization is not active
2025-12-26T10:17:53.348+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:17:53.349+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:17:53.352+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:17:53.392+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a50d7e1] was not registered for synchronization because synchronization is not active
2025-12-26T10:17:53.352+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:17:53.381+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@5ef186ed and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('CEO', 'ADMIN')]
2025-12-26T10:17:53.386+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6a55f9] was not registered for synchronization because synchronization is not active
2025-12-26T10:17:53.395+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:17:53.407+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723cd1e7] was not registered for synchronization because synchronization is not active
2025-12-26T10:17:53.396+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:17:53.402+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-12-26T10:17:53.405+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@645584626 wrapping com.mysql.cj.jdbc.ConnectionImpl@33eb21fc] will not be managed by Spring
2025-12-26T10:17:53.409+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@5ef186ed and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('CEO', 'ADMIN')]
2025-12-26T10:17:53.410+09:00  WARN 31172 --- [http-nio-8080-exec-1] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2025-12-26T10:17:53.412+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:17:53.413+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1510233135 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b8df4] will not be managed by Spring
2025-12-26T10:17:53.417+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-12-26T10:17:53.419+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:17:53.420+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:17:53.427+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:17:53.427+09:00  WARN 31172 --- [http-nio-8080-exec-4] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2025-12-26T10:17:53.429+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2025-12-26T10:17:53.433+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:17:53.434+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:17:53.437+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-26T10:17:53.446+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2025-12-26T10:17:53.446+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-26T10:17:53.448+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-26T10:17:53.453+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:17:53.469+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd6affd]
2025-12-26T10:17:53.472+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:17:53.469+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-26T10:17:53.515+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T10:17:53.597+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:17:53.649+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2107032545 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ea5e8b] will not be managed by Spring
2025-12-26T10:17:53.649+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@401274994 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f6283] will not be managed by Spring
2025-12-26T10:17:53.650+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:17:53.673+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:17:53.712+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:17:53.748+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:17:53.780+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:17:53.782+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6a55f9]
2025-12-26T10:17:53.784+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:17:53.786+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:17:53.789+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:17:53.791+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:17:53.815+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:17:53.816+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:17:53.817+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:17:53.818+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:17:53.826+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:17:53.834+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:17:53.835+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:17:53.836+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9bc844] was not registered for synchronization because synchronization is not active
2025-12-26T10:17:53.843+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723cd1e7]
2025-12-26T10:17:53.844+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a50d7e1]
2025-12-26T10:17:53.848+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@6043623 wrapping com.mysql.cj.jdbc.ConnectionImpl@33eb21fc] will not be managed by Spring
2025-12-26T10:17:53.849+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:17:53.849+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:17:53.850+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:17:53.850+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7425dda7] was not registered for synchronization because synchronization is not active
2025-12-26T10:17:53.850+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fef765f] was not registered for synchronization because synchronization is not active
2025-12-26T10:17:53.853+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@962831066 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f6283] will not be managed by Spring
2025-12-26T10:17:53.853+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:17:53.854+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2116053807 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ea5e8b] will not be managed by Spring
2025-12-26T10:17:53.854+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:17:53.860+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:17:53.862+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:17:53.864+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:17:53.891+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:17:53.896+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9bc844]
2025-12-26T10:17:53.897+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:17:53.897+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:17:53.899+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:17:53.900+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fef765f]
2025-12-26T10:17:53.900+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7425dda7]
2025-12-26T10:17:53.902+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:17:53.909+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:17:53.909+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:17:53.912+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:17:53.919+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:17:53.945+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:17:54.052+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:17:54.052+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:08.662+09:00 DEBUG 31172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-26T10:18:08.718+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-26T10:18:08.744+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/logout
2025-12-26T10:18:08.747+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-26T10:18:08.748+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-26T10:18:08.750+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-26T10:18:08.756+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-26T10:18:08.773+09:00  INFO 31172 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=5
2025-12-26T10:18:08.833+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:08.850+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-26T10:18:08.861+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:12.547+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-26T10:18:12.550+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T10:18:12.551+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T10:18:12.551+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T10:18:12.553+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T10:18:12.555+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T10:18:12.559+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user4, password=1234)]
2025-12-26T10:18:12.564+09:00  INFO 31172 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user4
2025-12-26T10:18:12.564+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:12.565+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12f80606] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:12.570+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1829471179 wrapping com.mysql.cj.jdbc.ConnectionImpl@33eb21fc] will not be managed by Spring
2025-12-26T10:18:12.577+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T10:18:12.578+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-26T10:18:12.583+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T10:18:12.584+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12f80606]
2025-12-26T10:18:12.676+09:00  INFO 31172 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 성공 - userId: 5, role: ADMIN, companyId: 2
2025-12-26T10:18:12.677+09:00  INFO 31172 --- [http-nio-8080-exec-1] SECURITY                                 : LOGIN_SUCCESS userId=5 username=test_user4 role=ADMIN
2025-12-26T10:18:12.677+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:12.678+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=5, username=test_user4, password (truncated)...]
2025-12-26T10:18:12.679+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:13.190+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:18:13.230+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:18:13.231+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:18:13.232+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:18:13.232+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:18:13.233+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:18:13.244+09:00 DEBUG 31172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:18:13.273+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:18:13.274+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:18:13.277+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:18:13.278+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:18:13.281+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:18:13.287+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:18:13.293+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies
2025-12-26T10:18:13.294+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:18:13.296+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:18:13.296+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:18:13.302+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:18:13.300+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:18:13.300+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:18:13.301+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:18:13.301+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:18:13.302+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:18:13.314+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:18:13.303+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:18:13.316+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:18:13.303+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:18:13.312+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:18:13.317+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:18:13.313+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:18:13.315+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:18:13.315+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:18:13.316+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:18:13.318+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:18:13.318+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:18:13.318+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:18:13.319+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:18:13.323+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:13.333+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:18:13.346+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:18:13.350+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:13.360+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:13.362+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:13.363+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d7ee103] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:13.368+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:13.369+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:13.370+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367c45d0] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:13.376+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d413c5] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:13.381+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6920b63] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:13.383+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21cfd202] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:13.383+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@678ce9b7] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:13.395+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1468435059 wrapping com.mysql.cj.jdbc.ConnectionImpl@33eb21fc] will not be managed by Spring
2025-12-26T10:18:13.395+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@111505317 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b8df4] will not be managed by Spring
2025-12-26T10:18:13.402+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@941046018 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ea5e8b] will not be managed by Spring
2025-12-26T10:18:13.416+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:18:13.414+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:18:13.415+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:18:13.417+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1432555215 wrapping com.mysql.cj.jdbc.ConnectionImpl@72a7819d] will not be managed by Spring
2025-12-26T10:18:13.417+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1304546204 wrapping com.mysql.cj.jdbc.ConnectionImpl@361f6283] will not be managed by Spring
2025-12-26T10:18:13.418+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:18:13.431+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:18:13.433+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:18:13.434+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1719325651 wrapping com.mysql.cj.jdbc.ConnectionImpl@43a972f2] will not be managed by Spring
2025-12-26T10:18:13.435+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:18:13.444+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:18:13.453+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:18:13.460+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T10:18:13.461+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:18:13.488+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:18:13.510+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:18:13.512+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:18:13.515+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:18:13.516+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T10:18:13.517+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:18:13.520+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6920b63]
2025-12-26T10:18:13.526+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d413c5]
2025-12-26T10:18:13.527+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367c45d0]
2025-12-26T10:18:13.529+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21cfd202]
2025-12-26T10:18:13.531+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d7ee103]
2025-12-26T10:18:13.532+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:13.533+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:13.546+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:18:13.552+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:13.557+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:13.559+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:13.559+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:18:13.560+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T10:18:13.561+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@678ce9b7]
2025-12-26T10:18:13.578+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b186c87] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:13.592+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T10:18:13.592+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb7d357] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:13.595+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:13.595+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:13.597+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:13.600+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@886195673 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b8df4] will not be managed by Spring
2025-12-26T10:18:13.601+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:13.603+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@914386960 wrapping com.mysql.cj.jdbc.ConnectionImpl@33eb21fc] will not be managed by Spring
2025-12-26T10:18:13.608+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:18:13.613+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:18:13.614+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:18:13.616+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:18:13.645+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:18:13.646+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:18:13.627+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:18:13.635+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:13.647+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:18:13.653+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:18:13.656+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:18:13.668+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:18:13.672+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:18:13.678+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:13.684+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69fbec8a] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:13.690+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1584767311 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ea5e8b] will not be managed by Spring
2025-12-26T10:18:13.693+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:18:13.698+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-26T10:18:13.701+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:18:13.705+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:18:13.716+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb7d357]
2025-12-26T10:18:13.719+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b186c87]
2025-12-26T10:18:13.722+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:13.723+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:13.724+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:18:13.724+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:18:13.725+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:13.731+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:13.750+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-26T10:18:13.849+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69fbec8a]
2025-12-26T10:18:13.850+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:13.853+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_user1, password=null, (truncated)...]
2025-12-26T10:18:13.882+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:25.900+09:00 DEBUG 31172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/2/approval
2025-12-26T10:18:25.907+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/2/approval
2025-12-26T10:18:25.912+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/2/approval
2025-12-26T10:18:25.913+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/2/approval
2025-12-26T10:18:25.914+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/2/approval", parameters={}
2025-12-26T10:18:25.916+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-26T10:18:25.925+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-26T10:18:25.930+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:18:25.935+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:18:25.946+09:00  INFO 31172 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 2, action: APPROVE, operatorId: 5
2025-12-26T10:18:25.951+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:25.951+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812]
2025-12-26T10:18:25.952+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1913487868 wrapping com.mysql.cj.jdbc.ConnectionImpl@33eb21fc] will be managed by Spring
2025-12-26T10:18:25.961+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:18:25.962+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T10:18:25.965+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:18:25.966+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812]
2025-12-26T10:18:25.967+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812] from current transaction
2025-12-26T10:18:25.968+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:18:25.969+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:18:25.971+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:18:25.975+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812]
2025-12-26T10:18:25.975+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812] from current transaction
2025-12-26T10:18:25.976+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:18:25.977+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:18:25.981+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:18:25.982+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812]
2025-12-26T10:18:25.983+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812] from current transaction
2025-12-26T10:18:25.984+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:18:25.986+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 2(Long)
2025-12-26T10:18:25.992+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 2
2025-12-26T10:18:25.993+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812]
2025-12-26T10:18:25.995+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812] from current transaction
2025-12-26T10:18:25.996+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.U.countUsersByCompanyId          : ==>  Preparing: SELECT COUNT(DISTINCT uc.user_id) FROM user_company_tb uc WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND (uc.is_active IS NULL OR uc.is_active = 1)
2025-12-26T10:18:25.997+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.U.countUsersByCompanyId          : ==> Parameters: 2(Long)
2025-12-26T10:18:26.003+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.U.countUsersByCompanyId          : <==      Total: 1
2025-12-26T10:18:26.011+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812]
2025-12-26T10:18:26.013+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812] from current transaction
2025-12-26T10:18:26.013+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-26T10:18:26.015+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 2(Long)
2025-12-26T10:18:26.024+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-26T10:18:26.028+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812]
2025-12-26T10:18:26.030+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812] from current transaction
2025-12-26T10:18:26.031+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812]
2025-12-26T10:18:26.032+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812]
2025-12-26T10:18:26.033+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d5f812]
2025-12-26T10:18:26.047+09:00 ERROR 31172 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 사용자 승인/거부 중 오류 발생 - userId: 2

com.innersignature.backend.exception.BusinessException: 무료 플랜의 최대 사용자 수(3명)에 도달했습니다. 플랜을 업그레이드해주세요.
	at com.innersignature.backend.util.SubscriptionUtil.checkUserLimit(SubscriptionUtil.java:74) ~[classes/:na]
	at com.innersignature.backend.service.UserService.approveUser(UserService.java:476) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.UserService$$SpringCGLIB$$0.approveUser(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.UserController.approveUser(UserController.java:824) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.UserController$$SpringCGLIB$$0.approveUser(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-26T10:18:26.096+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:26.098+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=무료 플랜의 최대 사용자 수(3명)에 도달했습니다. 플랜을 업그레이드해주세요., data=null)]
2025-12-26T10:18:26.100+09:00 DEBUG 31172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:41.230+09:00 DEBUG 31172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:18:41.231+09:00 DEBUG 31172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:18:41.232+09:00 DEBUG 31172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-26T10:18:41.232+09:00 DEBUG 31172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:18:41.239+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:18:41.243+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:18:41.243+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-26T10:18:41.245+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies
2025-12-26T10:18:41.245+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:18:41.373+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/me
2025-12-26T10:18:41.458+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies/pending
2025-12-26T10:18:41.475+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:18:41.496+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:18:41.496+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/me
2025-12-26T10:18:41.503+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-26T10:18:41.509+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:18:41.512+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:18:41.512+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:18:41.513+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-26T10:18:41.514+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:18:41.514+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:18:41.515+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:18:41.516+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-26T10:18:41.518+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:41.519+09:00  INFO 31172 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 2
2025-12-26T10:18:41.520+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:18:41.530+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:41.535+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a37c7a6] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:41.535+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:41.544+09:00  INFO 31172 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 2
2025-12-26T10:18:41.545+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d159e5c] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:41.547+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31cb248] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:41.548+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:18:41.553+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9cd985] was not registered for synchronization because synchronization is not active
2025-12-26T10:18:41.574+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@507071200 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ea5e8b] will not be managed by Spring
2025-12-26T10:18:41.574+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112913192 wrapping com.mysql.cj.jdbc.ConnectionImpl@43a972f2] will not be managed by Spring
2025-12-26T10:18:41.576+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@631080426 wrapping com.mysql.cj.jdbc.ConnectionImpl@33eb21fc] will not be managed by Spring
2025-12-26T10:18:41.579+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:18:41.579+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:18:41.579+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:18:41.580+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:18:41.581+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:18:41.584+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 5(Long), PENDING(String)
2025-12-26T10:18:41.602+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@640413371 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b8df4] will not be managed by Spring
2025-12-26T10:18:41.605+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:18:41.605+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-26T10:18:41.606+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:18:41.608+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:18:41.610+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a37c7a6]
2025-12-26T10:18:41.611+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d159e5c]
2025-12-26T10:18:41.613+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9cd985]
2025-12-26T10:18:41.615+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:18:41.617+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:41.617+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:41.618+09:00  INFO 31172 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 2
2025-12-26T10:18:41.656+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:41.619+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:18:41.642+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:18:41.674+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:18:41.694+09:00 DEBUG 31172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:41.698+09:00 DEBUG 31172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:41.702+09:00 DEBUG 31172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:18:41.713+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:18:41.727+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31cb248]
2025-12-26T10:18:41.728+09:00  INFO 31172 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 2
2025-12-26T10:18:41.733+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:18:41.742+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:18:41.745+09:00 DEBUG 31172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:34.190+09:00  INFO 31284 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 31284 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-26T10:23:34.195+09:00 DEBUG 31284 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-26T10:23:34.199+09:00  INFO 31284 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-26T10:23:36.649+09:00 DEBUG 31284 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-26T10:23:36.654+09:00 DEBUG 31284 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-26T10:23:37.219+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-26T10:23:37.226+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-26T10:23:37.227+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-26T10:23:37.234+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-26T10:23:37.244+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-26T10:23:37.259+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-26T10:23:37.261+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-26T10:23:37.270+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-26T10:23:37.279+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-26T10:23:37.290+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-26T10:23:37.293+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-26T10:23:37.298+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-26T10:23:37.305+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-26T10:23:37.309+09:00 DEBUG 31284 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-26T10:23:38.110+09:00  INFO 31284 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:23:38.134+09:00  INFO 31284 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:23:38.161+09:00  INFO 31284 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-26T10:23:38.294+09:00  INFO 31284 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:23:38.300+09:00  INFO 31284 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3973 ms
2025-12-26T10:23:38.416+09:00 DEBUG 31284 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-26T10:23:38.419+09:00 DEBUG 31284 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-26T10:23:38.978+09:00 DEBUG 31284 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-26T10:23:39.066+09:00 DEBUG 31284 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-26T10:23:39.083+09:00 DEBUG 31284 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-26T10:23:39.132+09:00 DEBUG 31284 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-26T10:23:39.154+09:00 DEBUG 31284 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-26T10:23:39.167+09:00 DEBUG 31284 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-26T10:23:39.231+09:00 DEBUG 31284 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-26T10:23:40.192+09:00 DEBUG 31284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 88 mappings in 'requestMappingHandlerMapping'
2025-12-26T10:23:40.355+09:00 DEBUG 31284 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T10:23:40.424+09:00  WARN 31284 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: abf411db-04aa-4958-9f33-b2ff69b10ab9

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-26T10:23:40.455+09:00  INFO 31284 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-26T10:23:40.661+09:00 DEBUG 31284 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T10:23:40.852+09:00 DEBUG 31284 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T10:23:41.005+09:00 DEBUG 31284 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T10:23:41.021+09:00 DEBUG 31284 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-26T10:23:41.332+09:00  INFO 31284 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:23:41.352+09:00  INFO 31284 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.493 seconds (process running for 9.111)
2025-12-26T10:23:43.837+09:00  INFO 31284 --- [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:23:43.876+09:00  INFO 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:23:43.902+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T10:23:43.923+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T10:23:43.932+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T10:23:43.959+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3feebf9c
2025-12-26T10:23:43.968+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3e98b933
2025-12-26T10:23:44.073+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T10:23:44.095+09:00  INFO 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 193 ms
2025-12-26T10:23:44.156+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:44.156+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:23:44.156+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:44.156+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:23:44.156+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:23:44.156+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:23:44.267+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:23:44.267+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:23:44.275+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:44.345+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:23:44.345+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:23:44.347+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:44.632+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:23:44.632+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:23:44.632+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:23:44.633+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:23:44.633+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:23:44.632+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:23:44.650+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:44.650+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:23:44.661+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:23:44.652+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:23:44.669+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:23:44.670+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:23:44.654+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:23:44.655+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:44.657+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:23:44.662+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:23:44.747+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:23:44.667+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:23:44.674+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:23:44.734+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:23:44.736+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:44.744+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:23:44.769+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:23:44.760+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:44.761+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:44.764+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:23:44.768+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:23:44.771+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:44.775+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a529734] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:44.775+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e4acc42] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:44.775+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd36da2] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:44.792+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:44.793+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:44.793+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62560f35] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:44.823+09:00  INFO 31284 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:23:44.894+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791b98d2] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:44.907+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68d3123] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:45.357+09:00  INFO 31284 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1482969c
2025-12-26T10:23:45.361+09:00  INFO 31284 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:23:45.372+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1799927644 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:45.388+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:45.449+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:45.522+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:45.534+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e4acc42]
2025-12-26T10:23:45.549+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545758606 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:45.574+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802376249 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:23:45.599+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:45.623+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:45.624+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:45.631+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:45.634+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:45.645+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:23:45.662+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:45.672+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:45.673+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791b98d2]
2025-12-26T10:23:45.674+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:45.674+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@416c9bd2] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:45.674+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@682705573 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:45.677+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:45.694+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:23:45.695+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62560f35]
2025-12-26T10:23:45.699+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:23:45.700+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:45.708+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:23:45.712+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:45.700+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084950723 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:23:45.716+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:45.727+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:45.730+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:23:45.736+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68d3123]
2025-12-26T10:23:45.740+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:45.740+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1296206272 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:45.743+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:23:45.752+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:23:45.759+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:45.765+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:23:45.816+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:45.816+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:23:45.820+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a529734]
2025-12-26T10:23:45.823+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd36da2]
2025-12-26T10:23:45.824+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:45.824+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1687442981 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:23:45.827+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:45.827+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220dbde2] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:45.828+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:45.831+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:23:45.833+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@192928930 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:45.885+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:45.948+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:45.950+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:45.974+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:45.979+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:45.985+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@416c9bd2]
2025-12-26T10:23:45.986+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:45.988+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:45.990+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220dbde2]
2025-12-26T10:23:45.993+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:45.995+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:23:45.995+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:23:46.007+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:46.007+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:50.491+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-26T10:23:50.495+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-26T10:23:50.505+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/logout
2025-12-26T10:23:50.551+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-26T10:23:50.555+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-26T10:23:50.556+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-26T10:23:50.589+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-26T10:23:50.601+09:00  INFO 31284 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=5
2025-12-26T10:23:50.603+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:50.604+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-26T10:23:50.606+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:53.774+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-26T10:23:53.778+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T10:23:53.782+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T10:23:53.783+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T10:23:53.784+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T10:23:53.785+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T10:23:53.789+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user4, password=1234)]
2025-12-26T10:23:53.793+09:00  INFO 31284 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user4
2025-12-26T10:23:53.794+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:53.795+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43133a28] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:53.804+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@256125748 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:53.806+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T10:23:53.807+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-26T10:23:53.811+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T10:23:53.814+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43133a28]
2025-12-26T10:23:53.929+09:00  INFO 31284 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 5, role: ADMIN, companyId: 2
2025-12-26T10:23:53.929+09:00  INFO 31284 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=5 username=test_user4 role=ADMIN
2025-12-26T10:23:53.931+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:53.939+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=5, username=test_user4, password (truncated)...]
2025-12-26T10:23:53.954+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:54.465+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:23:54.482+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:23:54.509+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies
2025-12-26T10:23:54.515+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:23:54.521+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:54.521+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:23:54.522+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:23:54.523+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:54.529+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:23:54.539+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:23:54.557+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:23:54.558+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:54.565+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:23:54.567+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:23:54.573+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:23:54.573+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:23:54.578+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:23:54.588+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:54.588+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:23:54.589+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:23:54.604+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:54.591+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:23:54.591+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:54.608+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:23:54.592+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:23:54.601+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:23:54.618+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:54.603+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:23:54.606+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367e6a25] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:54.607+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:23:54.624+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:23:54.611+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:23:54.632+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:54.611+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:23:54.620+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:23:54.620+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:23:54.655+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:23:54.627+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:54.658+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4b55fa] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:54.644+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6b1226] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:54.653+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1717095371 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:54.654+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:23:54.655+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:23:54.655+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:23:54.671+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:23:54.671+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:54.676+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:23:54.673+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:54.674+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:54.677+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c6789e6] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:54.676+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd1c38a] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:54.677+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@256cf9fd] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:54.690+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@907856052 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:23:54.691+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1072123210 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:23:54.692+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:23:54.692+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@483235635 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:23:54.705+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1397132053 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:23:54.706+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:23:54.706+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:54.706+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367e6a25]
2025-12-26T10:23:54.709+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:54.711+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:54.715+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:23:54.717+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:54.718+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@676574710 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:54.720+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:54.720+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:54.722+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:54.727+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:23:54.743+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T10:23:54.752+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:23:54.755+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:54.759+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:54.778+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4b55fa]
2025-12-26T10:23:54.771+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:23:54.785+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:54.787+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:54.788+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:23:54.789+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:23:54.789+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:23:54.791+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:54.798+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aa2e75a] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:54.799+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c6789e6]
2025-12-26T10:23:54.799+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@256cf9fd]
2025-12-26T10:23:54.803+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6b1226]
2025-12-26T10:23:54.803+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:23:54.804+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd1c38a]
2025-12-26T10:23:54.805+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1661079907 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:23:54.809+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:54.809+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:54.812+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:54.815+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:23:54.816+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:54.816+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:54.817+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7267f9aa] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:54.818+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:23:54.822+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1139283706 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:23:54.818+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:23:54.819+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:23:54.819+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:23:54.821+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:54.827+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:54.823+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:54.823+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:54.826+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:54.826+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:54.843+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:54.843+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1337ace9] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:54.855+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1267868600 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:54.860+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:54.863+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:54.866+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:54.867+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7267f9aa]
2025-12-26T10:23:54.869+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:54.871+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:54.872+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aa2e75a]
2025-12-26T10:23:54.873+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:23:54.874+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:54.874+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:54.875+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:54.876+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:23:54.877+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1337ace9]
2025-12-26T10:23:54.885+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:54.889+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:54.891+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:23:54.892+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:55.881+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:23:55.881+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:23:55.889+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:23:55.889+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:23:55.893+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies
2025-12-26T10:23:55.902+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies
2025-12-26T10:23:55.903+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:23:55.904+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:23:55.905+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:23:55.905+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:23:55.906+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:23:55.907+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:23:55.908+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:55.909+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:55.909+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f4eca9] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:55.910+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d59bcd7] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:55.918+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319706978 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:55.918+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:55.918+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@804989887 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:23:55.920+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:55.919+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:55.921+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:55.923+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:55.924+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f4eca9]
2025-12-26T10:23:55.925+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:55.925+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:55.926+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d59bcd7]
2025-12-26T10:23:55.926+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:55.934+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:23:55.934+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:23:55.941+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:55.941+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:55.956+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-26T10:23:55.957+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-26T10:23:55.969+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-26T10:23:55.973+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-26T10:23:55.982+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T10:23:55.988+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T10:23:56.003+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies/2/applications
2025-12-26T10:23:56.003+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/company/2
2025-12-26T10:23:56.008+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T10:23:56.006+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T10:23:56.007+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T10:23:56.009+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T10:23:56.022+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T10:23:56.011+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/companies/2/applications
2025-12-26T10:23:56.018+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/company/2
2025-12-26T10:23:56.022+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T10:23:56.023+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T10:23:56.025+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T10:23:56.023+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:23:56.024+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T10:23:56.025+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:23:56.026+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:23:56.026+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T10:23:56.031+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:23:56.031+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:23:56.031+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:23:56.032+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:23:56.035+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:23:56.055+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:23:56.055+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:23:56.058+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:56.055+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:23:56.055+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:23:56.057+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:56.059+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458ca0c0] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:56.066+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:56.076+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d377fc] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:56.073+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:56.073+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@680a6569] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:56.076+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1944745523 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:56.094+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:56.090+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1950813304 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:23:56.090+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d6c803] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:56.104+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:56.112+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:56.121+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:56.124+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@65175760 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:23:56.132+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:56.139+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:56.134+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:56.135+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1623271440 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:23:56.141+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458ca0c0]
2025-12-26T10:23:56.142+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:56.142+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:56.144+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:56.144+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d377fc]
2025-12-26T10:23:56.147+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:56.153+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ba43fb] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:56.154+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:56.154+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:56.155+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@680a6569]
2025-12-26T10:23:56.155+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1656880753 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:56.156+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@425869b9] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:56.157+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:56.161+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:23:56.162+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:56.163+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@973729876 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:23:56.164+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44bb9e50] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:56.167+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T10:23:56.167+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d6c803]
2025-12-26T10:23:56.167+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:23:56.168+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@121262848 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:23:56.169+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:56.173+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T10:23:56.173+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:23:56.174+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd22dad] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:56.174+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T10:23:56.178+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-26T10:23:56.186+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@945295948 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:23:56.187+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ba43fb]
2025-12-26T10:23:56.188+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:23:56.191+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-26T10:23:56.189+09:00  INFO 31284 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T10:23:56.189+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T10:23:56.194+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:56.192+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-26T10:23:56.194+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@425869b9]
2025-12-26T10:23:56.195+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:23:56.195+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44bb9e50]
2025-12-26T10:23:56.197+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 1
2025-12-26T10:23:56.199+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:56.202+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:56.202+09:00  INFO 31284 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 3
2025-12-26T10:23:56.203+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd22dad]
2025-12-26T10:23:56.203+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T10:23:56.205+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:56.205+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:56.206+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:23:56.206+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:56.207+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=10, userId=2, companyId= (truncated)...]
2025-12-26T10:23:56.210+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:56.216+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:58.584+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:58.585+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:23:58.585+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:23:58.586+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:23:58.586+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:58.587+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:23:58.604+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:58.605+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:23:58.621+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:23:58.623+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:58.623+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:23:58.625+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:23:58.625+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:58.627+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:23:58.627+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:23:58.632+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:23:58.636+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:23:58.639+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:23:58.642+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:23:58.653+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:23:58.655+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:23:58.655+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:23:58.655+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:23:58.657+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:23:58.659+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:23:58.659+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:23:58.660+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:23:58.661+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:58.663+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:23:58.665+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:23:58.669+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:23:58.666+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:23:58.668+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:23:58.668+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:23:58.669+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588639d] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:58.670+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:58.671+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:58.672+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:23:58.673+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:23:58.677+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@247602001 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:58.673+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:23:58.674+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6698f687] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:58.675+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6374e653] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:58.677+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:58.678+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:58.678+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:23:58.680+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:58.685+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691adab5] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:58.686+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@317888953 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:23:58.687+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bfe312b] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:58.688+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:23:58.689+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1679cbf] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:58.689+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@777143108 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:23:58.690+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:58.691+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:58.692+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:58.692+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:58.694+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:23:58.694+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@118474263 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:23:58.695+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1949212942 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:23:58.697+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588639d]
2025-12-26T10:23:58.699+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:58.700+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:58.702+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:58.703+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:58.703+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:58.703+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:23:58.705+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:58.705+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:58.707+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6698f687]
2025-12-26T10:23:58.707+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:58.710+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6374e653]
2025-12-26T10:23:58.710+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:58.711+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:58.711+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78577ea4] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:58.712+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:58.716+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37fd9ff4] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:58.718+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2108436956 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:23:58.718+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bfe312b]
2025-12-26T10:23:58.719+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1634034269 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:23:58.719+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:58.720+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:58.721+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:23:58.721+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:58.722+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:23:58.722+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:58.722+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:23:58.724+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1679cbf]
2025-12-26T10:23:58.724+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:58.726+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:58.738+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:23:58.743+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:58.745+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:58.746+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:23:58.775+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78577ea4]
2025-12-26T10:23:58.807+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37fd9ff4]
2025-12-26T10:23:58.819+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:58.822+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:58.833+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:23:58.824+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:23:58.837+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:58.842+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:58.850+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@218864631 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:23:58.851+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:23:58.853+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:23:58.870+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:23:58.873+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691adab5]
2025-12-26T10:23:58.876+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:58.884+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:23:58.886+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:59.744+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:23:59.748+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-26T10:23:59.748+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:23:59.749+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:23:59.753+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:23:59.754+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-26T10:23:59.760+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:23:59.760+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies/pending
2025-12-26T10:23:59.761+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/me
2025-12-26T10:23:59.765+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:23:59.767+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-26T10:23:59.767+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/companies
2025-12-26T10:23:59.768+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:23:59.770+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:23:59.769+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-26T10:23:59.770+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:23:59.770+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/me
2025-12-26T10:23:59.771+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:23:59.774+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-26T10:23:59.775+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:23:59.775+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:23:59.776+09:00  INFO 31284 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 2
2025-12-26T10:23:59.777+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:59.777+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:23:59.778+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:23:59.783+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36a1eb03] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:59.783+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:59.784+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:59.785+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727511be] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:59.784+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:23:59.784+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb5463b] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:59.786+09:00  INFO 31284 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 2
2025-12-26T10:23:59.788+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1135199911 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:23:59.788+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@728526396 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:23:59.788+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:23:59.788+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:59.789+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:23:59.789+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53ad655b] was not registered for synchronization because synchronization is not active
2025-12-26T10:23:59.790+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1523147209 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:23:59.790+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 5(Long), PENDING(String)
2025-12-26T10:23:59.790+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:23:59.791+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:23:59.794+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112124972 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:23:59.795+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-26T10:23:59.795+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:23:59.795+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:23:59.798+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:23:59.799+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36a1eb03]
2025-12-26T10:23:59.800+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727511be]
2025-12-26T10:23:59.800+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:23:59.840+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:59.884+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:23:59.885+09:00  INFO 31284 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 2
2025-12-26T10:23:59.890+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:23:59.892+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb5463b]
2025-12-26T10:23:59.893+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:59.898+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:59.900+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:59.921+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:23:59.923+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:23:59.925+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:23:59.925+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53ad655b]
2025-12-26T10:23:59.927+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:59.927+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:23:59.927+09:00  INFO 31284 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 2
2025-12-26T10:23:59.934+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:23:59.934+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:23:59.935+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:00.951+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:24:00.954+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:24:00.956+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:24:00.957+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:00.959+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:00.967+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:24:00.970+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:24:00.967+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:24:00.970+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:24:00.977+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:24:00.973+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:24:00.974+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses
2025-12-26T10:24:00.981+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:24:00.981+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:24:00.983+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:00.985+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:00.986+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:24:00.990+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:24:00.988+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:24:00.988+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:24:00.989+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:24:00.990+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:24:00.991+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:24:00.991+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:24:00.993+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:24:00.994+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:24:00.998+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:00.999+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:01.005+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/pending
2025-12-26T10:24:01.005+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:24:01.000+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:01.002+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:01.003+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:01.005+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:24:01.005+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:24:01.008+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:24:01.006+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:24:01.009+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:01.006+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39b4f11c] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:01.006+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1581fe9] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:01.007+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2037c98d] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:01.007+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:24:01.009+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:24:01.009+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c4c7dff] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:01.016+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:01.017+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:01.018+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8643aa0] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:01.019+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a31b19] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:01.023+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1256457982 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:24:01.023+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@907023176 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:01.024+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@810014688 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:01.024+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1852660854 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:24:01.024+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@859722756 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:01.027+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:24:01.024+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1230530561 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:01.026+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:01.026+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:01.033+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:01.026+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:01.027+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:01.028+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:24:01.028+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:24:01.033+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:01.036+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:01.038+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:01.039+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:01.039+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:24:01.042+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39b4f11c]
2025-12-26T10:24:01.043+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:24:01.054+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c4c7dff]
2025-12-26T10:24:01.053+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:01.053+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:01.055+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:01.056+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1581fe9]
2025-12-26T10:24:01.056+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:01.056+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:01.056+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:24:01.058+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c51ff94] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:01.059+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:24:01.060+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:01.069+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:01.061+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2037c98d]
2025-12-26T10:24:01.062+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a31b19]
2025-12-26T10:24:01.068+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8643aa0]
2025-12-26T10:24:01.068+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@784323491 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:01.069+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:24:01.073+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:01.074+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:01.075+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:01.076+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:01.077+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:01.081+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48dd24f8] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:01.083+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:24:01.085+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:24:01.086+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:01.089+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@148471830 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:01.090+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:01.092+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:01.098+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:01.103+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:01.110+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c51ff94]
2025-12-26T10:24:01.147+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:01.110+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:01.148+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:24:01.150+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:01.155+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:01.156+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48dd24f8]
2025-12-26T10:24:01.157+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:01.157+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:24:01.160+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:02.267+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T10:24:02.270+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T10:24:02.276+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 2, uri: /api/users/switch-company
2025-12-26T10:24:02.282+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T10:24:02.283+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T10:24:02.287+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T10:24:02.294+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=1, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T10:24:02.300+09:00  INFO 31284 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 1
2025-12-26T10:24:02.302+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:02.302+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a5b6a0] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:02.307+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1522238445 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:02.308+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:02.310+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:02.314+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:02.317+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a5b6a0]
2025-12-26T10:24:02.325+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:02.326+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed25205]
2025-12-26T10:24:02.328+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@296124253 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will be managed by Spring
2025-12-26T10:24:02.328+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:02.331+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:02.337+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:02.339+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed25205]
2025-12-26T10:24:02.339+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed25205] from current transaction
2025-12-26T10:24:02.341+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T10:24:02.342+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 1(Long), 5(Long)
2025-12-26T10:24:02.345+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T10:24:02.348+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed25205]
2025-12-26T10:24:02.349+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed25205] from current transaction
2025-12-26T10:24:02.349+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T10:24:02.351+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 1(Long), 5(Long)
2025-12-26T10:24:02.357+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T10:24:02.357+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed25205]
2025-12-26T10:24:02.358+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed25205]
2025-12-26T10:24:02.359+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed25205]
2025-12-26T10:24:02.359+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed25205]
2025-12-26T10:24:02.370+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:02.370+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eea76c7] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:02.371+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@363314511 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:02.371+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:02.372+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:02.374+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:02.375+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eea76c7]
2025-12-26T10:24:02.376+09:00  INFO 31284 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 1
2025-12-26T10:24:02.377+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:02.378+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T10:24:02.381+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:03.502+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:03.502+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:24:03.505+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:24:03.506+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:24:03.509+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:24:03.509+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:03.518+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:24:03.540+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:03.540+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:24:03.548+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:24:03.540+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:24:03.541+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:24:03.549+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:24:03.553+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:03.553+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:03.556+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:24:03.556+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:24:03.559+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T10:24:03.564+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:24:03.564+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:24:03.572+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:24:03.567+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:24:03.567+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:24:03.574+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:03.574+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:24:03.575+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:24:03.567+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:24:03.576+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:24:03.569+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:24:03.571+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:24:03.573+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.573+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:24:03.576+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.580+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:24:03.585+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:24:03.586+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:24:03.589+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a64a90] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.590+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:24:03.592+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75c3a80d] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.592+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.593+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:24:03.594+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.598+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:24:03.602+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3814ce] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.604+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.607+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f036186] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.604+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0e12ef] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.605+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.608+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648488299 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:24:03.608+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1918941585 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:03.610+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490bff1e] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.613+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1335659877 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:03.613+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1912556205 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:24:03.615+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:24:03.615+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:24:03.618+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615734513 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:03.618+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:03.619+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1937283142 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:03.619+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:24:03.620+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:24:03.621+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:24:03.621+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:03.622+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:03.623+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:03.624+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:24:03.625+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:03.626+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:03.634+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:03.635+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:24:03.635+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:24:03.635+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:24:03.635+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:24:03.637+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3814ce]
2025-12-26T10:24:03.638+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a64a90]
2025-12-26T10:24:03.639+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75c3a80d]
2025-12-26T10:24:03.640+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:24:03.640+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0e12ef]
2025-12-26T10:24:03.641+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f036186]
2025-12-26T10:24:03.641+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.642+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.642+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.643+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490bff1e]
2025-12-26T10:24:03.644+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.644+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:03.644+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268d9e92] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.648+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c923eeb] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.648+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6259e9b0] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.649+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.649+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@277f6430] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.650+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T10:24:03.654+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@8385734 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:03.654+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:03.651+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@152248922 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:03.652+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1887462295 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:03.652+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2102007021 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:24:03.653+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d5f103e] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.655+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:03.656+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:24:03.656+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:03.658+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:24:03.667+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:03.667+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@80896259 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:03.668+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:03.668+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:24:03.669+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:03.670+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:03.671+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:24:03.672+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:03.674+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:24:03.675+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:03.680+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:24:03.688+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:24:03.689+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:03.689+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:03.689+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:03.690+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:24:03.691+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.693+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@277f6430]
2025-12-26T10:24:03.693+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6259e9b0]
2025-12-26T10:24:03.694+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c923eeb]
2025-12-26T10:24:03.694+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:03.694+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268d9e92]
2025-12-26T10:24:03.694+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515d10b] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.696+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.698+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.699+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.699+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d5f103e]
2025-12-26T10:24:03.700+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:03.700+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1739291194 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:24:03.700+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f96fdd2] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.701+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f3730a6] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.701+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2683568a] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.702+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.702+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:24:03.702+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:03.704+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1535577489 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:03.704+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1653494937 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:24:03.704+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd39afb] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.704+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@458969559 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:03.705+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:03.707+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:24:03.707+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:24:03.709+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:24:03.707+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:03.707+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:24:03.707+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@175680479 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:03.709+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:24:03.711+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:24:03.711+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:24:03.711+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:24:03.717+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:03.717+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:24:03.717+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:24:03.717+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:24:03.717+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:24:03.718+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515d10b]
2025-12-26T10:24:03.718+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2683568a]
2025-12-26T10:24:03.719+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd39afb]
2025-12-26T10:24:03.719+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f3730a6]
2025-12-26T10:24:03.720+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f96fdd2]
2025-12-26T10:24:03.720+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.729+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.733+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.733+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.734+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.735+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ccb02d4] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.735+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57a87fa] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.735+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b995f0] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.736+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f5ad760] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.737+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eedbd0c] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.739+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@134026191 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:24:03.740+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@85762846 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:03.741+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@912185854 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:03.743+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@698248749 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:24:03.744+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@953480080 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:03.745+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:24:03.745+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:03.751+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:24:03.747+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:03.748+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:03.749+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:03.751+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:03.752+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:03.755+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:03.756+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:03.765+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:24:03.765+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:03.766+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:24:03.769+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:24:03.769+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:03.770+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ccb02d4]
2025-12-26T10:24:03.771+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57a87fa]
2025-12-26T10:24:03.771+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b995f0]
2025-12-26T10:24:03.771+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eedbd0c]
2025-12-26T10:24:03.771+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f5ad760]
2025-12-26T10:24:03.772+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:03.772+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:03.772+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:03.772+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.772+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.773+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:24:03.773+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf8163c] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.774+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1230e051] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.774+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:03.782+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:24:03.782+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:24:03.784+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1433865286 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:03.786+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@611285679 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:03.793+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:03.795+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:03.795+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:03.800+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:03.801+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:03.805+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:03.810+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:03.810+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:03.811+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf8163c]
2025-12-26T10:24:03.815+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1230e051]
2025-12-26T10:24:03.816+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.816+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.817+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5100ac40] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.817+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fc7914a] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.817+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564805546 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:03.818+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@979422859 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:03.820+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:24:03.821+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:24:03.821+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:24:03.822+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:24:03.825+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:24:03.826+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:24:03.826+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5100ac40]
2025-12-26T10:24:03.828+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fc7914a]
2025-12-26T10:24:03.831+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.831+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:03.832+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10ca2c16] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.833+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f9bfc14] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:03.833+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149034723 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:03.834+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1859813224 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:03.834+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:03.835+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:03.835+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:03.835+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:03.837+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:03.839+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f9bfc14]
2025-12-26T10:24:03.840+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:03.841+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:03.841+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10ca2c16]
2025-12-26T10:24:03.842+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:24:03.842+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:03.843+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:03.843+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:24:03.850+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:06.517+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T10:24:06.520+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T10:24:06.522+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/switch-company
2025-12-26T10:24:06.522+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T10:24:06.523+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T10:24:06.524+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T10:24:06.525+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=2, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T10:24:06.532+09:00  INFO 31284 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 2
2025-12-26T10:24:06.535+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:06.536+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796f4a0a] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:06.540+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@765400325 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:06.540+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:06.541+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:06.544+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:06.546+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796f4a0a]
2025-12-26T10:24:06.549+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:06.549+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4066bd78]
2025-12-26T10:24:06.551+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1502166549 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will be managed by Spring
2025-12-26T10:24:06.551+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:06.552+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:06.554+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:06.555+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4066bd78]
2025-12-26T10:24:06.556+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4066bd78] from current transaction
2025-12-26T10:24:06.557+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T10:24:06.557+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 2(Long), 5(Long)
2025-12-26T10:24:06.564+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T10:24:06.565+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4066bd78]
2025-12-26T10:24:06.566+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4066bd78] from current transaction
2025-12-26T10:24:06.566+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T10:24:06.566+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 2(Long), 5(Long)
2025-12-26T10:24:06.569+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T10:24:06.569+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4066bd78]
2025-12-26T10:24:06.570+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4066bd78]
2025-12-26T10:24:06.570+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4066bd78]
2025-12-26T10:24:06.571+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4066bd78]
2025-12-26T10:24:06.581+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:06.582+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec618c6] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:06.583+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332591534 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:06.583+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:06.584+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:06.586+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:06.586+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec618c6]
2025-12-26T10:24:06.587+09:00  INFO 31284 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 2
2025-12-26T10:24:06.588+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:06.589+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T10:24:06.590+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:07.593+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:24:07.594+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:07.594+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:24:07.594+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:24:07.598+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:24:07.600+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:07.601+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:24:07.622+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:24:07.623+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:07.624+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:24:07.626+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:24:07.631+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:24:07.634+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:24:07.638+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:07.639+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:24:07.649+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:24:07.650+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/companies
2025-12-26T10:24:07.657+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:24:07.659+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:24:07.666+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:24:07.671+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:07.673+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:24:07.673+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:24:07.681+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:24:07.683+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:24:07.684+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:07.686+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:24:07.687+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:24:07.688+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:24:07.689+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:24:07.690+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:24:07.690+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:24:07.692+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:24:07.691+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:24:07.691+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:24:07.691+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:24:07.692+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:24:07.692+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:07.693+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:07.700+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fbf07ee] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:07.693+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:07.694+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:07.694+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:07.698+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:07.699+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@683e322c] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:07.701+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73f22386] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:07.701+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5da8aaca] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:07.703+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@647aefde] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:07.704+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3727a783] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:07.707+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1991578973 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:07.710+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:24:07.712+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@177049472 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:07.712+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1966123244 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:24:07.717+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:24:07.712+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@398284226 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:07.713+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1205266966 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:07.716+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:24:07.716+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:07.717+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@289450372 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:24:07.718+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:24:07.719+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:07.719+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:24:07.720+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:07.720+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:07.722+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:24:07.723+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:07.724+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:24:07.724+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:24:07.725+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:07.726+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fbf07ee]
2025-12-26T10:24:07.727+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:07.727+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73f22386]
2025-12-26T10:24:07.730+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:07.734+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@683e322c]
2025-12-26T10:24:07.735+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:07.735+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:07.735+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:24:07.736+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:24:07.738+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@647aefde]
2025-12-26T10:24:07.736+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:07.736+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:07.737+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5da8aaca]
2025-12-26T10:24:07.737+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:24:07.738+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:07.740+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fcae9ae] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:07.741+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:07.741+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3727a783]
2025-12-26T10:24:07.741+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:07.749+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:24:07.742+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:07.743+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@785642983 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:07.744+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:24:07.745+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T10:24:07.748+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:07.751+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:07.756+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:07.760+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:24:07.761+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:07.764+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f00e524] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:07.769+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:07.770+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:24:07.784+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@216047369 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:24:07.786+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:24:07.809+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:24:07.809+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:07.810+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:07.811+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:07.811+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5053fb3e] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:07.815+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@620404290 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:07.827+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:07.832+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:07.833+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:07.833+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:07.836+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fcae9ae]
2025-12-26T10:24:07.837+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f00e524]
2025-12-26T10:24:07.838+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:07.839+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:07.840+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:24:07.840+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:24:07.844+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:07.854+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:07.866+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5053fb3e]
2025-12-26T10:24:07.859+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:07.870+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:07.892+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:24:07.895+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:18.784+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:24:18.785+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:24:18.794+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:24:18.797+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:24:18.799+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/companies
2025-12-26T10:24:18.801+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:24:18.802+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:24:18.803+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/companies
2025-12-26T10:24:18.803+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:24:18.804+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:18.804+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:24:18.805+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@675e9eb1] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:18.806+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:24:18.808+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:24:18.810+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:18.814+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271e7c3c] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:18.815+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1522120625 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:18.816+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:18.820+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:18.820+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@565501275 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:18.823+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:18.826+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:18.828+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:18.831+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@675e9eb1]
2025-12-26T10:24:18.833+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:18.835+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:24:18.836+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:18.838+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:18.839+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271e7c3c]
2025-12-26T10:24:18.840+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:18.841+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:24:18.856+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:18.847+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-26T10:24:18.847+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-26T10:24:18.872+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-26T10:24:18.872+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-26T10:24:18.890+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T10:24:18.890+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T10:24:18.893+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-26T10:24:18.903+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/company/2
2025-12-26T10:24:18.905+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/companies/2/applications
2025-12-26T10:24:18.910+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T10:24:18.910+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/company/2
2025-12-26T10:24:18.911+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T10:24:18.916+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-26T10:24:18.918+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T10:24:18.919+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-26T10:24:18.927+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T10:24:18.933+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/companies/2/applications
2025-12-26T10:24:18.936+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:24:18.937+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-26T10:24:18.940+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:24:18.941+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-26T10:24:18.943+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-26T10:24:18.942+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:24:18.942+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:24:18.954+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@1fdaebb2 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('CEO', 'ADMIN')]
2025-12-26T10:24:18.943+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:24:18.947+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:24:18.955+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:24:18.959+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@1fdaebb2 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('CEO', 'ADMIN')]
2025-12-26T10:24:18.960+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:24:18.960+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-12-26T10:24:18.961+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@1fdaebb2 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('CEO', 'ADMIN')]
2025-12-26T10:24:18.971+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-12-26T10:24:18.991+09:00  WARN 31284 --- [http-nio-8080-exec-9] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2025-12-26T10:24:18.986+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@1fdaebb2 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('CEO', 'ADMIN')]
2025-12-26T10:24:18.989+09:00  WARN 31284 --- [http-nio-8080-exec-8] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2025-12-26T10:24:18.990+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-12-26T10:24:18.994+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:19.007+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-12-26T10:24:19.011+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:19.020+09:00  WARN 31284 --- [http-nio-8080-exec-2] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2025-12-26T10:24:19.021+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2025-12-26T10:24:19.118+09:00  WARN 31284 --- [http-nio-8080-exec-3] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2025-12-26T10:24:19.132+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2025-12-26T10:24:19.133+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:19.135+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-26T10:24:19.194+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-26T10:24:19.189+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:19.199+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2025-12-26T10:24:19.191+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-26T10:24:19.193+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2025-12-26T10:24:19.201+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-26T10:24:19.208+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-26T10:24:19.208+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-26T10:24:19.208+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-26T10:24:19.209+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-26T10:24:23.843+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:24:23.847+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:23.849+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:24:23.849+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:23.850+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:24:23.850+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:24:23.866+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:24:23.867+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:23.868+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:24:23.870+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:24:23.871+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:24:23.870+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:24:23.871+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:24:23.871+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:24:23.882+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:24:23.873+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:24:23.874+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:23.876+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:24:23.877+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:23.890+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:24:23.881+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:24:23.883+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:23.893+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d9333b0] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:23.885+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:24:23.888+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:24:23.891+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:24:23.892+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:24:23.892+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:24:23.900+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@659257044 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:23.900+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:24:23.900+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:23.901+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:24:23.901+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:23.902+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:24:23.902+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:23.902+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:24:23.903+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:24:23.903+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:24:23.903+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6042c3fe] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:23.904+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:23.905+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:23.905+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:24:23.906+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:24:23.910+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:23.910+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b86ec07] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:23.906+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:24:23.907+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b742fb] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:23.910+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1388244819 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:24:23.916+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:24:23.919+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1103958758 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:23.910+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:23.910+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:23.915+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:23.919+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1076200947 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:24:23.919+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:24:23.920+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:23.921+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d9333b0]
2025-12-26T10:24:23.924+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:23.921+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5957b82b] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:23.921+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da3a8bc] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:23.923+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:23.928+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:23.924+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:23.931+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562566c6] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:23.926+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@259317388 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:23.932+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:24:23.935+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:24:23.936+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:23.940+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b742fb]
2025-12-26T10:24:23.938+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1895244365 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:23.941+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:23.938+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585831019 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:23.942+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:23.938+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:23.950+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b86ec07]
2025-12-26T10:24:23.941+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:23.942+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:23.945+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:23.953+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:23.954+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:24:23.955+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:24:23.955+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:24:23.957+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26afab95] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:23.957+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6042c3fe]
2025-12-26T10:24:23.957+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5957b82b]
2025-12-26T10:24:23.958+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:23.961+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@565449460 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:24:23.964+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:23.965+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:23.971+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:23.972+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:24:23.976+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:24:23.977+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:23.989+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:23.992+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:24.001+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:24.003+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:24.016+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562566c6]
2025-12-26T10:24:24.017+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da3a8bc]
2025-12-26T10:24:24.017+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:24.018+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:24.018+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:24:24.021+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:24:24.023+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:24.024+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:24.026+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:24.031+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26afab95]
2025-12-26T10:24:24.040+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:24.041+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:24:24.048+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:29.655+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:24:29.655+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:24:29.656+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:24:29.656+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-26T10:24:29.671+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:24:29.672+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:24:29.678+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/me
2025-12-26T10:24:29.672+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:24:29.682+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/companies
2025-12-26T10:24:29.682+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:24:29.684+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/me
2025-12-26T10:24:29.684+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-26T10:24:29.700+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:24:29.704+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:24:29.701+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:24:29.705+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:24:29.702+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:24:29.704+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/companies/pending
2025-12-26T10:24:29.705+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:24:29.707+09:00  INFO 31284 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 2
2025-12-26T10:24:29.707+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:24:29.708+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-26T10:24:29.711+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:24:29.709+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:29.709+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:29.712+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-26T10:24:29.715+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-26T10:24:29.714+09:00  INFO 31284 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 2
2025-12-26T10:24:29.714+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650266de] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:29.715+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7499fec0] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:29.716+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:29.717+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:29.720+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@639a2039] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:29.724+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb01680] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:29.728+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@953501357 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:29.731+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1884001152 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:24:29.734+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:29.735+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:29.737+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:29.737+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@375979600 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:29.737+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1931310152 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:29.739+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:29.739+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:29.741+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:24:29.742+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 5(Long), PENDING(String)
2025-12-26T10:24:29.745+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:29.750+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:24:29.752+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7499fec0]
2025-12-26T10:24:29.753+09:00  INFO 31284 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 2
2025-12-26T10:24:29.755+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:29.756+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:29.757+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650266de]
2025-12-26T10:24:29.757+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:24:29.758+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:29.759+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:29.759+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:24:29.760+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:24:29.760+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-26T10:24:29.764+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:29.764+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb01680]
2025-12-26T10:24:29.765+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@639a2039]
2025-12-26T10:24:29.771+09:00  INFO 31284 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 2
2025-12-26T10:24:29.772+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:29.773+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:29.773+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:24:29.773+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:24:29.774+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:29.776+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:35.920+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:35.919+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:24:35.920+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:24:35.920+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:24:35.920+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:35.921+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:24:35.925+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:35.927+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:24:35.932+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:24:35.934+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:24:35.934+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:24:35.935+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:24:35.930+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:24:35.931+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:24:35.938+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:24:35.939+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:24:35.939+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:24:35.939+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:24:35.940+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:35.935+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:24:35.937+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:24:35.938+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:35.942+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19bb0397] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:35.947+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:35.950+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:24:36.006+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:24:36.009+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:24:36.064+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:24:36.010+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:24:36.068+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:24:36.070+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:36.054+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:24:36.058+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924080703 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:24:36.060+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:24:36.063+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:36.067+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:36.072+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3363dcff] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:36.073+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:24:36.101+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:36.102+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:24:36.102+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56556f09] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:36.103+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6889535] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:36.105+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:24:36.107+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:36.107+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:24:36.110+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:24:36.110+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1628917896 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:36.114+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2029335552 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:36.115+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@213260031 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:36.116+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:24:36.117+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:24:36.117+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:36.117+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:36.117+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:36.118+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:36.119+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:24:36.119+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:36.120+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@315b0f61] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:36.121+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:36.121+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:36.121+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264acf7e] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:36.122+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19bb0397]
2025-12-26T10:24:36.124+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:24:36.124+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@205690013 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:24:36.125+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:36.125+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:36.125+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:36.126+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3363dcff]
2025-12-26T10:24:36.127+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:24:36.129+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6889535]
2025-12-26T10:24:36.132+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56556f09]
2025-12-26T10:24:36.132+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:24:36.133+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:36.133+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:24:36.133+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@678217930 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:24:36.140+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:24:36.134+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:36.134+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:36.135+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:36.139+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:24:36.141+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:24:36.141+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c339aad] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:36.141+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:24:36.142+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2417b80a] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:36.145+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:36.154+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@429051758 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:24:36.157+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:36.172+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:36.155+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@315b0f61]
2025-12-26T10:24:36.155+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@386814109 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:24:36.175+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:36.177+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:24:36.184+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:24:36.190+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:24:36.191+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:36.194+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:24:36.197+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264acf7e]
2025-12-26T10:24:36.202+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:36.202+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:36.202+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:24:36.202+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:24:36.203+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2417b80a]
2025-12-26T10:24:36.204+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c339aad]
2025-12-26T10:24:36.205+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:36.205+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:36.206+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:36.210+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:24:36.211+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:24:36.213+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:36.219+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:58.412+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:24:58.413+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:24:58.747+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:24:58.754+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/approvers
2025-12-26T10:24:58.758+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:24:58.769+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:24:58.762+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:24:58.771+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:24:58.774+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/approvers
2025-12-26T10:24:58.779+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:24:58.786+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:24:58.786+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:24:58.777+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:58.787+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:24:58.787+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c49e0c8] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:58.787+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d28fae0] was not registered for synchronization because synchronization is not active
2025-12-26T10:24:58.811+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1222760216 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:24:58.812+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1965942495 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:24:58.835+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T10:24:58.836+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T10:24:58.847+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 2(Long)
2025-12-26T10:24:58.849+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 2(Long)
2025-12-26T10:24:58.869+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 1
2025-12-26T10:24:58.869+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 1
2025-12-26T10:24:58.875+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c49e0c8]
2025-12-26T10:24:58.876+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d28fae0]
2025-12-26T10:24:58.876+09:00  INFO 31284 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 2, count: 1
2025-12-26T10:24:58.877+09:00  INFO 31284 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 2, count: 1
2025-12-26T10:24:58.877+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:58.882+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:24:58.882+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-26T10:24:58.883+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-26T10:24:58.885+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:24:58.885+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:25:00.736+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:25:00.738+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:25:00.738+09:00 DEBUG 31284 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:25:00.740+09:00 DEBUG 31284 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:25:00.741+09:00 DEBUG 31284 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:25:00.742+09:00 DEBUG 31284 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:25:00.758+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:25:00.759+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:25:00.760+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:25:00.768+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:25:00.770+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:25:00.775+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:25:00.770+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:25:00.776+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:25:00.771+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:25:00.774+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:25:00.782+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:25:00.774+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:25:00.783+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:25:00.783+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:25:00.784+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:25:00.775+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:25:00.776+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:25:00.776+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:25:00.783+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:25:00.783+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:25:00.784+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:25:00.785+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:25:00.785+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:25:00.787+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:25:00.787+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:25:00.787+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:25:00.788+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32946890] was not registered for synchronization because synchronization is not active
2025-12-26T10:25:00.788+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:25:00.788+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:25:00.789+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:25:00.793+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:25:00.789+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:25:00.790+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:25:00.791+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:25:00.793+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:25:00.793+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efe01cf] was not registered for synchronization because synchronization is not active
2025-12-26T10:25:00.795+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:25:00.799+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317fd03] was not registered for synchronization because synchronization is not active
2025-12-26T10:25:00.796+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:25:00.800+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b45ab68] was not registered for synchronization because synchronization is not active
2025-12-26T10:25:00.796+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16351dca] was not registered for synchronization because synchronization is not active
2025-12-26T10:25:00.797+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4a4172] was not registered for synchronization because synchronization is not active
2025-12-26T10:25:00.798+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@15885869 wrapping com.mysql.cj.jdbc.ConnectionImpl@79eca5f5] will not be managed by Spring
2025-12-26T10:25:00.805+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@549066609 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c43b0af] will not be managed by Spring
2025-12-26T10:25:00.806+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:25:00.806+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1473032669 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:25:00.806+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@346759682 wrapping com.mysql.cj.jdbc.ConnectionImpl@1482969c] will not be managed by Spring
2025-12-26T10:25:00.806+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1623262586 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:25:00.806+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93157608 wrapping com.mysql.cj.jdbc.ConnectionImpl@5db8f2d6] will not be managed by Spring
2025-12-26T10:25:00.807+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:25:00.807+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:25:00.807+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:25:00.808+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:25:00.808+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:25:00.808+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:25:00.809+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:25:00.810+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:25:00.815+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:25:00.815+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:25:00.817+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:25:00.818+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:25:00.821+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32946890]
2025-12-26T10:25:00.823+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:25:00.826+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:25:00.827+09:00 DEBUG 31284 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:25:00.833+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:25:00.833+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:25:00.834+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:25:00.834+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:25:00.837+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:25:00.854+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4a4172]
2025-12-26T10:25:00.854+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16351dca]
2025-12-26T10:25:00.855+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efe01cf]
2025-12-26T10:25:00.855+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b45ab68]
2025-12-26T10:25:00.855+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317fd03]
2025-12-26T10:25:00.856+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:25:00.859+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:25:00.861+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:25:00.862+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:25:00.865+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:25:00.866+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:25:00.867+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b251fc] was not registered for synchronization because synchronization is not active
2025-12-26T10:25:00.867+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558b0edc] was not registered for synchronization because synchronization is not active
2025-12-26T10:25:00.867+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:25:00.868+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:25:00.873+09:00 DEBUG 31284 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:25:00.869+09:00 DEBUG 31284 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:25:00.871+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@687338446 wrapping com.mysql.cj.jdbc.ConnectionImpl@593fc86e] will not be managed by Spring
2025-12-26T10:25:00.872+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@990199918 wrapping com.mysql.cj.jdbc.ConnectionImpl@3eeebae7] will not be managed by Spring
2025-12-26T10:25:00.874+09:00 DEBUG 31284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:25:00.890+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:25:00.890+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:25:00.898+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:25:00.902+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:25:00.906+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:25:00.909+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b251fc]
2025-12-26T10:25:00.910+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:25:00.918+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:25:00.920+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:25:00.921+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558b0edc]
2025-12-26T10:25:00.921+09:00 DEBUG 31284 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:25:00.922+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:25:00.932+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:25:00.934+09:00 DEBUG 31284 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:27:53.585+09:00  INFO 27384 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 27384 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-26T10:27:53.589+09:00 DEBUG 27384 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-26T10:27:53.591+09:00  INFO 27384 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-26T10:27:55.678+09:00 DEBUG 27384 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-26T10:27:55.680+09:00 DEBUG 27384 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-26T10:27:56.033+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-26T10:27:56.035+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-26T10:27:56.037+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-26T10:27:56.038+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-26T10:27:56.048+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-26T10:27:56.050+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-26T10:27:56.054+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-26T10:27:56.067+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-26T10:27:56.071+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-26T10:27:56.073+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-26T10:27:56.085+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-26T10:27:56.088+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-26T10:27:56.092+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-26T10:27:56.097+09:00 DEBUG 27384 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-26T10:27:57.028+09:00  INFO 27384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:27:57.055+09:00  INFO 27384 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:27:57.063+09:00  INFO 27384 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-26T10:27:57.191+09:00  INFO 27384 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:27:57.192+09:00  INFO 27384 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3515 ms
2025-12-26T10:27:57.303+09:00 DEBUG 27384 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-26T10:27:57.306+09:00 DEBUG 27384 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-26T10:27:57.801+09:00 DEBUG 27384 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-26T10:27:57.960+09:00 DEBUG 27384 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-26T10:27:58.075+09:00 DEBUG 27384 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-26T10:27:58.109+09:00 DEBUG 27384 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-26T10:27:58.137+09:00 DEBUG 27384 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-26T10:27:58.147+09:00 DEBUG 27384 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-26T10:27:58.185+09:00 DEBUG 27384 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-26T10:27:59.104+09:00 DEBUG 27384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 88 mappings in 'requestMappingHandlerMapping'
2025-12-26T10:27:59.337+09:00 DEBUG 27384 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T10:27:59.464+09:00  WARN 27384 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: ff67380e-5dee-46cf-89de-8c74ab8b5a2b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-26T10:27:59.632+09:00  INFO 27384 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-26T10:27:59.860+09:00 DEBUG 27384 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T10:28:00.118+09:00 DEBUG 27384 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T10:28:00.337+09:00 DEBUG 27384 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T10:28:00.467+09:00 DEBUG 27384 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-26T10:28:01.000+09:00  INFO 27384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:28:01.034+09:00  INFO 27384 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.295 seconds (process running for 8.878)
2025-12-26T10:28:14.849+09:00  INFO 27384 --- [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:28:14.928+09:00  INFO 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:28:14.952+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T10:28:14.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T10:28:15.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T10:28:15.029+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@a4df251
2025-12-26T10:28:15.054+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@369ad7da
2025-12-26T10:28:15.063+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T10:28:15.068+09:00  INFO 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 116 ms
2025-12-26T10:28:15.112+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:28:15.112+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:28:15.112+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:28:15.113+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:28:15.113+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:15.113+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:15.202+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:28:15.219+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:15.219+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:28:15.220+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:28:15.220+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:28:15.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:15.234+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:28:15.496+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:28:15.497+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:28:15.502+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:28:15.501+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/companies
2025-12-26T10:28:15.512+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:28:15.515+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:28:15.529+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:15.529+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:28:15.531+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:28:15.620+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:28:15.609+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:28:15.613+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:28:15.614+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:15.620+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:28:15.637+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:28:15.620+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:28:15.626+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:28:15.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:28:15.633+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:28:15.634+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:28:15.659+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:28:15.707+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:15.708+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:15.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:28:15.758+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:28:15.787+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:28:15.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a07c3ef] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:15.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56290ca0] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:15.802+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:15.808+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:15.812+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:15.813+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:15.816+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@137284d4] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:15.832+09:00  INFO 27384 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:28:15.847+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585159b9] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:15.852+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2094401b] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:15.853+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea533da] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:16.264+09:00  INFO 27384 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42ed34d
2025-12-26T10:28:16.267+09:00  INFO 27384 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:28:16.277+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1997960844 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:16.299+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:16.367+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:16.418+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:16.420+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1887127137 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:16.425+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:16.432+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:16.438+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a07c3ef]
2025-12-26T10:28:16.442+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:16.445+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585159b9]
2025-12-26T10:28:16.449+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:16.447+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689108798 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:16.449+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2058323752 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:16.452+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c7be56b] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:16.453+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:16.455+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:28:16.465+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:16.466+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:28:16.547+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:16.561+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:28:16.562+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:16.564+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea533da]
2025-12-26T10:28:16.564+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2094401b]
2025-12-26T10:28:16.567+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:16.575+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:28:16.567+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869528091 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:16.570+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:16.570+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@747755073 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:16.571+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:28:16.595+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:16.596+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:28:16.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a3761] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:16.598+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:28:16.600+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:16.607+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:28:16.611+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:28:16.632+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:28:16.696+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/pending
2025-12-26T10:28:16.703+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:28:16.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:28:16.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:28:16.712+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:28:16.713+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:28:16.714+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@137284d4]
2025-12-26T10:28:16.714+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56290ca0]
2025-12-26T10:28:16.715+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:16.718+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@589bdb03] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:16.716+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1095321240 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:16.716+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1086599383 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:16.716+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:16.718+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:16.719+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:16.725+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:16.726+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:28:16.729+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1795537512 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:16.730+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:16.734+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:16.737+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T10:28:16.737+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:16.740+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:16.749+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:16.753+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:16.770+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:16.770+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:16.778+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:16.782+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a3761]
2025-12-26T10:28:16.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c7be56b]
2025-12-26T10:28:16.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@589bdb03]
2025-12-26T10:28:16.785+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:16.786+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:16.787+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:16.792+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:28:16.792+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:28:16.795+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=CEO 또는 ADMIN 권한이 필요합니다., data=null)]
2025-12-26T10:28:16.811+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:16.811+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:16.817+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:20.318+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T10:28:20.323+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T10:28:20.335+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/switch-company
2025-12-26T10:28:20.341+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T10:28:20.344+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T10:28:20.347+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T10:28:20.399+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=1, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T10:28:20.401+09:00  INFO 27384 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 1
2025-12-26T10:28:20.402+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:20.403+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1419b84d] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:20.408+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@860591136 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:20.410+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:20.415+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:20.420+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:20.420+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1419b84d]
2025-12-26T10:28:20.432+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:20.433+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433505a8]
2025-12-26T10:28:20.436+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@202457362 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will be managed by Spring
2025-12-26T10:28:20.436+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:20.438+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:20.450+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:20.452+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433505a8]
2025-12-26T10:28:20.454+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433505a8] from current transaction
2025-12-26T10:28:20.454+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T10:28:20.455+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 1(Long), 5(Long)
2025-12-26T10:28:20.463+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T10:28:20.463+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433505a8]
2025-12-26T10:28:20.465+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433505a8] from current transaction
2025-12-26T10:28:20.466+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T10:28:20.467+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 1(Long), 5(Long)
2025-12-26T10:28:20.486+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T10:28:20.488+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433505a8]
2025-12-26T10:28:20.489+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433505a8]
2025-12-26T10:28:20.491+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433505a8]
2025-12-26T10:28:20.495+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433505a8]
2025-12-26T10:28:20.506+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:20.509+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42706029] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:20.511+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@473961473 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:20.512+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:20.514+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:20.520+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:20.524+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42706029]
2025-12-26T10:28:20.553+09:00  INFO 27384 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 1
2025-12-26T10:28:20.557+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:20.566+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T10:28:20.583+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:21.626+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:28:21.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:28:21.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:21.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:28:21.632+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:28:21.632+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:21.636+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:28:21.653+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:28:21.655+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:28:21.658+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:21.661+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:28:21.664+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:28:21.664+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:28:21.681+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:28:21.669+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:28:21.669+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:28:21.678+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:28:21.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T10:28:21.682+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:28:21.685+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:28:21.685+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:28:21.685+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:28:21.687+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:21.688+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:28:21.690+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:28:21.692+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:28:21.692+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:28:21.699+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:28:21.694+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:28:21.700+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:28:21.695+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:28:21.696+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:28:21.696+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:28:21.697+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:28:21.708+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.712+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32edf84d] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.700+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:28:21.702+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.702+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:28:21.703+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:28:21.704+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.714+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.716+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2593426a] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.717+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@532755634 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:21.718+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.721+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:21.719+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.720+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da80b21] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.728+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264354954 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:21.729+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:21.720+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@280fc9ce] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.721+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a91ba30] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.727+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:21.727+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d050d7e] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.731+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:21.737+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@832981663 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:21.737+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@838071133 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:21.747+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:21.747+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1315658704 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:21.749+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:28:21.751+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:21.753+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:21.753+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32edf84d]
2025-12-26T10:28:21.753+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:28:21.754+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2593426a]
2025-12-26T10:28:21.758+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:21.760+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:21.762+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.762+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1136847534 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:21.763+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:28:21.764+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.766+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d97660] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.768+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:21.769+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:28:21.771+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:28:21.771+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@296fe378] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.772+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1105625245 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:21.775+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@280fc9ce]
2025-12-26T10:28:21.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.778+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:28:21.778+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:28:21.781+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da80b21]
2025-12-26T10:28:21.782+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:28:21.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@697908835 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:21.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1652cf41] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.784+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a91ba30]
2025-12-26T10:28:21.788+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:28:21.784+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.785+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:28:21.786+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:21.787+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@921460324 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:21.788+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.794+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16589f9] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.788+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d050d7e]
2025-12-26T10:28:21.788+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794cfdce] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.794+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:28:21.794+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:21.795+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1578950820 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:21.796+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:21.796+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@717054408 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:21.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:28:21.798+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:21.798+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T10:28:21.800+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:21.802+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:21.806+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:21.803+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:21.814+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:21.818+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:28:21.818+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:21.820+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d97660]
2025-12-26T10:28:21.828+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:28:21.837+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@296fe378]
2025-12-26T10:28:21.838+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:21.840+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:21.844+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.846+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:28:21.848+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab43f63] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.848+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:28:21.849+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:21.850+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@259132450 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:21.853+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:21.855+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:28:21.851+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:28:21.858+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.862+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:21.862+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:28:21.865+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:21.868+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f771d28] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.869+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16589f9]
2025-12-26T10:28:21.870+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1652cf41]
2025-12-26T10:28:21.871+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794cfdce]
2025-12-26T10:28:21.876+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1410860638 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:21.876+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.877+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:28:21.882+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:21.882+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.883+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:28:21.883+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@599d5b76] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.883+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab43f63]
2025-12-26T10:28:21.884+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:28:21.886+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac6fe09] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.894+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:28:21.894+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1947872253 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:21.899+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:21.895+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.900+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:28:21.896+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:21.898+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1685769746 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:21.900+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae9b1e] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.907+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:21.908+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@716134392 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:21.910+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:28:21.911+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:21.914+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:21.917+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:28:21.917+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:28:21.918+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:28:21.922+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f771d28]
2025-12-26T10:28:21.919+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@599d5b76]
2025-12-26T10:28:21.921+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac6fe09]
2025-12-26T10:28:21.924+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:28:21.924+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.926+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.928+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.928+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae9b1e]
2025-12-26T10:28:21.930+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.929+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a1a9d5] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.929+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b8a1624] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.930+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed4d098] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.930+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55441b26] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.932+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865967540 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:21.933+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1493149384 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:21.933+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@321870845 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:21.934+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@616766715 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:21.934+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:21.934+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:21.935+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:21.935+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:21.936+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:21.936+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:21.937+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:21.938+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:21.942+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:21.942+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:21.945+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b8a1624]
2025-12-26T10:28:21.946+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a1a9d5]
2025-12-26T10:28:21.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:21.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.949+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@422c5b28] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.949+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:28:21.953+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@665238969 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:21.954+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed4d098]
2025-12-26T10:28:21.960+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:28:21.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:21.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.965+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@753348e0] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.966+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1939225880 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:21.963+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:21.964+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:28:21.966+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:21.969+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:21.969+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55441b26]
2025-12-26T10:28:21.977+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:28:21.979+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:21.979+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.979+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@422c5b28]
2025-12-26T10:28:21.980+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36c9fa33] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.980+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.981+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1134643943 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:21.982+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:21.981+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f0b5ca] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.982+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:21.984+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1696940871 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:21.983+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:28:21.984+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@753348e0]
2025-12-26T10:28:21.984+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:21.985+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:21.985+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.987+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e7ddb71] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.987+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:28:21.991+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23521814 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:21.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36c9fa33]
2025-12-26T10:28:21.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:21.995+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:21.995+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:21.996+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:28:21.996+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17aaa9a8] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:21.996+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f0b5ca]
2025-12-26T10:28:21.997+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858851084 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:21.997+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:21.997+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:21.998+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:28:21.998+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:22.000+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:28:22.001+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:22.001+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e7ddb71]
2025-12-26T10:28:22.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:22.013+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d827e8c] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:22.011+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:22.014+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2147468289 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:22.014+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17aaa9a8]
2025-12-26T10:28:22.014+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:22.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:22.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:22.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:28:22.019+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:22.020+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:22.028+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d827e8c]
2025-12-26T10:28:22.031+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:22.068+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:28:22.078+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:24.533+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T10:28:24.538+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T10:28:24.543+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/switch-company
2025-12-26T10:28:24.551+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T10:28:24.552+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T10:28:24.571+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T10:28:24.579+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=2, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T10:28:24.580+09:00  INFO 27384 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 2
2025-12-26T10:28:24.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:24.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b4933cc] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:24.585+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581459998 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:24.586+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:24.589+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:24.596+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:24.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b4933cc]
2025-12-26T10:28:24.599+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:24.600+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b18a034]
2025-12-26T10:28:24.601+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149408298 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will be managed by Spring
2025-12-26T10:28:24.603+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:24.610+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:24.621+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:24.627+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b18a034]
2025-12-26T10:28:24.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b18a034] from current transaction
2025-12-26T10:28:24.630+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T10:28:24.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 2(Long), 5(Long)
2025-12-26T10:28:24.644+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T10:28:24.645+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b18a034]
2025-12-26T10:28:24.646+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b18a034] from current transaction
2025-12-26T10:28:24.646+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T10:28:24.646+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 2(Long), 5(Long)
2025-12-26T10:28:24.650+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T10:28:24.652+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b18a034]
2025-12-26T10:28:24.653+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b18a034]
2025-12-26T10:28:24.654+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b18a034]
2025-12-26T10:28:24.660+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b18a034]
2025-12-26T10:28:24.709+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:24.710+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390232f6] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:24.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@116349131 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:24.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:24.712+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:24.717+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:24.718+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390232f6]
2025-12-26T10:28:24.720+09:00  INFO 27384 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 2
2025-12-26T10:28:24.726+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:24.726+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T10:28:24.728+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:25.921+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:28:25.925+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:25.925+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:28:25.926+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:25.926+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:28:25.944+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:25.944+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:28:25.964+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:28:25.965+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:28:25.967+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:25.975+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:25.983+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:28:25.983+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:28:25.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:28:25.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:28:26.002+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:28:26.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/companies
2025-12-26T10:28:26.015+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:28:26.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:28:26.021+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:28:26.029+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:26.030+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:28:26.032+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:28:26.033+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:28:26.035+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:26.040+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:28:26.043+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:28:26.044+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:28:26.046+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:26.046+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15eab2c0] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:26.047+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:28:26.049+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:28:26.050+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:28:26.050+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a2275] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:26.052+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:26.053+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:26.055+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:26.057+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@92ccb4d] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:26.061+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@160a30d4] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:26.067+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721f3440] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:26.069+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@146068837 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:26.094+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:26.096+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:26.070+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732003432 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:26.100+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:28:26.085+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909817819 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:26.086+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@609958007 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:26.121+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:28:26.119+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:28:26.121+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:28:26.125+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1621621747 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:26.129+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:28:26.126+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:26.127+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:28:26.130+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:26.141+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a2275]
2025-12-26T10:28:26.146+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:26.150+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:26.150+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:28:26.151+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:28:26.153+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a4a7820] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:26.153+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15eab2c0]
2025-12-26T10:28:26.167+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:28:26.168+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@92ccb4d]
2025-12-26T10:28:26.172+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@698411465 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:26.172+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:26.176+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@160a30d4]
2025-12-26T10:28:26.178+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:26.180+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:26.181+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:28:26.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:26.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:26.183+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:28:26.184+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:26.186+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721f3440]
2025-12-26T10:28:26.186+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:26.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T10:28:26.192+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:26.195+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:26.198+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:26.202+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691628d7] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:26.209+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:26.213+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@530892968 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:26.213+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a4a7820]
2025-12-26T10:28:26.214+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:26.215+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:26.218+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:26.219+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:28:26.220+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:26.229+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:26.230+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691628d7]
2025-12-26T10:28:26.232+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:26.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:28:26.236+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:39.340+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:28:39.342+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:39.349+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:28:39.349+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:28:39.350+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:39.354+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:28:39.356+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:39.358+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:28:39.360+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:28:39.363+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:39.365+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:28:39.368+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:28:39.392+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:39.375+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/companies
2025-12-26T10:28:39.384+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:28:39.387+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:28:39.391+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:28:39.394+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:28:39.453+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:28:39.455+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:28:39.457+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:39.463+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:28:39.458+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:28:39.460+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:28:39.460+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:28:39.470+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:28:39.473+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:39.461+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:28:39.464+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:28:39.467+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:28:39.480+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:39.470+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:39.486+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72676b3c] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:39.478+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10f03d9] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:39.479+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:28:39.480+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:39.501+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b3e6a4] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:39.482+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@467b2058] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:39.499+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:39.508+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b03c336] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:39.515+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221088490 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:39.515+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2069485068 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:39.516+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675740835 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:39.516+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@65110860 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:39.518+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:39.519+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:28:39.519+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:28:39.520+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:28:39.523+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@190284208 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:39.525+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:39.526+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:28:39.528+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:28:39.529+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:28:39.529+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:39.535+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:39.537+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:39.538+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b3e6a4]
2025-12-26T10:28:39.539+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:28:39.540+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:28:39.540+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@467b2058]
2025-12-26T10:28:39.540+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:39.541+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10f03d9]
2025-12-26T10:28:39.541+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:39.541+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b26fef5] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:39.542+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:39.543+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:28:39.544+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@522308227 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:39.545+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T10:28:39.548+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:39.554+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:39.557+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:28:39.557+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:39.561+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:39.565+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:39.567+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72676b3c]
2025-12-26T10:28:39.567+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b03c336]
2025-12-26T10:28:39.572+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:39.575+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:28:39.574+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:39.579+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:39.580+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4446c72] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:39.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865646947 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:39.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:39.600+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:39.614+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:39.616+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b26fef5]
2025-12-26T10:28:39.617+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:39.617+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:28:39.618+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:28:39.619+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4446c72]
2025-12-26T10:28:39.620+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:39.624+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:39.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:28:39.630+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:43.818+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:28:43.819+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:28:43.819+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-26T10:28:43.825+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:28:43.932+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:28:43.942+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:28:43.943+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:28:43.944+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-26T10:28:43.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/me
2025-12-26T10:28:43.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/me
2025-12-26T10:28:43.952+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/companies/pending
2025-12-26T10:28:43.953+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/companies
2025-12-26T10:28:43.956+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:28:43.957+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:28:43.957+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-26T10:28:43.963+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:28:43.965+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:28:43.966+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:28:43.967+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-26T10:28:43.967+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:28:43.969+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:28:43.969+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:28:43.970+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-26T10:28:43.974+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:28:43.981+09:00  INFO 27384 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 2
2025-12-26T10:28:43.982+09:00  INFO 27384 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 2
2025-12-26T10:28:43.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:43.990+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:43.992+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:43.993+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:43.995+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19f5e20f] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:43.995+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ebebdc] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:43.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642941a7] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:43.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36371952] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:44.015+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1822126550 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:44.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23438928 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:44.017+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2121104449 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:44.017+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@836296970 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:44.024+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:44.019+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:44.019+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:44.021+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:44.025+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:44.030+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 5(Long), PENDING(String)
2025-12-26T10:28:44.026+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:44.028+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:44.037+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-26T10:28:44.037+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:44.038+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:44.039+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:44.040+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ebebdc]
2025-12-26T10:28:44.041+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642941a7]
2025-12-26T10:28:44.042+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19f5e20f]
2025-12-26T10:28:44.042+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36371952]
2025-12-26T10:28:44.044+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:44.045+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:44.048+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:44.048+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:44.048+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:28:44.049+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@479d865f] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:44.050+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0725] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:44.053+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:44.059+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=5, companyId= (truncated)...]
2025-12-26T10:28:44.065+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1441919904 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:44.070+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@12077162 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:44.079+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:44.082+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:44.083+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:44.092+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:44.094+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:44.098+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:44.098+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:44.102+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0725]
2025-12-26T10:28:44.103+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@479d865f]
2025-12-26T10:28:44.105+09:00  INFO 27384 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 2, role: USER
2025-12-26T10:28:44.111+09:00  INFO 27384 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 2, role: USER
2025-12-26T10:28:44.112+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:44.113+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:44.116+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:28:44.118+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:28:44.120+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:44.128+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:47.502+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T10:28:47.507+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T10:28:47.511+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/switch-company
2025-12-26T10:28:47.515+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T10:28:47.516+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T10:28:47.516+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T10:28:47.517+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=1, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T10:28:47.518+09:00  INFO 27384 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 1
2025-12-26T10:28:47.519+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:47.519+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e4ca56] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:47.526+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1161799360 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:47.527+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:47.531+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:47.537+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:47.537+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e4ca56]
2025-12-26T10:28:47.543+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:47.543+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c67fd66]
2025-12-26T10:28:47.546+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924896778 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will be managed by Spring
2025-12-26T10:28:47.546+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:47.547+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:47.550+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:47.550+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c67fd66]
2025-12-26T10:28:47.551+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c67fd66] from current transaction
2025-12-26T10:28:47.552+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T10:28:47.552+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 1(Long), 5(Long)
2025-12-26T10:28:47.558+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T10:28:47.559+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c67fd66]
2025-12-26T10:28:47.560+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c67fd66] from current transaction
2025-12-26T10:28:47.561+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T10:28:47.561+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 1(Long), 5(Long)
2025-12-26T10:28:47.570+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T10:28:47.570+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c67fd66]
2025-12-26T10:28:47.570+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c67fd66]
2025-12-26T10:28:47.571+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c67fd66]
2025-12-26T10:28:47.579+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c67fd66]
2025-12-26T10:28:47.585+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:47.585+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ebc4415] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:47.587+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1647174416 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:47.587+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:47.587+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:47.592+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:47.592+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ebc4415]
2025-12-26T10:28:47.596+09:00  INFO 27384 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 1
2025-12-26T10:28:47.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:47.598+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T10:28:47.598+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:49.857+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:28:49.862+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:28:49.863+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:28:49.867+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-26T10:28:49.867+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:28:49.884+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:28:49.886+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:28:49.894+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T10:28:49.886+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:28:49.895+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/me
2025-12-26T10:28:49.897+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:28:49.898+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:28:49.899+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:28:49.899+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:28:49.900+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T10:28:49.904+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-26T10:28:49.911+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:28:49.911+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:28:49.912+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:28:49.923+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:28:49.978+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:28:49.931+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:49.981+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@398dce1e] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:49.931+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies/pending
2025-12-26T10:28:49.965+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/me
2025-12-26T10:28:49.970+09:00  INFO 27384 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 1
2025-12-26T10:28:49.980+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:28:50.049+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:49.983+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-26T10:28:50.034+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:28:50.046+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1317691201 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:50.052+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:28:50.047+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:50.050+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64242fdf] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:50.051+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-26T10:28:50.051+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:28:50.053+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:28:50.054+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2e25eb] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:50.063+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-26T10:28:50.063+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:28:50.065+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:50.065+09:00  INFO 27384 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 1
2025-12-26T10:28:50.066+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be95c8] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:50.067+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:50.068+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7877c746] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:50.084+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@353789149 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:50.084+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@144156339 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:50.085+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1683830321 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:50.085+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:28:50.097+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:50.098+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1775231580 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:50.099+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:50.099+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:50.113+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@398dce1e]
2025-12-26T10:28:50.129+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:50.132+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:50.137+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 5(Long), PENDING(String)
2025-12-26T10:28:50.142+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:50.143+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:50.145+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:50.153+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T10:28:50.161+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:50.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:50.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-26T10:28:50.167+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:50.177+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64242fdf]
2025-12-26T10:28:50.178+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2e25eb]
2025-12-26T10:28:50.178+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be95c8]
2025-12-26T10:28:50.180+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:50.184+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:50.184+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:50.185+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:50.186+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7877c746]
2025-12-26T10:28:50.186+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T10:28:50.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73d4d910] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:50.194+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:28:50.195+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:50.196+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:50.197+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@213262090 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:50.199+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:50.210+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333d3f2f] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:50.213+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:50.218+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1792453593 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:50.219+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:50.221+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:50.229+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:50.232+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:50.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:50.234+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73d4d910]
2025-12-26T10:28:50.235+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333d3f2f]
2025-12-26T10:28:50.236+09:00  INFO 27384 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 1, role: ADMIN
2025-12-26T10:28:50.237+09:00  INFO 27384 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 1, role: ADMIN
2025-12-26T10:28:50.237+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:50.238+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:50.244+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:28:50.244+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:28:50.246+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:50.252+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:57.902+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:57.902+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:28:57.902+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:28:57.902+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:28:57.902+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:57.903+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:28:57.911+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:57.919+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:28:57.920+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:28:57.924+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:57.928+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:28:57.929+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:28:57.934+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:28:57.934+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:28:57.950+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:28:57.935+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:57.944+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:28:57.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:28:57.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:28:57.960+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:28:57.951+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:28:57.951+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:28:57.953+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:28:57.955+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:28:57.960+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:28:57.960+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:28:57.960+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:28:57.961+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:28:57.961+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:28:57.961+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:28:57.961+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:28:57.961+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:28:57.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:28:57.964+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:57.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:28:57.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:57.965+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc9b8d1] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:57.963+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:28:57.963+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:28:57.963+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:57.968+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:57.964+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ab4793] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:57.965+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:57.967+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:57.968+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d33423d] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:57.970+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffe095] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:57.970+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160027335 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:57.977+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:28:57.971+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@508e9b8c] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:57.974+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@781a3386] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:57.976+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1616399388 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:57.978+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:28:57.980+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@867656339 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:57.980+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@947532204 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:57.983+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:57.983+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540147256 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:57.983+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@362039407 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:28:57.984+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:57.985+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:57.987+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:28:57.990+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:57.991+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:57.992+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:28:57.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:28:57.993+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:57.995+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:57.995+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc9b8d1]
2025-12-26T10:28:57.998+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:57.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:58.006+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.008+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ab4793]
2025-12-26T10:28:58.009+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c848e7c] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.011+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:28:58.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:28:58.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:28:58.013+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:58.013+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245590048 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:58.013+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@781a3386]
2025-12-26T10:28:58.014+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fcb4ff8] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.014+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@508e9b8c]
2025-12-26T10:28:58.015+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffe095]
2025-12-26T10:28:58.015+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d33423d]
2025-12-26T10:28:58.015+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:58.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@889116851 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:58.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.017+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.017+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.017+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:58.018+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a105c1a] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.018+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:28:58.018+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ef186ed] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.020+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d01fda] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.021+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8bb799f] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.025+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@281211038 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:28:58.028+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:28:58.029+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503552490 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:58.029+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@645584626 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:58.032+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:58.032+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@19409957 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:58.032+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:58.034+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:58.037+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:58.047+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c848e7c]
2025-12-26T10:28:58.048+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:28:58.050+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:28:58.050+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:58.050+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:58.051+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:58.052+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.059+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fcb4ff8]
2025-12-26T10:28:58.059+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:28:58.062+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:58.062+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:58.063+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@180cdb85] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.065+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:58.067+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:58.068+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a105c1a]
2025-12-26T10:28:58.068+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ef186ed]
2025-12-26T10:28:58.068+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:28:58.068+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1076056470 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:58.068+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:28:58.069+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d01fda]
2025-12-26T10:28:58.070+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.070+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.070+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8bb799f]
2025-12-26T10:28:58.074+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:58.076+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.078+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d26034] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.076+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:58.076+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45014f7a] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.077+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@276c1046] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.077+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:58.078+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:28:58.085+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:28:58.079+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1721663931 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:58.084+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1308179276 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:28:58.085+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1979198632 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:58.086+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:58.090+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:58.093+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:58.093+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:28:58.094+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:58.096+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:28:58.099+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:28:58.100+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@180cdb85]
2025-12-26T10:28:58.100+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:28:58.102+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.106+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac79240] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.107+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1156163182 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:58.108+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:28:58.108+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:28:58.113+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:58.114+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d26034]
2025-12-26T10:28:58.115+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45014f7a]
2025-12-26T10:28:58.115+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:28:58.115+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:58.116+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.116+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.117+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@276c1046]
2025-12-26T10:28:58.119+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@340a3477] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.120+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d03ac3e] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.130+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@842421883 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:28:58.131+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:58.125+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.132+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c01ef78] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.129+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@592322818 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:58.132+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:58.133+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@187181214 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:58.185+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:58.134+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:28:58.139+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:58.186+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:58.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:28:58.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac79240]
2025-12-26T10:28:58.190+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:58.229+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:58.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:28:58.235+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:28:58.238+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:28:58.240+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d03ac3e]
2025-12-26T10:28:58.244+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:58.244+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:28:58.260+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:58.241+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:58.243+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c01ef78]
2025-12-26T10:28:58.244+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@340a3477]
2025-12-26T10:28:58.270+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.270+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.271+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c977af1] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.272+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f540a9a] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.273+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1068380212 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:58.274+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1519921291 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:58.274+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:58.275+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:58.276+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:58.277+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:58.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:58.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:58.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c977af1]
2025-12-26T10:28:58.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f540a9a]
2025-12-26T10:28:58.281+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.281+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.281+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44796d29] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.281+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46f141d4] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.283+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@58640293 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:58.283+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1500414794 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:58.283+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:58.284+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:28:58.284+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:28:58.284+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:28:58.287+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:28:58.287+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:28:58.288+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46f141d4]
2025-12-26T10:28:58.288+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44796d29]
2025-12-26T10:28:58.290+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.290+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:58.291+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28689b3e] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.291+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3a5ef1] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:58.291+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1692106758 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:28:58.291+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1931830394 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:28:58.292+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:58.292+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:58.293+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:58.293+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:58.296+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:58.296+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:58.297+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3a5ef1]
2025-12-26T10:28:58.297+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28689b3e]
2025-12-26T10:28:58.298+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:58.300+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:58.301+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:28:58.301+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:28:58.304+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:58.305+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:59.502+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:28:59.508+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:28:59.503+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:28:59.503+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-26T10:28:59.519+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:28:59.520+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:28:59.523+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-26T10:28:59.524+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:28:59.527+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/me
2025-12-26T10:28:59.530+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T10:28:59.535+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:28:59.531+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies/pending
2025-12-26T10:28:59.534+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/me
2025-12-26T10:28:59.537+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:28:59.535+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:28:59.536+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:28:59.537+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-26T10:28:59.564+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:28:59.565+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:28:59.566+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:28:59.578+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:28:59.570+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-26T10:28:59.570+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:28:59.578+09:00  INFO 27384 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 1
2025-12-26T10:28:59.579+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:59.579+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-26T10:28:59.580+09:00  INFO 27384 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 1
2025-12-26T10:28:59.581+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:59.581+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235a33c3] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:59.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:59.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:59.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@179b432b] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:59.584+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f033989] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:59.585+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6da5aa9e] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:59.595+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1938299393 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:28:59.596+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@278076161 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:59.596+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1655009582 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:59.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1594101774 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:28:59.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:59.598+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:59.598+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:28:59.599+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:59.600+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:59.600+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:59.600+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:28:59.601+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 5(Long), PENDING(String)
2025-12-26T10:28:59.605+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:59.605+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:28:59.607+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6da5aa9e]
2025-12-26T10:28:59.608+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:59.608+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-26T10:28:59.610+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@179b432b]
2025-12-26T10:28:59.611+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:59.612+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235a33c3]
2025-12-26T10:28:59.612+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f033989]
2025-12-26T10:28:59.612+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:28:59.613+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b751d92] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:59.614+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:59.614+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:59.614+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69588e87] was not registered for synchronization because synchronization is not active
2025-12-26T10:28:59.615+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@56383412 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:28:59.616+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T10:28:59.618+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:28:59.618+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1759952385 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:28:59.619+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:59.620+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:59.620+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:59.621+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:28:59.627+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:59.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:28:59.635+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:59.636+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b751d92]
2025-12-26T10:28:59.638+09:00  INFO 27384 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 1, role: ADMIN
2025-12-26T10:28:59.638+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:28:59.641+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:59.642+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69588e87]
2025-12-26T10:28:59.643+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:28:59.644+09:00  INFO 27384 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 1, role: ADMIN
2025-12-26T10:28:59.647+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:28:59.648+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:28:59.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:28:59.652+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:00.624+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:29:00.626+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:00.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:29:00.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:00.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:29:00.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:29:00.637+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:29:00.637+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:00.641+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:29:00.643+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:29:00.645+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:29:00.660+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:29:00.645+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:29:00.646+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:00.647+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:29:00.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:29:00.658+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:29:00.663+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:29:00.666+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:00.669+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:29:00.670+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:29:00.671+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:29:00.674+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:29:00.676+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:29:00.676+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:29:00.677+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:00.677+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:29:00.677+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:29:00.677+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:29:00.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:29:00.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:29:00.681+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:29:00.682+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:29:00.682+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:29:00.682+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79811f54] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.682+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.683+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:29:00.683+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:29:00.684+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.695+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.685+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.687+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46828149] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.690+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.695+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ea4bdc] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.696+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19777377] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.696+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@216667948 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:00.697+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb74285] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.698+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b1d369] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.701+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:00.702+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1848583822 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:29:00.703+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@335443890 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:00.706+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1711298541 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:00.706+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217935283 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:00.707+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:00.708+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:29:00.709+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:00.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:00.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1003572422 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:00.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:00.714+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:29:00.716+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:00.716+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:00.717+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:29:00.718+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:29:00.719+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:00.721+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:29:00.724+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:00.725+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:29:00.725+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:29:00.725+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79811f54]
2025-12-26T10:29:00.726+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19777377]
2025-12-26T10:29:00.726+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46828149]
2025-12-26T10:29:00.727+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ea4bdc]
2025-12-26T10:29:00.727+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.728+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:29:00.728+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:00.729+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.730+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.732+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.732+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ed5d3d] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.732+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b1d369]
2025-12-26T10:29:00.733+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb74285]
2025-12-26T10:29:00.733+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6920b63] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.733+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bac5c8] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.733+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fdccad] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.734+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2081403245 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:00.734+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.734+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.734+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@761428581 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:00.735+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@853481397 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:29:00.736+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1148354413 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:00.737+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:00.740+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48876390] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.741+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa4326] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.742+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:29:00.742+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:00.743+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:00.744+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:00.744+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1665895751 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:00.746+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648532326 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:00.747+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:00.747+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:29:00.748+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:00.748+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:00.749+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:29:00.750+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:00.751+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:00.751+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:00.753+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:29:00.758+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bac5c8]
2025-12-26T10:29:00.759+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ed5d3d]
2025-12-26T10:29:00.760+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:00.761+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.762+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:29:00.762+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.765+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6920b63]
2025-12-26T10:29:00.764+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fdccad]
2025-12-26T10:29:00.765+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76957396] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.765+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2495d133] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.765+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:00.765+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:29:00.766+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:00.766+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.766+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@626162697 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:29:00.766+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@129131561 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:00.767+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48876390]
2025-12-26T10:29:00.767+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa4326]
2025-12-26T10:29:00.768+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:29:00.768+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39a68274] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.769+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:00.769+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:00.769+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.770+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:00.770+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:00.771+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@370260297 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:00.775+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:29:00.775+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:29:00.775+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ab4599] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.775+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:29:00.777+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:00.779+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@834872767 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:00.781+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:00.782+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:29:00.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:29:00.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:29:00.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:00.786+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76957396]
2025-12-26T10:29:00.787+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2495d133]
2025-12-26T10:29:00.791+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:29:00.793+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.794+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.796+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:29:00.796+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5077668c] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22464e38] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39a68274]
2025-12-26T10:29:00.798+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@220444375 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:29:00.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@684728074 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:00.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:29:00.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:00.800+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:00.800+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ab4599]
2025-12-26T10:29:00.800+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e30d296] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.801+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:00.801+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:00.802+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.802+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@596131846 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:00.804+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367c45d0] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.807+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:00.807+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@778262795 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:00.809+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:00.810+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:00.811+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:29:00.812+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:00.813+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5077668c]
2025-12-26T10:29:00.813+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22464e38]
2025-12-26T10:29:00.813+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:00.815+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:00.815+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.816+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:29:00.818+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:29:00.818+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394af85] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.819+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:00.819+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e30d296]
2025-12-26T10:29:00.821+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@330503745 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:00.821+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:00.824+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367c45d0]
2025-12-26T10:29:00.825+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.825+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:00.827+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:00.828+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10b48a] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.829+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:00.829+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:29:00.831+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@672952956 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:00.832+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:00.834+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:00.835+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:00.835+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:00.840+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394af85]
2025-12-26T10:29:00.840+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.841+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a4d160c] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.847+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@469986887 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:00.848+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:00.849+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:00.850+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10b48a]
2025-12-26T10:29:00.851+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:29:00.851+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.853+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32b02eee] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.858+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:29:00.858+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@931231958 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:00.858+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a4d160c]
2025-12-26T10:29:00.859+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:00.859+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.861+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:29:00.862+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3701abf8] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.864+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1697523298 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:00.865+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:00.866+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:29:00.866+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:00.867+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32b02eee]
2025-12-26T10:29:00.879+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:00.881+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192db69e] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:00.882+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:00.882+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710491147 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:00.882+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3701abf8]
2025-12-26T10:29:00.882+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:00.883+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:00.883+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:00.885+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:29:00.887+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:00.888+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:00.895+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192db69e]
2025-12-26T10:29:00.896+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:00.897+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:29:00.899+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:02.100+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T10:29:02.106+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T10:29:02.117+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/switch-company
2025-12-26T10:29:02.123+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T10:29:02.130+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T10:29:02.131+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T10:29:02.133+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=2, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T10:29:02.134+09:00  INFO 27384 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 2
2025-12-26T10:29:02.136+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:02.136+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bcc48dc] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:02.142+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@188913586 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:02.143+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:02.146+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:02.149+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:02.149+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bcc48dc]
2025-12-26T10:29:02.151+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:02.151+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d]
2025-12-26T10:29:02.152+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@871126546 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will be managed by Spring
2025-12-26T10:29:02.152+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:02.158+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:02.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:02.163+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d]
2025-12-26T10:29:02.163+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d] from current transaction
2025-12-26T10:29:02.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T10:29:02.165+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 2(Long), 5(Long)
2025-12-26T10:29:02.170+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T10:29:02.174+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d]
2025-12-26T10:29:02.176+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d] from current transaction
2025-12-26T10:29:02.177+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T10:29:02.178+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 2(Long), 5(Long)
2025-12-26T10:29:02.181+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T10:29:02.181+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d]
2025-12-26T10:29:02.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d]
2025-12-26T10:29:02.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d]
2025-12-26T10:29:02.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698226d]
2025-12-26T10:29:02.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:02.189+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba2c5f6] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:02.190+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897299067 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:02.190+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:02.191+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:02.194+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:02.194+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba2c5f6]
2025-12-26T10:29:02.196+09:00  INFO 27384 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 2
2025-12-26T10:29:02.196+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:02.197+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T10:29:02.198+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:03.268+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:29:03.270+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:29:03.273+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:03.273+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:29:03.274+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:03.285+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:29:03.285+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:29:03.293+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:29:03.294+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:03.303+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:29:03.309+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:29:03.297+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/companies
2025-12-26T10:29:03.300+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses
2025-12-26T10:29:03.309+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:29:03.309+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:03.310+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:29:03.311+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:03.326+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:29:03.327+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:29:03.334+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:29:03.328+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:29:03.329+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:29:03.332+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-26T10:29:03.334+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:29:03.334+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:29:03.336+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:29:03.337+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:29:03.337+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:03.346+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:03.342+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:03.344+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:03.345+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:03.346+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:29:03.346+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ad02afc] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:03.347+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41ae4c71] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:03.347+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6520161b] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:03.347+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459276ce] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:03.348+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:29:03.351+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1452888139 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:03.351+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@459002520 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:03.354+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:29:03.352+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:03.353+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@96018820 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:03.353+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@63077904 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:03.353+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:03.357+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:29:03.357+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ade3ddb] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:03.357+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:03.358+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:29:03.358+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:03.361+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:03.362+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:29:03.362+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:29:03.363+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@524176117 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:03.365+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ad02afc]
2025-12-26T10:29:03.366+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:29:03.367+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:29:03.367+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:29:03.367+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:29:03.367+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:03.368+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 2(Long)
2025-12-26T10:29:03.368+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6520161b]
2025-12-26T10:29:03.370+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41ae4c71]
2025-12-26T10:29:03.370+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459276ce]
2025-12-26T10:29:03.377+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:03.377+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f41f94] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:03.370+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-26T10:29:03.374+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:03.379+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d39e50d] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:03.377+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-26T10:29:03.380+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1215818445 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:03.377+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:03.378+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1329751981 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:03.379+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:03.380+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ade3ddb]
2025-12-26T10:29:03.381+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:03.383+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:03.381+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:29:03.381+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:03.385+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:03.384+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:03.384+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-26T10:29:03.385+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:03.391+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:03.395+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:29:03.395+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-26T10:29:03.396+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f41f94]
2025-12-26T10:29:03.396+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d39e50d]
2025-12-26T10:29:03.397+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:03.397+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:03.397+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:29:03.399+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-26T10:29:03.400+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:03.401+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:30.093+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-26T10:29:30.098+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-26T10:29:30.101+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: USER, companyId: 2, uri: /api/users/switch-company
2025-12-26T10:29:30.111+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-26T10:29:30.113+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-26T10:29:30.130+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-26T10:29:30.131+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=1, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1Iiwid (truncated)...]
2025-12-26T10:29:30.134+09:00  INFO 27384 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 5, companyId: 1
2025-12-26T10:29:30.136+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:30.141+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@89a5468] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:30.146+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@541749236 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:30.147+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:30.150+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:30.160+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:30.163+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@89a5468]
2025-12-26T10:29:30.198+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:30.206+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7fc44]
2025-12-26T10:29:30.206+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2025745138 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will be managed by Spring
2025-12-26T10:29:30.207+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:30.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:30.265+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:30.268+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7fc44]
2025-12-26T10:29:30.268+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7fc44] from current transaction
2025-12-26T10:29:30.269+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-26T10:29:30.270+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 5(Long), 1(Long), 5(Long)
2025-12-26T10:29:30.279+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-26T10:29:30.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7fc44]
2025-12-26T10:29:30.282+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7fc44] from current transaction
2025-12-26T10:29:30.282+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-26T10:29:30.283+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 1(Long), 5(Long)
2025-12-26T10:29:30.315+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-26T10:29:30.316+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7fc44]
2025-12-26T10:29:30.317+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7fc44]
2025-12-26T10:29:30.317+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7fc44]
2025-12-26T10:29:30.318+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7fc44]
2025-12-26T10:29:30.333+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:30.334+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fce9662] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:30.336+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1860905775 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:30.346+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:30.347+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:30.350+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:30.352+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fce9662]
2025-12-26T10:29:30.353+09:00  INFO 27384 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 5, companyId: 1
2025-12-26T10:29:30.356+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:30.357+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=5, username=test_user4, (truncated)...]
2025-12-26T10:29:30.358+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:31.498+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:29:31.499+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:29:31.500+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:31.506+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:31.506+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:29:31.507+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:29:31.515+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:29:31.532+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:29:31.535+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:29:31.536+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:31.558+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:29:31.541+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:29:31.544+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:31.565+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:29:31.566+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:31.567+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:29:31.551+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:29:31.556+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:29:31.561+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:29:31.562+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:29:31.566+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:29:31.568+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:29:31.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T10:29:31.583+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:29:31.586+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:29:31.586+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:29:31.592+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:29:31.599+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:29:31.594+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.611+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14a9c6e] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.596+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:29:31.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:29:31.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:29:31.599+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:29:31.619+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:29:31.601+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:29:31.615+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:29:31.618+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:29:31.619+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:29:31.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.633+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6b9e35] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.637+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2053590872 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:29:31.634+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ba47f7c] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.635+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51f3ed7b] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.635+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.636+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cbc64bd] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.641+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:29:31.645+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562e05f2] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.646+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:29:31.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1126707036 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:31.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:29:31.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1173519861 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:31.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@99677307 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:31.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1230885423 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:31.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1279511218 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:31.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:29:31.652+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14a9c6e]
2025-12-26T10:29:31.652+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:31.653+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:31.658+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:31.659+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:29:31.660+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:29:31.660+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.661+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:31.661+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:31.662+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:31.666+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:29:31.667+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2db4e680] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.671+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:29:31.677+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:29:31.678+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51f3ed7b]
2025-12-26T10:29:31.676+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1365573194 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:29:31.677+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ba47f7c]
2025-12-26T10:29:31.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:29:31.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:31.681+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:31.681+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.683+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cbc64bd]
2025-12-26T10:29:31.683+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:29:31.684+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d18958] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.685+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6b9e35]
2025-12-26T10:29:31.686+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:31.686+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b427d01] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.740+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.741+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562e05f2]
2025-12-26T10:29:31.742+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1041915293 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:31.742+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.861+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865274512 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:31.861+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:31.861+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b186c87] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.862+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:31.863+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:31.867+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T10:29:31.865+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ccd2aa2] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.865+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:31.866+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2db4e680]
2025-12-26T10:29:31.878+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:31.866+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@886668183 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:31.867+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:31.868+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:31.878+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302955396 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:31.878+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.880+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:31.886+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:29:31.893+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:29:31.894+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2caca879] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.894+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:31.895+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:31.899+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:29:31.900+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:29:31.902+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:31.911+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648469386 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:29:31.913+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b427d01]
2025-12-26T10:29:31.916+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.918+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ca2b0e] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.914+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:29:31.915+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d18958]
2025-12-26T10:29:31.915+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:31.919+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:29:31.919+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@992537091 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:31.919+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.928+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:29:31.928+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:29:31.931+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:31.931+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:29:31.932+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:31.932+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ecf788d] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.933+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.933+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b186c87]
2025-12-26T10:29:31.935+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ccd2aa2]
2025-12-26T10:29:31.936+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:29:31.938+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@323595077 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:31.945+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e99aeb7] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.949+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.950+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:31.951+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:29:31.958+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:29:31.951+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:31.952+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@83729655 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:31.953+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d245d9] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.958+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2caca879]
2025-12-26T10:29:31.959+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:31.961+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:29:31.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:29:31.963+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:31.964+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2087086992 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:31.965+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.975+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a908fed] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.967+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ca2b0e]
2025-12-26T10:29:31.970+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:31.974+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:31.984+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:29:31.978+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1136001446 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:29:31.980+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.982+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:29:31.986+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:31.993+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dfd1964] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.993+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ecf788d]
2025-12-26T10:29:31.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:31.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:29:31.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:31.995+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@533579662 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:31.995+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:31.996+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d245d9]
2025-12-26T10:29:31.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:31.997+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e99aeb7]
2025-12-26T10:29:31.997+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:31.998+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7555f2] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:31.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:32.000+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a908fed]
2025-12-26T10:29:32.001+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:32.002+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:32.008+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1846234369 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:32.009+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@718fe1] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:32.011+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32e0be49] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:32.011+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:32.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:32.013+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@640413371 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:32.015+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1107251892 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:32.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:32.017+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:29:32.018+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:32.018+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:29:32.019+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:29:32.019+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dfd1964]
2025-12-26T10:29:32.020+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:32.031+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:29:32.031+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:29:32.032+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:32.046+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:29:32.051+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:29:32.051+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7555f2]
2025-12-26T10:29:32.052+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:32.052+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:32.060+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50251fc0] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:32.060+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:29:32.061+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:29:32.063+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1632504563 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:32.063+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32e0be49]
2025-12-26T10:29:32.063+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@718fe1]
2025-12-26T10:29:32.064+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:32.065+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:32.065+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:32.067+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:32.067+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:29:32.067+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f365a84] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:32.069+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:32.077+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@53789188 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:32.080+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:32.080+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:32.081+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:32.084+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50251fc0]
2025-12-26T10:29:32.085+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:32.085+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d90cdb] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:32.086+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:32.086+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@729469567 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:32.086+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f365a84]
2025-12-26T10:29:32.088+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:32.094+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:32.095+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:29:32.096+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@620db0bb] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:32.098+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1607611396 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:32.100+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:29:32.100+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:29:32.101+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d90cdb]
2025-12-26T10:29:32.102+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:29:32.103+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:32.111+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26731671] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:32.112+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1037531568 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:32.112+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:29:32.113+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:32.113+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@620db0bb]
2025-12-26T10:29:32.114+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:32.114+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:32.114+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d70f06f] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:32.115+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@309789458 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:32.115+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:29:32.116+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:32.117+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:29:32.117+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26731671]
2025-12-26T10:29:32.118+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:32.118+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:29:32.119+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:29:32.120+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:32.120+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d70f06f]
2025-12-26T10:29:32.127+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:32.129+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:29:32.133+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:56.747+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:29:56.747+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:29:56.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:29:56.814+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:29:56.816+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T10:29:56.880+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T10:29:56.974+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:29:57.045+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:29:57.053+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:29:57.058+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:29:57.062+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:29:57.078+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:57.076+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:29:57.080+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60599e87] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:57.082+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:57.084+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12b12184] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:57.151+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1430296478 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:29:57.157+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1494780330 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:57.181+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:57.181+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:57.196+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:57.199+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:57.249+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:57.253+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:57.266+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12b12184]
2025-12-26T10:29:57.267+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60599e87]
2025-12-26T10:29:57.268+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:57.269+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:57.274+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T10:29:57.275+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T10:29:57.277+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:57.281+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:57.327+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T10:29:57.329+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T10:29:57.330+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T10:29:57.330+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T10:29:57.385+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T10:29:57.385+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T10:29:57.386+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T10:29:57.397+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T10:29:57.402+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T10:29:57.404+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T10:29:57.397+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T10:29:57.401+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T10:29:57.408+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:29:57.410+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T10:29:57.423+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T10:29:57.411+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T10:29:57.415+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T10:29:57.418+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:29:57.430+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:29:57.433+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T10:29:57.438+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T10:29:57.478+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:29:57.518+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:29:57.525+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:29:57.526+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T10:29:57.526+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:57.529+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:29:57.532+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:29:57.536+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T10:29:57.538+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdf53b] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:57.549+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:57.564+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b188c0e] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:57.552+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:29:57.563+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:29:57.566+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:57.568+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:29:57.572+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a08ed2] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:57.573+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:29:57.578+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:57.581+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1192445925 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:57.581+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2063060353 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:57.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e2bc74] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:57.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:57.583+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:57.591+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1870043033 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:57.593+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:57.594+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1857852281 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:57.595+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:57.595+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:57.598+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:29:57.600+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:57.601+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:29:57.609+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:57.610+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:57.610+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b188c0e]
2025-12-26T10:29:57.611+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:57.611+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:29:57.612+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdf53b]
2025-12-26T10:29:57.614+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:57.616+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e2bc74]
2025-12-26T10:29:57.618+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a08ed2]
2025-12-26T10:29:57.624+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:57.625+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665a8ec7] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:57.626+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:57.626+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:29:57.627+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b99e9b] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:57.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@992727430 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:29:57.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38a39427] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:57.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63bfa68f] was not registered for synchronization because synchronization is not active
2025-12-26T10:29:57.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1429675814 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:29:57.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:29:57.633+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1664222965 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:29:57.680+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T10:29:57.635+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1827847800 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:29:57.640+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:29:57.680+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:29:57.681+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:29:57.682+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T10:29:57.682+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T10:29:57.683+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T10:29:57.746+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T10:29:57.781+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T10:29:57.794+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b99e9b]
2025-12-26T10:29:57.794+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665a8ec7]
2025-12-26T10:29:57.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:57.806+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T10:29:57.811+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:57.812+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:29:57.813+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38a39427]
2025-12-26T10:29:57.814+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:29:57.819+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:57.832+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T10:29:57.835+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63bfa68f]
2025-12-26T10:29:57.832+09:00  INFO 27384 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T10:29:57.835+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:57.838+09:00  INFO 27384 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T10:29:57.849+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:57.851+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:29:57.851+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:29:57.857+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:29:57.859+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:29:57.867+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:00.643+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/2/company/1/approver?isApprover=false
2025-12-26T10:30:00.657+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/2/company/1/approver?isApprover=false
2025-12-26T10:30:00.659+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/2/company/1/approver
2025-12-26T10:30:00.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/2/company/1/approver?isApprover=false
2025-12-26T10:30:00.730+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/2/company/1/approver?isApprover=false", parameters={masked}
2025-12-26T10:30:00.732+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateApproverStatus(Long, Long, Boolean)
2025-12-26T10:30:00.735+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:30:00.750+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:30:00.842+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:00.844+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd]
2025-12-26T10:30:00.845+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@667173033 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will be managed by Spring
2025-12-26T10:30:00.845+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:00.846+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:00.850+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:00.852+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd]
2025-12-26T10:30:00.865+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd] from current transaction
2025-12-26T10:30:00.868+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:00.876+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T10:30:00.893+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:00.895+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd]
2025-12-26T10:30:00.899+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd] from current transaction
2025-12-26T10:30:00.900+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:30:00.901+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 2(Long)
2025-12-26T10:30:00.924+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 2
2025-12-26T10:30:00.926+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd]
2025-12-26T10:30:00.927+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd] from current transaction
2025-12-26T10:30:00.929+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.updateApproverStatus  : ==>  Preparing: UPDATE user_company_tb SET is_approver = ?, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-26T10:30:00.930+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.updateApproverStatus  : ==> Parameters: false(Boolean), 2(Long), 1(Long)
2025-12-26T10:30:00.949+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.updateApproverStatus  : <==    Updates: 1
2025-12-26T10:30:00.963+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd]
2025-12-26T10:30:00.968+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd]
2025-12-26T10:30:00.975+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd]
2025-12-26T10:30:00.984+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76157ffd]
2025-12-26T10:30:01.048+09:00  INFO 27384 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 결재자 지정 변경 - operatorId: 5, userId: 2, companyId: 1, isApprover: false
2025-12-26T10:30:01.059+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:01.068+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 지정이 해제되었습니다., data=null)]
2025-12-26T10:30:01.070+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:01.093+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T10:30:01.143+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T10:30:01.146+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T10:30:01.148+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T10:30:01.155+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T10:30:01.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:30:01.166+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:30:01.178+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:30:01.179+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:01.179+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34c0be27] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:01.185+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1231629686 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:30:01.206+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:30:01.207+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:30:01.234+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:30:01.234+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34c0be27]
2025-12-26T10:30:01.235+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:01.242+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c4766f3] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:01.244+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2077545414 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:30:01.245+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:30:01.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T10:30:01.268+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T10:30:01.275+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c4766f3]
2025-12-26T10:30:01.276+09:00  INFO 27384 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T10:30:01.277+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:01.277+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:30:01.277+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:02.656+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/3/company/1/approver?isApprover=false
2025-12-26T10:30:02.702+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/3/company/1/approver?isApprover=false
2025-12-26T10:30:02.714+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/3/company/1/approver
2025-12-26T10:30:02.718+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/3/company/1/approver?isApprover=false
2025-12-26T10:30:02.723+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/3/company/1/approver?isApprover=false", parameters={masked}
2025-12-26T10:30:02.726+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateApproverStatus(Long, Long, Boolean)
2025-12-26T10:30:02.727+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:30:02.729+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateApproverStatus(java.lang.Long,java.lang.Long,java.lang.Boolean); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:30:02.743+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:02.745+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a]
2025-12-26T10:30:02.748+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1428183259 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will be managed by Spring
2025-12-26T10:30:02.748+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:02.749+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:02.751+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:02.751+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a]
2025-12-26T10:30:02.758+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a] from current transaction
2025-12-26T10:30:02.760+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:02.761+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-26T10:30:02.765+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:02.767+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a]
2025-12-26T10:30:02.769+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a] from current transaction
2025-12-26T10:30:02.778+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:30:02.779+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long)
2025-12-26T10:30:02.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 2
2025-12-26T10:30:02.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a]
2025-12-26T10:30:02.794+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a] from current transaction
2025-12-26T10:30:02.796+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateApproverStatus  : ==>  Preparing: UPDATE user_company_tb SET is_approver = ?, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-26T10:30:02.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateApproverStatus  : ==> Parameters: false(Boolean), 3(Long), 1(Long)
2025-12-26T10:30:02.851+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateApproverStatus  : <==    Updates: 1
2025-12-26T10:30:02.859+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a]
2025-12-26T10:30:02.859+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a]
2025-12-26T10:30:02.861+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a]
2025-12-26T10:30:02.862+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d34532a]
2025-12-26T10:30:02.879+09:00  INFO 27384 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 결재자 지정 변경 - operatorId: 5, userId: 3, companyId: 1, isApprover: false
2025-12-26T10:30:02.880+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:02.881+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 지정이 해제되었습니다., data=null)]
2025-12-26T10:30:02.883+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:02.907+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T10:30:02.933+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T10:30:02.938+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T10:30:02.944+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T10:30:02.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T10:30:02.950+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:30:02.956+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:30:02.958+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:30:02.969+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:02.982+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68556be7] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:02.997+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1057599922 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:30:03.003+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:30:03.007+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:30:03.062+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:30:03.066+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68556be7]
2025-12-26T10:30:03.069+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:03.069+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2979239] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:03.076+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@121483771 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:30:03.091+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:30:03.095+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T10:30:03.117+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T10:30:03.131+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2979239]
2025-12-26T10:30:03.132+09:00  INFO 27384 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T10:30:03.142+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:03.148+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:30:03.149+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:09.609+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:30:09.609+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:30:09.610+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:30:09.610+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:30:09.611+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:30:09.613+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:30:09.773+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:30:09.775+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:30:09.781+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:30:09.782+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:30:09.783+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:30:09.784+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:30:09.785+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:30:09.788+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:30:09.789+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:30:09.788+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:30:09.790+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:09.790+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:09.791+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50303194] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:09.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:30:09.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:30:09.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:30:09.866+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:30:09.807+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf5eb12] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:09.842+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:30:09.860+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1698192869 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:30:09.863+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:30:09.866+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:30:09.867+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:30:09.902+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:30:09.902+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:30:09.903+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:30:09.904+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:30:09.917+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:30:09.917+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:30:09.918+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:30:09.918+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:09.922+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd400f6] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:09.904+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:30:09.915+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:30:09.915+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:30:09.925+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:30:09.916+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:30:09.926+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:09.924+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:30:09.926+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:30:09.926+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfaaf3] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:09.927+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:09.927+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@276922655 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:30:09.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:30:09.931+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:09.949+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e30b51c] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:09.943+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f62bdf2] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:09.946+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909020824 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:30:09.947+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:30:09.949+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:30:09.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@383728341 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:30:09.996+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:30:09.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:30:09.984+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50303194]
2025-12-26T10:30:09.997+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:30:09.998+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:30:10.000+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1532316692 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:30:10.001+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1860492201 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:30:10.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.013+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:30:10.014+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:30:10.014+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@245846e2] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.015+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:30:10.018+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:30:10.019+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2118287318 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:30:10.026+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:10.032+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:30:10.035+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:10.050+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf5eb12]
2025-12-26T10:30:10.052+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:30:10.052+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:30:10.053+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:30:10.053+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:30:10.061+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.062+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:10.063+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e30b51c]
2025-12-26T10:30:10.064+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd400f6]
2025-12-26T10:30:10.064+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfaaf3]
2025-12-26T10:30:10.079+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f62bdf2]
2025-12-26T10:30:10.109+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.081+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f2c4d7] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.102+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@245846e2]
2025-12-26T10:30:10.108+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.108+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.109+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.110+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72472b08] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.114+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1256783198 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:30:10.115+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.115+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b2993e5] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.116+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c728386] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.148+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ca664f] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1902951968 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:30:10.163+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:10.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f32b94] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.165+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2004109482 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:30:10.165+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1629217610 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:30:10.166+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1207452119 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:30:10.166+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:10.166+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:10.177+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:30:10.177+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:30:10.181+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:10.183+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:10.185+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:30:10.192+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:30:10.193+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:10.197+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1128429649 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:30:10.215+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:10.226+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:30:10.228+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:10.228+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:30:10.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f2c4d7]
2025-12-26T10:30:10.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:30:10.248+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72472b08]
2025-12-26T10:30:10.249+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b2993e5]
2025-12-26T10:30:10.249+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.251+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.252+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:10.252+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646435c9] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.252+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c429da3] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.255+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:30:10.258+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:10.259+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:30:10.263+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@323457518 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:30:10.290+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:30:10.268+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1201076296 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:30:10.269+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:10.284+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ca664f]
2025-12-26T10:30:10.289+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c728386]
2025-12-26T10:30:10.291+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:30:10.292+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:30:10.293+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.293+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:10.294+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:30:10.332+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0ac6d2] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.334+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:30:10.343+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:30:10.344+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:30:10.347+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@690306882 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:30:10.352+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:10.355+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f32b94]
2025-12-26T10:30:10.355+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646435c9]
2025-12-26T10:30:10.357+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.369+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2028ed55] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.356+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:30:10.357+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.360+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:30:10.380+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1705463524 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:30:10.382+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:30:10.383+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2ec1b4] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.390+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c429da3]
2025-12-26T10:30:10.391+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:10.394+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993895908 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:30:10.397+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.398+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:10.398+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:30:10.413+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:30:10.399+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10bbff73] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.400+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:30:10.414+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@143447874 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:30:10.415+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0ac6d2]
2025-12-26T10:30:10.415+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:10.415+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.426+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72858707] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.426+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:10.429+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1511121875 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:30:10.430+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:30:10.431+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:10.433+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:30:10.431+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:30:10.433+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2028ed55]
2025-12-26T10:30:10.449+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2ec1b4]
2025-12-26T10:30:10.453+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.450+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:10.460+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c78e91d] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.460+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:10.461+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:30:10.464+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@918662727 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:30:10.467+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10bbff73]
2025-12-26T10:30:10.468+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:10.478+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:10.479+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:10.481+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:10.495+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:30:10.498+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:30:10.499+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72858707]
2025-12-26T10:30:10.526+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.526+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:10.531+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@472f9a98] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.534+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@432832709 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:30:10.535+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:10.544+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:10.545+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c78e91d]
2025-12-26T10:30:10.545+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:10.545+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.546+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65fc1d1e] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.557+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@237445309 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:30:10.560+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:10.567+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:30:10.568+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@472f9a98]
2025-12-26T10:30:10.568+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:30:10.569+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.577+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66b59fd2] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.580+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1576350406 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:30:10.596+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:30:10.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:30:10.613+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:30:10.618+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65fc1d1e]
2025-12-26T10:30:10.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.633+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c1c372c] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.634+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:30:10.636+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2039337308 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:30:10.638+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66b59fd2]
2025-12-26T10:30:10.638+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:10.639+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:10.644+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:10.644+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b15a41e] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:10.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294972321 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:30:10.667+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:30:10.670+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:30:10.670+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:10.733+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c1c372c]
2025-12-26T10:30:10.819+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:30:10.831+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:10.838+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b15a41e]
2025-12-26T10:30:10.841+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:30:10.842+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:10.846+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:30:10.846+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:10.848+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:12.033+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:30:12.036+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:30:12.231+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:30:12.238+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:30:12.239+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:30:12.241+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:30:12.243+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:30:12.250+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:30:12.254+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:30:12.288+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:12.295+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:30:12.296+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49c04bf7] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:12.299+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:30:12.300+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:30:12.300+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:30:12.304+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38a5f249] was not registered for synchronization because synchronization is not active
2025-12-26T10:30:12.307+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2104086523 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:30:12.309+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T10:30:12.311+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@305515409 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:30:12.314+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:30:12.314+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T10:30:12.315+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:30:12.323+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:30:12.327+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:30:12.330+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38a5f249]
2025-12-26T10:30:12.331+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49c04bf7]
2025-12-26T10:30:12.331+09:00  INFO 27384 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:30:12.332+09:00  INFO 27384 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:30:12.332+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:12.333+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:30:12.333+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-26T10:30:12.334+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-26T10:30:12.338+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:30:12.339+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:13.342+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:31:13.343+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:13.344+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:31:13.348+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:31:13.348+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:13.349+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:31:13.388+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:31:13.388+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:13.388+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:31:13.389+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:31:13.391+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:13.393+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:31:13.429+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:31:13.449+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:31:13.453+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:31:13.459+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:31:13.454+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:31:13.454+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:31:13.458+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:31:13.458+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:31:13.478+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:31:13.459+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:13.462+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:31:13.481+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:31:13.463+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:13.465+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:31:13.478+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:31:13.479+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:31:13.481+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:31:13.482+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:31:13.482+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:31:13.482+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:31:13.524+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:31:13.511+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:31:13.514+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.526+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5503d071] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.515+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.531+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@572bfd11] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.516+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.523+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:31:13.525+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.533+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dff327] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.526+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:31:13.532+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676c2a12] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.533+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.542+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.544+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f6a8d70] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.545+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@918cd93] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.560+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1092966080 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:13.560+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2083776716 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:31:13.560+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1951670033 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:13.561+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1069424987 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:31:13.563+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@387426497 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:31:13.565+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@158807174 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:31:13.566+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:31:13.567+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:13.567+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:31:13.570+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:31:13.571+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:13.575+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:31:13.579+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:31:13.582+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:13.583+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:31:13.585+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:31:13.587+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:13.587+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:31:13.626+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:13.626+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:31:13.626+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:31:13.627+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:13.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:31:13.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:31:13.630+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@572bfd11]
2025-12-26T10:31:13.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dff327]
2025-12-26T10:31:13.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5503d071]
2025-12-26T10:31:13.640+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@918cd93]
2025-12-26T10:31:13.634+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f6a8d70]
2025-12-26T10:31:13.639+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676c2a12]
2025-12-26T10:31:13.639+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.684+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e460e5] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.640+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.641+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db8f81] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.642+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.643+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.643+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:13.691+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@56412145 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:31:13.691+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7afaf470] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.692+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2068068426 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:13.991+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:13.692+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d3ac6ee] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.795+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1106e7a5] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:13.854+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7d0a48] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.003+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1393654358 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:14.004+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:13.972+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:31:13.990+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1555180577 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:31:13.996+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:13.998+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@196010416 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:31:14.013+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:31:14.018+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:31:14.000+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1658710722 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:31:14.005+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:14.005+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:31:14.007+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:14.083+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:31:14.096+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:14.098+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:14.111+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:14.125+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d3ac6ee]
2025-12-26T10:31:14.126+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:14.126+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db8f81]
2025-12-26T10:31:14.146+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:31:14.146+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:14.153+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:14.158+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:14.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7afaf470]
2025-12-26T10:31:14.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.160+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.160+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e460e5]
2025-12-26T10:31:14.160+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7d0a48]
2025-12-26T10:31:14.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:31:14.163+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@695e3eb2] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.169+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6013f747] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.171+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:14.173+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f5aca4] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.176+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:14.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143606941 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:31:14.184+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@980339523 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:14.186+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:31:14.188+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1783223960 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:14.190+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:14.191+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:14.194+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:14.196+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:14.199+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:31:14.199+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:31:14.204+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:31:14.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:14.226+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1106e7a5]
2025-12-26T10:31:14.245+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:31:14.245+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:31:14.246+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:31:14.253+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.254+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f5aca4]
2025-12-26T10:31:14.255+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6013f747]
2025-12-26T10:31:14.256+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@695e3eb2]
2025-12-26T10:31:14.259+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4102d486] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.259+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.260+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.261+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.262+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1738488012 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:31:14.263+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47e32500] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.265+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f24dbb2] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.266+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a076856] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.273+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:14.275+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@321335764 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:14.276+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1358084318 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:14.278+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924427786 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:31:14.279+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:31:14.279+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:14.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:31:14.281+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:31:14.290+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:14.290+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:31:14.292+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:31:14.297+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:31:14.298+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4102d486]
2025-12-26T10:31:14.299+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.300+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf6551c] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.313+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:31:14.314+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:14.315+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@747046912 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:31:14.321+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f24dbb2]
2025-12-26T10:31:14.323+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:31:14.323+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47e32500]
2025-12-26T10:31:14.324+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:14.326+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.331+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a076856]
2025-12-26T10:31:14.331+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:14.332+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:14.332+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd837af] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.333+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.334+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:31:14.343+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1680378093 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:14.344+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48eceffc] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.345+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:14.346+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:14.347+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@427322223 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:31:14.348+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:14.355+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:14.359+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:14.365+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:14.365+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:14.371+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf6551c]
2025-12-26T10:31:14.371+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd837af]
2025-12-26T10:31:14.372+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:14.372+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.374+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:31:14.374+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:14.375+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fb71940] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.375+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:14.377+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48eceffc]
2025-12-26T10:31:14.378+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1132342870 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:14.379+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.380+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:14.382+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@584254a0] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.387+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:31:14.388+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2004800347 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:31:14.390+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:14.391+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:31:14.398+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:31:14.398+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:31:14.399+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fb71940]
2025-12-26T10:31:14.400+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@584254a0]
2025-12-26T10:31:14.403+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.404+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:14.407+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d41b3a4] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.408+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eda2a3e] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:14.408+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517016661 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:14.409+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1157077009 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:31:14.412+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:14.414+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:14.414+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:14.416+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:14.428+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:14.457+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d41b3a4]
2025-12-26T10:31:14.459+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:14.462+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:31:14.463+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:14.479+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:14.482+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eda2a3e]
2025-12-26T10:31:14.490+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:14.492+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:31:14.500+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:16.124+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:31:16.124+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:31:16.129+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:31:16.130+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:31:16.139+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T10:31:16.144+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T10:31:16.145+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:31:16.146+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:31:16.145+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:31:16.146+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:31:16.147+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:31:16.147+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:16.148+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:31:16.148+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed69257] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:16.148+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:16.149+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1034f8f6] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:16.157+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@512698059 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:16.158+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@681467288 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:31:16.158+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:16.159+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:16.159+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:16.160+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:16.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:16.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:16.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed69257]
2025-12-26T10:31:16.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1034f8f6]
2025-12-26T10:31:16.165+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:16.165+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:16.165+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T10:31:16.165+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T10:31:16.166+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:16.166+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:16.175+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T10:31:16.177+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T10:31:16.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T10:31:16.183+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T10:31:16.188+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T10:31:16.189+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T10:31:16.195+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T10:31:16.195+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T10:31:16.200+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T10:31:16.201+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T10:31:16.212+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T10:31:16.209+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T10:31:16.213+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:31:16.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T10:31:16.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T10:31:16.213+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:31:16.214+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:31:16.216+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:31:16.215+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T10:31:16.216+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:31:16.220+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:31:16.217+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T10:31:16.217+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:16.217+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T10:31:16.222+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:16.222+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T10:31:16.223+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131a2436] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:16.223+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T10:31:16.223+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d1d636] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:16.223+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T10:31:16.224+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1301272688 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:16.224+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:31:16.225+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:31:16.227+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:16.228+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1326840757 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:31:16.228+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:31:16.228+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:31:16.228+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:16.229+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:16.229+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:31:16.230+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:31:16.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:16.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:16.238+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c90e8fe] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:16.234+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:16.234+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:16.242+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131a2436]
2025-12-26T10:31:16.241+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@db8ce1b] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:16.242+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:16.243+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26f2f273] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:16.244+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1686853903 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:16.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:31:16.246+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:16.246+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744577555 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:16.246+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1609427457 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:31:16.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T10:31:16.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d1d636]
2025-12-26T10:31:16.248+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:16.248+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:16.249+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:16.256+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:16.255+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:16.256+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61fbe79f] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:16.258+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T10:31:16.261+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26f2f273]
2025-12-26T10:31:16.261+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@195646562 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:31:16.262+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:31:16.261+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:16.262+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:16.262+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:16.263+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T10:31:16.265+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c90e8fe]
2025-12-26T10:31:16.264+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:31:16.264+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@db8ce1b]
2025-12-26T10:31:16.267+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:16.266+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:16.267+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:16.272+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@418dc60] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:16.273+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f66fbbb] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:16.278+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1078071379 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:31:16.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217551962 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:16.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:31:16.281+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:31:16.283+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T10:31:16.286+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T10:31:16.291+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T10:31:16.292+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61fbe79f]
2025-12-26T10:31:16.293+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T10:31:16.296+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T10:31:16.297+09:00  INFO 27384 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T10:31:16.298+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f66fbbb]
2025-12-26T10:31:16.300+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@418dc60]
2025-12-26T10:31:16.301+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:16.302+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:16.309+09:00  INFO 27384 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T10:31:16.310+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:31:16.310+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:31:16.311+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:16.311+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:16.312+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:16.315+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:31:16.322+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:19.754+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:31:19.757+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:31:19.757+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:19.759+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:31:19.760+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:19.760+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:31:19.767+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:31:19.767+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:19.769+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:31:19.770+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:31:19.772+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:19.772+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:31:19.773+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:31:19.775+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:31:19.823+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:31:19.865+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:31:19.871+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:31:19.874+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:31:19.875+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:31:19.907+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:19.908+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:31:19.908+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:31:19.909+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:31:19.909+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:31:19.910+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:31:19.910+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:31:19.912+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:31:19.910+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:31:19.910+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:31:19.911+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:31:19.911+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:31:19.911+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:31:19.916+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:31:19.923+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:19.924+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458f394d] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:19.913+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:19.914+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:31:19.914+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:31:19.914+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:31:19.915+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:19.927+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe975a1] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:19.928+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:19.932+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:19.934+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:19.936+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57344205] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:19.941+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@40257442 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:31:19.949+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:19.943+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b721f8] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:19.943+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@679fe5d4] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:19.944+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a6a9f1] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:19.947+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@935324961 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:19.951+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:19.958+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1486437640 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:19.960+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:31:19.964+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:31:19.965+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:31:19.965+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:31:19.967+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1974895332 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:31:19.967+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1443209361 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:31:19.972+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:19.968+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1840934396 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:31:19.971+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:31:19.975+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:31:19.973+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:19.974+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:31:19.980+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:19.981+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458f394d]
2025-12-26T10:31:19.981+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:31:19.981+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:31:19.982+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:19.988+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe975a1]
2025-12-26T10:31:19.990+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:31:19.992+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:31:19.992+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:19.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16630735] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:19.995+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.002+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e424f19] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:19.996+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57344205]
2025-12-26T10:31:19.996+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@679fe5d4]
2025-12-26T10:31:19.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b721f8]
2025-12-26T10:31:20.001+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@608027623 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:31:20.004+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@246326473 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:20.004+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.005+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.005+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.006+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:31:20.007+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:31:20.007+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:20.008+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5844f581] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.008+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67670215] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.008+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23be458d] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.009+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:31:20.009+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a6a9f1]
2025-12-26T10:31:20.009+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:20.011+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@477861600 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:20.011+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1948670580 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:31:20.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1131573544 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:31:20.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.015+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:20.015+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:20.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:31:20.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:20.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:31:20.019+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14824a2f] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.020+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:20.021+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:20.023+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16630735]
2025-12-26T10:31:20.024+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e424f19]
2025-12-26T10:31:20.027+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:20.025+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:31:20.026+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@999421753 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:31:20.027+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.028+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:31:20.030+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:20.031+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd7ed1e] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.040+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:20.042+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:20.043+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@60901754 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:20.045+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:20.050+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:20.051+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:20.054+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:20.058+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:31:20.060+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67670215]
2025-12-26T10:31:20.061+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5844f581]
2025-12-26T10:31:20.061+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14824a2f]
2025-12-26T10:31:20.066+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.067+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.067+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.074+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dcb55e2] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.074+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfc31ab] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.075+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@168188c7] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.076+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1650692068 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:31:20.076+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1919628648 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:20.077+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273971978 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:31:20.081+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:20.077+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:31:20.078+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:20.079+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:20.090+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:31:20.091+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23be458d]
2025-12-26T10:31:20.091+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:31:20.093+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:31:20.094+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:31:20.098+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:20.100+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd7ed1e]
2025-12-26T10:31:20.109+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:31:20.115+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.130+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:20.130+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a96f2af] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.134+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1247365118 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:20.138+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:20.139+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:20.141+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:31:20.141+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:31:20.141+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:31:20.151+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dcb55e2]
2025-12-26T10:31:20.157+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfc31ab]
2025-12-26T10:31:20.158+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@168188c7]
2025-12-26T10:31:20.159+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.159+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.160+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.161+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7423b9dd] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.160+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@232c14ed] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.160+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e56d4c] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.161+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:20.161+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1853800494 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:31:20.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143943471 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:31:20.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@267938290 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:20.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a96f2af]
2025-12-26T10:31:20.165+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:20.166+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:31:20.166+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:31:20.167+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:20.167+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:20.169+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:31:20.173+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:31:20.174+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:31:20.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:20.201+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:31:20.204+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:31:20.204+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:20.205+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e56d4c]
2025-12-26T10:31:20.207+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@232c14ed]
2025-12-26T10:31:20.209+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7423b9dd]
2025-12-26T10:31:20.210+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.210+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.210+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:20.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d774d38] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1adc8032] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:31:20.212+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1697700567 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:20.212+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1494512888 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:31:20.213+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:20.213+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:20.214+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:20.215+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:20.219+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:20.227+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:20.227+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:20.230+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d774d38]
2025-12-26T10:31:20.231+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1adc8032]
2025-12-26T10:31:20.232+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138a2b1e] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32c3844e] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.239+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@75737818 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:20.240+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1289772852 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:31:20.241+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:20.241+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:31:20.242+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:31:20.242+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:31:20.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:31:20.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:31:20.249+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138a2b1e]
2025-12-26T10:31:20.254+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32c3844e]
2025-12-26T10:31:20.254+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.257+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:20.258+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12fb723d] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.258+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebb3dfd] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:20.259+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1357609383 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:31:20.259+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@16006544 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:31:20.260+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:20.260+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:20.261+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:20.261+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:20.262+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:20.262+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:20.263+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12fb723d]
2025-12-26T10:31:20.265+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebb3dfd]
2025-12-26T10:31:20.270+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:20.274+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:20.274+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:31:20.275+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:31:20.275+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:20.276+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:21.048+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:31:21.048+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:31:21.048+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-26T10:31:21.048+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-26T10:31:21.059+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:31:21.060+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:31:21.062+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-26T10:31:21.064+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-26T10:31:21.066+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/me
2025-12-26T10:31:21.066+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T10:31:21.104+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/me
2025-12-26T10:31:21.104+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies/pending
2025-12-26T10:31:21.105+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:31:21.105+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:31:21.106+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-26T10:31:21.106+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-26T10:31:21.107+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:31:21.107+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:31:21.107+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-26T10:31:21.107+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-26T10:31:21.107+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:31:21.108+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:31:21.108+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-26T10:31:21.108+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-26T10:31:21.109+09:00  INFO 27384 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 1
2025-12-26T10:31:21.108+09:00  INFO 27384 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 5, companyId: 1
2025-12-26T10:31:21.109+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:21.109+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:21.109+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:21.110+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b7d6912] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:21.109+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:21.111+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0536b3] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:21.110+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa24323] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:21.110+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ae87b7f] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:21.116+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1473359575 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:31:21.116+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@714270756 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:31:21.117+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@716770287 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:31:21.117+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@662708914 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:31:21.142+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:21.145+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:21.146+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:31:21.146+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:21.147+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:21.148+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:21.150+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:31:21.154+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 5(Long), PENDING(String)
2025-12-26T10:31:21.157+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:21.158+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b7d6912]
2025-12-26T10:31:21.157+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:31:21.158+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:21.159+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:21.159+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-26T10:31:21.159+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0536b3]
2025-12-26T10:31:21.161+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa24323]
2025-12-26T10:31:21.161+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713f5bc8] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:21.161+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ae87b7f]
2025-12-26T10:31:21.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:31:21.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:21.163+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@210772493 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:31:21.163+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:21.163+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f667841] was not registered for synchronization because synchronization is not active
2025-12-26T10:31:21.163+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T10:31:21.163+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:21.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:31:21.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@565101010 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:31:21.165+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:21.167+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:21.168+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:21.173+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:31:21.176+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:21.179+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:31:21.179+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713f5bc8]
2025-12-26T10:31:21.180+09:00  INFO 27384 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 1, role: ADMIN
2025-12-26T10:31:21.181+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:21.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:31:21.183+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:31:21.191+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:31:21.192+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f667841]
2025-12-26T10:31:21.193+09:00  INFO 27384 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 5, companyId: 1, role: ADMIN
2025-12-26T10:31:21.193+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:31:21.194+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=5, username=test_user4, passw (truncated)...]
2025-12-26T10:31:21.195+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:33:14.590+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:33:14.590+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:33:14.591+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:33:14.594+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:33:14.595+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:33:14.595+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:33:14.602+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:33:14.602+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:33:14.602+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:33:14.605+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:33:14.603+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:33:14.603+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:33:14.604+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:33:14.604+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:33:14.610+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:33:14.607+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:33:14.607+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:33:14.609+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:33:14.609+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:33:14.610+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:33:14.610+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:33:14.611+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:33:14.611+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:33:14.612+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:33:14.612+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:33:14.612+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:33:14.617+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:33:14.612+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:33:14.613+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:33:14.619+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:33:14.620+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.623+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e92308] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.613+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:33:14.614+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:33:14.614+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:33:14.618+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:33:14.619+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.625+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@568976d0] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.626+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:33:14.626+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:33:14.627+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.627+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c2bdf0] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.636+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.638+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.642+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1920a9] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.639+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c984ddd] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.641+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64323f7] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.642+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1948718536 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:33:14.642+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1894927879 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:33:14.647+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:33:14.644+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@434254423 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:33:14.646+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:33:14.653+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:33:14.653+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:33:14.654+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@724728342 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:33:14.654+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1793423628 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:33:14.658+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:33:14.654+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:33:14.659+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:33:14.655+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:33:14.656+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@37932016 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:33:14.661+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:33:14.657+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:33:14.662+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:33:14.663+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:33:14.666+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:33:14.668+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:33:14.674+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c984ddd]
2025-12-26T10:33:14.668+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:33:14.669+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:33:14.670+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e92308]
2025-12-26T10:33:14.672+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c2bdf0]
2025-12-26T10:33:14.675+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.675+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@568976d0]
2025-12-26T10:33:14.677+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.685+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39d94800] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.678+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.678+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:33:14.678+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56b10319] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.680+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:33:14.687+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1580003033 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:33:14.687+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2563ce9f] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.687+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64323f7]
2025-12-26T10:33:14.688+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@673551550 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:33:14.689+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664d6339] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.689+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1920a9]
2025-12-26T10:33:14.690+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:33:14.691+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2043681903 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:33:14.692+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.693+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:33:14.693+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@929794019 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:33:14.693+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.694+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:33:14.694+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:33:14.694+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe860de] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.695+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:33:14.695+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:33:14.697+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bda929a] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.698+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:33:14.702+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585807879 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:33:14.708+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:33:14.709+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1525873875 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:33:14.717+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:33:14.718+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:33:14.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:33:14.712+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:33:14.719+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39d94800]
2025-12-26T10:33:14.721+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:33:14.722+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:33:14.724+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:33:14.726+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:33:14.726+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56b10319]
2025-12-26T10:33:14.727+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:33:14.728+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:33:14.732+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:33:14.735+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:33:14.757+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:33:14.758+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:33:14.758+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:33:14.758+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:33:14.762+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664d6339]
2025-12-26T10:33:14.762+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe860de]
2025-12-26T10:33:14.769+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.770+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b28ad0d] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.764+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2563ce9f]
2025-12-26T10:33:14.764+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bda929a]
2025-12-26T10:33:14.765+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.771+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@937084454 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:33:14.771+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.772+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.772+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6c2331] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.772+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:33:14.773+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eae41fc] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.773+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6540f79a] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.773+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1890964238 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:33:14.774+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:33:14.774+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1434615168 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:33:14.776+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@717354986 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:33:14.777+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:33:14.778+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:33:14.779+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:33:14.781+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:33:14.788+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:33:14.792+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:33:14.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:33:14.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b28ad0d]
2025-12-26T10:33:14.798+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:33:14.802+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:33:14.803+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.804+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eae41fc]
2025-12-26T10:33:14.805+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6c2331]
2025-12-26T10:33:14.807+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.806+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@699ab449] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.806+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.809+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c19243] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.810+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@120859826 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:33:14.810+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a9af893] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.811+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245915265 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:33:14.811+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:33:14.811+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@111668125 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:33:14.813+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:33:14.812+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:33:14.821+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:33:14.812+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:33:14.813+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:33:14.819+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:33:14.823+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6540f79a]
2025-12-26T10:33:14.827+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.828+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@436e9be0] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.831+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@569395248 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:33:14.836+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:33:14.836+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:33:14.837+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:33:14.837+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:33:14.838+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@699ab449]
2025-12-26T10:33:14.838+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c19243]
2025-12-26T10:33:14.838+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a9af893]
2025-12-26T10:33:14.840+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.838+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:33:14.839+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.843+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1042a3] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.844+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554993076 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:33:14.845+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:33:14.846+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:33:14.840+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:33:14.842+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dabc166] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.846+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:33:14.846+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@436e9be0]
2025-12-26T10:33:14.847+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:33:14.848+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1622731296 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:33:14.852+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:33:14.853+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:33:14.854+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:33:14.858+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:33:14.855+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:33:14.860+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:33:14.862+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:33:14.870+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1042a3]
2025-12-26T10:33:14.871+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:33:14.871+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.872+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10465ff1] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.873+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@266076672 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:33:14.873+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:33:14.872+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dabc166]
2025-12-26T10:33:14.876+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:33:14.877+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.878+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660f876a] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.879+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@358406716 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:33:14.879+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:33:14.879+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:33:14.887+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:33:14.888+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:33:14.889+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660f876a]
2025-12-26T10:33:14.890+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10465ff1]
2025-12-26T10:33:14.890+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.890+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:14.891+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b9494e0] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.891+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167b2512] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:14.891+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@565862447 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:33:14.892+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@887118331 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:33:14.892+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:33:14.892+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:33:14.893+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:33:14.893+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:33:14.895+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:33:14.895+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:33:14.896+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167b2512]
2025-12-26T10:33:14.897+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b9494e0]
2025-12-26T10:33:14.898+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:33:14.905+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:33:14.905+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:33:14.905+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:33:14.906+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:33:14.908+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:33:16.784+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:33:16.786+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:33:16.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:33:16.801+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:33:16.803+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:33:16.804+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:33:16.806+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:33:16.807+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:33:16.805+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:33:16.808+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:33:16.809+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:33:16.810+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:33:16.809+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:16.814+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:33:16.824+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f807217] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:16.825+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32798504] was not registered for synchronization because synchronization is not active
2025-12-26T10:33:16.829+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1569651810 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:33:16.829+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1692643301 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:33:16.829+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T10:33:16.830+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T10:33:16.832+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:33:16.834+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:33:16.845+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:33:16.845+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:33:16.845+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32798504]
2025-12-26T10:33:16.846+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f807217]
2025-12-26T10:33:16.846+09:00  INFO 27384 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:33:16.847+09:00  INFO 27384 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:33:16.848+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:33:16.855+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-26T10:33:16.854+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:33:16.858+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:33:16.861+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-26T10:33:16.864+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:41:10.406+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:41:10.416+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:41:10.428+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:41:10.518+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:41:10.599+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:41:10.601+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:41:10.604+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:41:10.605+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:41:10.618+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:41:10.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T10:41:10.630+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:41:10.632+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:41:10.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:41:10.635+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:10.639+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3632f34f] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:10.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:41:10.632+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:41:10.643+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:41:10.647+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:41:10.649+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1452720988 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:41:10.651+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T10:41:10.655+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:41:10.650+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:41:10.657+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:10.650+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:10.660+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77fa67d] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:10.691+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba944a0] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:10.692+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:41:10.695+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3632f34f]
2025-12-26T10:41:10.697+09:00  INFO 27384 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:41:10.699+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:41:10.701+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-26T10:41:10.704+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:41:10.707+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@690594059 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:41:10.708+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1240761447 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:41:10.713+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:41:10.714+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T10:41:10.774+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:41:10.766+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:41:10.840+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:41:10.842+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:41:10.875+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba944a0]
2025-12-26T10:41:10.875+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77fa67d]
2025-12-26T10:41:10.876+09:00  INFO 27384 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:41:10.876+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:41:10.890+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:41:10.892+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T10:41:10.892+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-26T10:41:10.895+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:41:10.960+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:41:59.349+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:41:59.350+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:41:59.354+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:41:59.355+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:41:59.356+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:41:59.356+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:41:59.367+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:41:59.370+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:41:59.371+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:41:59.377+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:41:59.375+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:41:59.376+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:41:59.376+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:41:59.377+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:41:59.382+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:41:59.383+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:41:59.384+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:41:59.378+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:41:59.379+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:41:59.381+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:41:59.382+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:41:59.382+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:41:59.391+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:41:59.386+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:41:59.389+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:41:59.389+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:41:59.390+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:41:59.390+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:41:59.394+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:41:59.395+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.396+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:41:59.397+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:41:59.397+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:41:59.398+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:41:59.398+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.398+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd9b3e5] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.399+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.405+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1c27b9] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.399+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:41:59.406+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.400+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:41:59.410+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@985505882 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:41:59.400+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:41:59.401+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae5dbf7] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.409+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1273dd85] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.410+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@833240627 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:41:59.410+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.412+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:41:59.412+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.416+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:41:59.416+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16f390a8] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.420+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:41:59.421+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27003779] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.423+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:41:59.425+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@651952455 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:41:59.425+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1641444544 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:41:59.426+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:41:59.427+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:41:59.428+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:41:59.429+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@865362442 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:41:59.437+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:41:59.430+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:41:59.431+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1526465847 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:41:59.432+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:41:59.433+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:41:59.439+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:41:59.439+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1c27b9]
2025-12-26T10:41:59.440+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:41:59.442+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd9b3e5]
2025-12-26T10:41:59.443+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:41:59.445+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:41:59.445+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.447+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:41:59.447+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.448+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae5dbf7]
2025-12-26T10:41:59.449+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:41:59.449+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1273dd85]
2025-12-26T10:41:59.449+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524fbc9d] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.449+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@338aceb7] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.451+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:41:59.450+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.450+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27003779]
2025-12-26T10:41:59.450+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.451+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@15673559 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:41:59.451+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1879386150 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:41:59.451+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16f390a8]
2025-12-26T10:41:59.452+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@276381f1] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.454+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.454+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@128629] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.454+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:41:59.456+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:41:59.455+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:41:59.455+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.455+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@809710558 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:41:59.455+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd03149] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.456+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@222989932 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:41:59.459+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:41:59.460+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@659e164d] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.461+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:41:59.461+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:41:59.462+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1840900104 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:41:59.467+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:41:59.462+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:41:59.464+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1629279282 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:41:59.468+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:41:59.464+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:41:59.466+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524fbc9d]
2025-12-26T10:41:59.467+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:41:59.467+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:41:59.468+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:41:59.476+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:41:59.473+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.474+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@338aceb7]
2025-12-26T10:41:59.478+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a94e26] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.479+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:41:59.479+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:41:59.481+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:41:59.482+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:41:59.482+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:41:59.482+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2083371930 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:41:59.486+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:41:59.483+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@276381f1]
2025-12-26T10:41:59.483+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@128629]
2025-12-26T10:41:59.484+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:41:59.492+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:41:59.484+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd03149]
2025-12-26T10:41:59.484+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@659e164d]
2025-12-26T10:41:59.495+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.489+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:41:59.492+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.492+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:41:59.493+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:41:59.494+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.501+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7da51c5c] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.495+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21855259] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.496+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b43b9a0] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.499+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:41:59.543+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:41:59.556+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a94e26]
2025-12-26T10:41:59.544+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@825434328 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:41:59.557+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:41:59.558+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:41:59.545+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884741210 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:41:59.559+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:41:59.552+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1611974448 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:41:59.557+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.562+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:41:59.564+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:41:59.563+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:41:59.564+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dad52e0] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.564+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7da51c5c]
2025-12-26T10:41:59.565+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:41:59.567+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1953298701 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:41:59.571+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.575+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44ebfdf] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.576+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1373373686 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:41:59.574+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:41:59.577+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:41:59.576+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:41:59.578+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:41:59.580+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:41:59.583+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21855259]
2025-12-26T10:41:59.588+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.583+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:41:59.583+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:41:59.584+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:41:59.589+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75376238] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.589+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44ebfdf]
2025-12-26T10:41:59.589+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dad52e0]
2025-12-26T10:41:59.590+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b43b9a0]
2025-12-26T10:41:59.592+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2125193565 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:41:59.593+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:41:59.594+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:41:59.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.598+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218e4021] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:41:59.598+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:41:59.598+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:41:59.599+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1741054729 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:41:59.601+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:41:59.599+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:41:59.601+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:41:59.601+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:41:59.606+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:41:59.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:41:59.628+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:41:59.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75376238]
2025-12-26T10:41:59.629+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218e4021]
2025-12-26T10:41:59.630+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.630+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.630+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebe49d2] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.630+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eabf521] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1616304287 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:41:59.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1039613853 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:41:59.631+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:41:59.632+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:41:59.632+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:41:59.637+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:41:59.641+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:41:59.641+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:41:59.644+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eabf521]
2025-12-26T10:41:59.645+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebe49d2]
2025-12-26T10:41:59.646+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.646+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.646+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20b5749d] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.648+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62343169] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.648+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294035287 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:41:59.649+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1050154020 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:41:59.649+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:41:59.653+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:41:59.654+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:41:59.654+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:41:59.656+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:41:59.657+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:41:59.661+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20b5749d]
2025-12-26T10:41:59.663+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62343169]
2025-12-26T10:41:59.663+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.663+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:41:59.664+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@121b0348] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.664+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a1e78e6] was not registered for synchronization because synchronization is not active
2025-12-26T10:41:59.664+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@419535882 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:41:59.664+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1499639221 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:41:59.666+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:41:59.668+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:41:59.668+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:41:59.671+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:41:59.676+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:41:59.676+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:41:59.676+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@121b0348]
2025-12-26T10:41:59.678+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a1e78e6]
2025-12-26T10:41:59.678+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:41:59.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:41:59.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:41:59.679+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:41:59.680+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:41:59.686+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:03.743+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:43:03.743+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:03.743+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:43:03.744+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:43:03.745+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:03.746+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:43:03.760+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:43:03.775+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:03.775+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:43:03.775+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:43:03.776+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:43:03.777+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:43:03.778+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:43:03.779+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:03.779+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:43:03.792+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:43:03.792+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:43:03.782+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:43:03.789+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T10:43:03.791+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:43:03.792+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:03.793+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:43:03.793+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:43:03.793+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:43:03.795+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:43:03.794+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:43:03.794+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:43:03.794+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:43:03.795+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:03.795+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.796+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:43:03.796+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:43:03.796+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:43:03.796+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:43:03.796+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:43:03.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c844a60] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.802+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@400264d7] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:43:03.797+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:43:03.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:43:03.807+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.799+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5152de38] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.805+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@290677395 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:03.806+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.806+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1806520062 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:03.808+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:43:03.809+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685219590 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:43:03.807+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.807+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29431104] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.808+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:43:03.808+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf2bbd5] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.809+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:43:03.810+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:43:03.812+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:43:03.810+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6307ead5] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.811+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:43:03.812+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1766369254 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:43:03.817+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:43:03.813+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@410576412 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:43:03.815+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:43:03.816+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:43:03.827+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5152de38]
2025-12-26T10:43:03.821+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:43:03.825+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:43:03.827+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@400264d7]
2025-12-26T10:43:03.827+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1010338897 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:43:03.827+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:43:03.827+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.831+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:43:03.829+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:43:03.829+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.830+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:43:03.831+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c844a60]
2025-12-26T10:43:03.831+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28bcdb1d] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.831+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29431104]
2025-12-26T10:43:03.832+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29628521] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.836+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:43:03.838+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.842+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d25cae] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.838+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1191714613 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:43:03.838+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:43:03.844+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:43:03.838+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.841+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1083573603 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:03.843+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@567547191 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:03.844+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:03.844+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf2bbd5]
2025-12-26T10:43:03.845+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6307ead5]
2025-12-26T10:43:03.845+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fdb2ea8] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.846+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:43:03.846+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:03.847+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:03.848+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:03.849+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.849+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1611397028 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:43:03.849+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:43:03.850+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:03.855+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:03.861+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28bcdb1d]
2025-12-26T10:43:03.856+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T10:43:03.858+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a35fec8] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.859+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:03.861+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.864+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:03.865+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1443909748 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:43:03.867+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:03.874+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f19f020] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.874+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:03.880+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d25cae]
2025-12-26T10:43:03.874+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:43:03.888+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29628521]
2025-12-26T10:43:03.875+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:03.877+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:43:03.880+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@825473261 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:43:03.883+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.895+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:03.910+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:03.912+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:03.912+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:43:03.912+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f304c44] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.913+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:43:03.914+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:03.922+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fdb2ea8]
2025-12-26T10:43:03.923+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.914+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:43:03.915+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:43:03.915+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:03.917+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@434194464 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:03.920+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:03.925+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cdb9618] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.927+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@713252165 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:43:03.926+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:43:03.926+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a35fec8]
2025-12-26T10:43:03.926+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:03.930+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:03.931+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:43:03.931+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:43:03.933+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.936+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:43:03.938+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:43:03.939+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f19f020]
2025-12-26T10:43:03.940+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.941+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa7b008] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.942+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.943+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79828993] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.942+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7e88d4] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.943+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:43:03.943+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@449955978 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:43:03.943+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:43:03.945+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1227554419 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:43:03.946+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1137577013 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:03.946+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f304c44]
2025-12-26T10:43:03.947+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:03.947+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cdb9618]
2025-12-26T10:43:03.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:43:03.947+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:03.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:43:03.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.948+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.949+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:03.949+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:43:03.950+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e01fe6d] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.952+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59480ea8] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.952+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:43:03.953+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@53399429 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:03.954+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503869135 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:43:03.954+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa7b008]
2025-12-26T10:43:03.957+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:43:03.958+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:43:03.958+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.958+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:03.959+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:43:03.959+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:43:03.959+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:43:03.959+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70bdb879] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.959+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79828993]
2025-12-26T10:43:03.960+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7e88d4]
2025-12-26T10:43:03.960+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1653105046 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:43:03.963+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:03.964+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:03.961+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:03.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:43:03.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.974+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe1567] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.962+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:43:03.967+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:43:03.973+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59480ea8]
2025-12-26T10:43:03.974+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:03.974+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1536689444 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:03.975+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e01fe6d]
2025-12-26T10:43:03.978+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:03.981+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.982+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70bdb879]
2025-12-26T10:43:03.982+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:43:03.982+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:03.991+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dff6a9b] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.992+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:03.992+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:43:03.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64284fb6] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:03.995+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@363538376 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:03.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@886770882 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:43:03.994+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:43:03.996+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:03.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:03.998+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:03.999+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:04.005+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:04.006+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:43:04.011+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe1567]
2025-12-26T10:43:04.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:04.012+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:04.013+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:04.014+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64284fb6]
2025-12-26T10:43:04.014+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:43:04.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dff6a9b]
2025-12-26T10:43:04.023+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:04.016+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:04.022+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:04.024+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c42d2f5] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:04.024+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d45ae1] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:04.026+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@448778836 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:43:04.027+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:04.028+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:43:04.027+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1067967378 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:04.032+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:04.033+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:43:04.033+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:43:04.037+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c42d2f5]
2025-12-26T10:43:04.038+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:04.039+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:43:04.039+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736b7149] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:04.040+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d45ae1]
2025-12-26T10:43:04.041+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@694472875 wrapping com.mysql.cj.jdbc.ConnectionImpl@2dbafae] will not be managed by Spring
2025-12-26T10:43:04.041+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:04.041+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:04.042+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77767cd1] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:04.042+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:04.043+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1280193420 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:04.043+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:04.045+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:04.045+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:04.046+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736b7149]
2025-12-26T10:43:04.046+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:04.047+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:04.048+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:43:04.048+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77767cd1]
2025-12-26T10:43:04.049+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:04.049+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:04.054+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:43:04.060+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:05.688+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-26T10:43:05.691+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T10:43:07.397+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:43:07.398+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-26T10:43:07.413+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:43:07.414+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-26T10:43:07.416+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T10:43:07.421+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:43:07.420+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-26T10:43:07.421+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:43:07.423+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-26T10:43:07.424+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:43:07.426+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-26T10:43:07.427+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-26T10:43:07.426+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:07.427+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:07.428+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7acdb92] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:07.428+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@109a5542] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:07.440+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1562453038 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:07.440+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@764828126 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:43:07.443+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:43:07.444+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:43:07.448+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:43:07.454+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:43:07.478+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:43:07.478+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:43:07.480+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7acdb92]
2025-12-26T10:43:07.481+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@109a5542]
2025-12-26T10:43:07.487+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:07.489+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:07.490+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T10:43:07.490+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-26T10:43:07.492+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:07.493+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:07.512+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T10:43:07.513+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T10:43:07.530+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-26T10:43:07.531+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-26T10:43:07.557+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T10:43:07.557+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T10:43:07.564+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-26T10:43:07.564+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-26T10:43:07.568+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T10:43:07.575+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T10:43:07.583+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-26T10:43:07.589+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-26T10:43:07.596+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T10:43:07.591+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T10:43:07.598+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T10:43:07.592+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-26T10:43:07.595+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-26T10:43:07.607+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-26T10:43:07.597+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T10:43:07.605+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:43:07.607+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-26T10:43:07.608+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-26T10:43:07.609+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:43:07.611+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:43:07.611+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-26T10:43:07.612+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:43:07.613+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:43:07.614+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:43:07.614+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:43:07.637+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-26T10:43:07.646+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:43:07.647+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:07.652+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-26T10:43:07.655+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:07.658+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:07.658+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f3eeded] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:07.660+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:07.663+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36148120] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:07.661+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@559a1961] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:07.661+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@532ae728] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:07.675+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1480595358 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:07.676+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1197346376 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:43:07.676+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@914686093 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:07.677+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:43:07.680+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:43:07.681+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1771946029 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:43:07.682+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:43:07.688+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:43:07.688+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:43:07.689+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:43:07.690+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:43:07.692+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:43:07.697+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:43:07.698+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:43:07.704+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@532ae728]
2025-12-26T10:43:07.704+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36148120]
2025-12-26T10:43:07.707+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:43:07.707+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:43:07.708+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:07.709+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:07.709+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f3eeded]
2025-12-26T10:43:07.711+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@559a1961]
2025-12-26T10:43:07.712+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f085144] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:07.712+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22baf027] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:07.712+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:07.717+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:07.721+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1797257258 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:07.724+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@671489138 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:43:07.724+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ded68b3] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:07.724+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a4c2c7d] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:07.724+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:43:07.725+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-26T10:43:07.726+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@844719833 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:07.727+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1051258661 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:43:07.729+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T10:43:07.731+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-26T10:43:07.740+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:43:07.742+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-26T10:43:07.744+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T10:43:07.749+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-26T10:43:07.757+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T10:43:07.757+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-26T10:43:07.758+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f085144]
2025-12-26T10:43:07.762+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T10:43:07.762+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22baf027]
2025-12-26T10:43:07.762+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-26T10:43:07.762+09:00  INFO 27384 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T10:43:07.763+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a4c2c7d]
2025-12-26T10:43:07.764+09:00  INFO 27384 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-26T10:43:07.765+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ded68b3]
2025-12-26T10:43:07.765+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:07.770+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:07.769+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:07.769+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:07.770+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:43:07.770+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:43:07.773+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:43:07.774+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-26T10:43:07.777+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:07.780+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:07.782+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:07.789+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:10.136+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:43:10.136+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:10.138+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:43:10.139+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:43:10.143+09:00 DEBUG 27384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:10.143+09:00 DEBUG 27384 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:43:10.149+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:10.152+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:43:10.157+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:43:10.152+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:43:10.152+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:10.154+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:43:10.158+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:43:10.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:43:10.159+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:10.160+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:43:10.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:43:10.162+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:43:10.164+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:43:10.165+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:43:10.176+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:43:10.178+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:43:10.167+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:43:10.171+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:43:10.173+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:43:10.180+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:43:10.174+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:43:10.175+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:43:10.179+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@357d21bc] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.179+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:43:10.180+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:43:10.180+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:43:10.186+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:43:10.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:43:10.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:43:10.182+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.185+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:43:10.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@679704183 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:10.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:43:10.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.190+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.187+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@87b4dc8] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.189+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.189+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:43:10.190+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d738261] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.190+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e7737d] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.190+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7508b130] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.191+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8145ea] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.193+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:43:10.193+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@832495066 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:43:10.196+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:43:10.197+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2021886077 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:43:10.197+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1743016211 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:43:10.197+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1775560645 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:43:10.198+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:43:10.198+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:43:10.198+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@599378971 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:10.198+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:43:10.199+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:43:10.199+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:43:10.202+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:43:10.202+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:43:10.204+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:43:10.204+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@357d21bc]
2025-12-26T10:43:10.204+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:43:10.205+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:43:10.205+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@87b4dc8]
2025-12-26T10:43:10.205+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:43:10.206+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.208+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.208+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:43:10.209+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79ff9160] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.210+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:43:10.210+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fff6cd5] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.210+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d738261]
2025-12-26T10:43:10.210+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:43:10.210+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:43:10.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1006743757 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:10.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7508b130]
2025-12-26T10:43:10.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@257190375 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:43:10.211+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.212+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e7737d]
2025-12-26T10:43:10.212+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8145ea]
2025-12-26T10:43:10.212+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:10.212+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.213+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:10.213+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d8aa03] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.214+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.214+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.214+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:10.214+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7022d1ed] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.214+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:10.214+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1417131663 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:43:10.214+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a5831a] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.215+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd4d8a0] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.215+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@213100245 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:43:10.216+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:43:10.218+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:10.219+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@523357872 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:43:10.220+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1332217341 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:10.220+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:10.220+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:10.221+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:43:10.221+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79ff9160]
2025-12-26T10:43:10.221+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:43:10.222+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:10.222+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fff6cd5]
2025-12-26T10:43:10.224+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:10.225+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.225+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:43:10.225+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:10.226+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.227+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3348223f] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.227+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:43:10.229+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56389e36] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.231+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@918143399 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:10.231+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d8aa03]
2025-12-26T10:43:10.232+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:10.232+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:43:10.232+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@584440288 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:43:10.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:10.233+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:10.235+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:10.237+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7022d1ed]
2025-12-26T10:43:10.237+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a5831a]
2025-12-26T10:43:10.237+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:10.238+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:43:10.238+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd4d8a0]
2025-12-26T10:43:10.239+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:43:10.240+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.240+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:10.240+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:43:10.241+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.241+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@129d4ecd] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.241+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:10.243+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:43:10.244+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:43:10.244+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a89ecda] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.245+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1951815882 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:43:10.246+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:10.246+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3348223f]
2025-12-26T10:43:10.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@835926771 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:10.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:43:10.247+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:10.248+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.251+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:10.252+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56389e36]
2025-12-26T10:43:10.253+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:43:10.254+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1adf3c99] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.254+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:43:10.255+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.256+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1760869415 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:10.257+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:43:10.258+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eff0edf] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.259+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:43:10.259+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@129d4ecd]
2025-12-26T10:43:10.259+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:43:10.259+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1277489688 wrapping com.mysql.cj.jdbc.ConnectionImpl@73d3d185] will not be managed by Spring
2025-12-26T10:43:10.260+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:43:10.260+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.260+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a89ecda]
2025-12-26T10:43:10.260+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:10.261+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd50560] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.262+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.262+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:10.263+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:43:10.263+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@80135953 wrapping com.mysql.cj.jdbc.ConnectionImpl@11216d33] will not be managed by Spring
2025-12-26T10:43:10.264+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a8b7c2c] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.267+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1339138203 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:10.271+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:43:10.265+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1adf3c99]
2025-12-26T10:43:10.265+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:10.266+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:10.272+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:43:10.272+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.272+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:10.272+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eff0edf]
2025-12-26T10:43:10.275+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b8f92a5] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.277+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:10.278+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@139940025 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:10.279+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:43:10.279+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:43:10.279+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:10.279+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:10.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a8b7c2c]
2025-12-26T10:43:10.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:10.280+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:10.281+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd50560]
2025-12-26T10:43:10.281+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.287+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:10.288+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@532e058] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.288+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:43:10.290+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@611944142 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:10.291+09:00 DEBUG 27384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:10.292+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:10.294+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:10.294+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:10.295+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b8f92a5]
2025-12-26T10:43:10.296+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.296+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1283c702] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.297+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:10.297+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93222221 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:10.297+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@532e058]
2025-12-26T10:43:10.297+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:10.298+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.298+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:43:10.298+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e5b8d0] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.299+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2076685716 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:10.305+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:43:10.306+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:43:10.306+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:43:10.306+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1283c702]
2025-12-26T10:43:10.307+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.307+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c5a6670] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.307+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@7150382 wrapping com.mysql.cj.jdbc.ConnectionImpl@42ed34d] will not be managed by Spring
2025-12-26T10:43:10.307+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:10.308+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:43:10.308+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:10.309+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e5b8d0]
2025-12-26T10:43:10.309+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:43:10.310+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4643d25] was not registered for synchronization because synchronization is not active
2025-12-26T10:43:10.311+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1082336833 wrapping com.mysql.cj.jdbc.ConnectionImpl@cab7de8] will not be managed by Spring
2025-12-26T10:43:10.311+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:10.312+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:43:10.312+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c5a6670]
2025-12-26T10:43:10.312+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:43:10.313+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:10.314+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:43:10.315+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:43:10.315+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:10.318+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4643d25]
2025-12-26T10:43:10.320+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:43:10.321+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:43:10.322+09:00 DEBUG 27384 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:43:12.078+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-26T10:43:12.078+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T10:44:14.072+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-26T10:44:14.073+09:00 DEBUG 27384 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T10:44:21.439+09:00 DEBUG 27384 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:44:21.440+09:00 DEBUG 27384 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:44:21.456+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:44:21.459+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:44:21.462+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:44:21.463+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:44:21.464+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:44:21.470+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:44:21.475+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:44:21.476+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:44:21.471+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:44:21.487+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:44:21.490+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:44:21.490+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f67c959] was not registered for synchronization because synchronization is not active
2025-12-26T10:44:21.491+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:44:21.491+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57502238] was not registered for synchronization because synchronization is not active
2025-12-26T10:44:21.494+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610693672 wrapping com.mysql.cj.jdbc.ConnectionImpl@204fca30] will not be managed by Spring
2025-12-26T10:44:21.494+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@742699951 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf59d62] will not be managed by Spring
2025-12-26T10:44:21.495+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T10:44:21.495+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY u.korean_name
2025-12-26T10:44:21.496+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:44:21.502+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:44:21.508+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:44:21.509+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:44:21.510+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f67c959]
2025-12-26T10:44:21.511+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57502238]
2025-12-26T10:44:21.515+09:00  INFO 27384 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:44:21.517+09:00  INFO 27384 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:44:21.518+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:44:21.519+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:44:21.522+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-26T10:44:21.522+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-26T10:44:21.524+09:00 DEBUG 27384 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:44:21.526+09:00 DEBUG 27384 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:50:58.717+09:00  INFO 33164 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 33164 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-26T10:50:58.777+09:00 DEBUG 33164 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-26T10:50:58.808+09:00  INFO 33164 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-26T10:51:01.515+09:00 DEBUG 33164 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-26T10:51:01.528+09:00 DEBUG 33164 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-26T10:51:02.357+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-26T10:51:02.376+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-26T10:51:02.416+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-26T10:51:02.481+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-26T10:51:02.514+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-26T10:51:02.523+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-26T10:51:02.559+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-26T10:51:02.583+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-26T10:51:02.619+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-26T10:51:02.651+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-26T10:51:02.686+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-26T10:51:02.729+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-26T10:51:02.768+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-26T10:51:02.829+09:00 DEBUG 33164 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-26T10:51:04.387+09:00  INFO 33164 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:51:04.428+09:00  INFO 33164 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:51:04.432+09:00  INFO 33164 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-26T10:51:04.652+09:00  INFO 33164 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:51:04.661+09:00  INFO 33164 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5758 ms
2025-12-26T10:51:04.869+09:00 DEBUG 33164 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-26T10:51:04.909+09:00 DEBUG 33164 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-26T10:51:06.303+09:00 DEBUG 33164 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-26T10:51:06.377+09:00 DEBUG 33164 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-26T10:51:06.444+09:00 DEBUG 33164 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-26T10:51:06.480+09:00 DEBUG 33164 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-26T10:51:06.528+09:00 DEBUG 33164 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-26T10:51:06.542+09:00 DEBUG 33164 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-26T10:51:06.613+09:00 DEBUG 33164 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-26T10:51:09.161+09:00 DEBUG 33164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 88 mappings in 'requestMappingHandlerMapping'
2025-12-26T10:51:09.432+09:00 DEBUG 33164 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T10:51:09.498+09:00  WARN 33164 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 6de060f7-1416-4d51-8e5e-2e03721cb3e3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-26T10:51:09.580+09:00  INFO 33164 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-26T10:51:09.994+09:00 DEBUG 33164 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T10:51:10.231+09:00 DEBUG 33164 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T10:51:10.361+09:00 DEBUG 33164 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T10:51:10.385+09:00 DEBUG 33164 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-26T10:51:10.782+09:00  INFO 33164 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:51:10.814+09:00  INFO 33164 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 13.428 seconds (process running for 14.185)
2025-12-26T10:51:18.065+09:00  INFO 33164 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:51:18.084+09:00  INFO 33164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:51:18.085+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T10:51:18.094+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T10:51:18.096+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T10:51:18.167+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@a4df251
2025-12-26T10:51:18.200+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@369ad7da
2025-12-26T10:51:18.209+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T10:51:18.227+09:00  INFO 33164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 141 ms
2025-12-26T10:51:18.285+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:51:18.285+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:51:18.285+09:00 DEBUG 33164 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T10:51:18.414+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T10:51:18.418+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:51:18.432+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:51:18.635+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:51:18.635+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:51:18.635+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-26T10:51:18.645+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T10:51:18.645+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:51:18.645+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:51:18.658+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T10:51:18.660+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:51:18.665+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:51:18.661+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:51:18.664+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T10:51:18.667+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:51:18.715+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:18.715+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:18.715+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:18.726+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40406f67] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:18.726+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b92cd49] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:18.726+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d42cc8f] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:18.748+09:00  INFO 33164 --- [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:51:19.138+09:00  INFO 33164 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@29771723
2025-12-26T10:51:19.143+09:00  INFO 33164 --- [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:51:19.162+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1437133442 wrapping com.mysql.cj.jdbc.ConnectionImpl@29771723] will not be managed by Spring
2025-12-26T10:51:19.184+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T10:51:19.229+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-26T10:51:19.250+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@326621225 wrapping com.mysql.cj.jdbc.ConnectionImpl@1c5de45d] will not be managed by Spring
2025-12-26T10:51:19.265+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-26T10:51:19.332+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:51:19.336+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-26T10:51:19.441+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b92cd49]
2025-12-26T10:51:19.465+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@823447368 wrapping com.mysql.cj.jdbc.ConnectionImpl@29771723] will not be managed by Spring
2025-12-26T10:51:19.466+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-26T10:51:19.468+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:51:19.481+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:51:19.499+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d42cc8f]
2025-12-26T10:51:19.500+09:00  INFO 33164 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:51:19.534+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:51:19.537+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:51:19.541+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:51:19.548+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40406f67]
2025-12-26T10:51:19.574+09:00  INFO 33164 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:51:19.567+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=4, username=test_user3, passwor (truncated)...]
2025-12-26T10:51:19.575+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T10:51:19.576+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:51:19.590+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=4, username=test_user3, passwor (truncated)...]
2025-12-26T10:51:19.610+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:51:19.611+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:51:19.628+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:51:31.842+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:51:31.842+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:51:31.848+09:00 DEBUG 33164 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:51:31.849+09:00 DEBUG 33164 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-26T10:51:31.851+09:00 DEBUG 33164 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T10:51:31.851+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-26T10:51:31.869+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:51:31.872+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:51:31.872+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:51:31.874+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:51:31.876+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T10:51:31.884+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:51:31.886+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:51:31.891+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T10:51:31.891+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-26T10:51:31.897+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:51:31.899+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-26T10:51:31.900+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:51:31.919+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:51:31.922+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-26T10:51:31.926+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-26T10:51:31.927+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:51:31.931+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T10:51:31.933+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:51:31.933+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:51:31.934+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-26T10:51:31.934+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-26T10:51:31.934+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:51:31.935+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T10:51:31.935+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:51:31.939+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:51:31.940+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T10:51:31.941+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-26T10:51:31.942+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:51:31.942+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T10:51:31.944+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:31.944+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:31.945+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-26T10:51:31.947+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:31.949+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56338a4a] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:31.947+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7270be22] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:31.948+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58954c71] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:31.949+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:31.957+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:31.957+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:31.960+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c0cc54] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:31.960+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32250766] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:31.960+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed8f979] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:31.962+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1506445003 wrapping com.mysql.cj.jdbc.ConnectionImpl@1c5de45d] will not be managed by Spring
2025-12-26T10:51:31.962+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1216978351 wrapping com.mysql.cj.jdbc.ConnectionImpl@29771723] will not be managed by Spring
2025-12-26T10:51:31.965+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1734285042 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d18491e] will not be managed by Spring
2025-12-26T10:51:31.966+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:51:31.967+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1798974599 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e38a724] will not be managed by Spring
2025-12-26T10:51:31.968+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:51:31.968+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T10:51:31.974+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:51:31.975+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T10:51:31.980+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:51:31.980+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-26T10:51:31.982+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-26T10:51:31.999+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:51:32.003+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:51:32.003+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-26T10:51:32.006+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T10:51:32.009+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c0cc54]
2025-12-26T10:51:32.011+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58954c71]
2025-12-26T10:51:32.012+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56338a4a]
2025-12-26T10:51:32.012+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7270be22]
2025-12-26T10:51:32.015+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.018+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.020+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.020+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.024+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1417150082 wrapping com.mysql.cj.jdbc.ConnectionImpl@29771723] will not be managed by Spring
2025-12-26T10:51:32.024+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1502947287 wrapping com.mysql.cj.jdbc.ConnectionImpl@1c5de45d] will not be managed by Spring
2025-12-26T10:51:32.027+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@154fa95d] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.028+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b398bcb] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.030+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b68a350] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.030+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed87111] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.031+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:51:32.031+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:51:32.032+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@390241883 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e38a724] will not be managed by Spring
2025-12-26T10:51:32.032+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@492263051 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d18491e] will not be managed by Spring
2025-12-26T10:51:32.036+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:51:32.040+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:51:32.044+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:51:32.047+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:51:32.048+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@180452479 wrapping com.mysql.cj.jdbc.ConnectionImpl@602af8ee] will not be managed by Spring
2025-12-26T10:51:32.058+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:51:32.064+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:51:32.072+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-26T10:51:32.081+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:51:32.084+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:51:32.086+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-26T10:51:32.093+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:51:32.096+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:51:32.097+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32250766]
2025-12-26T10:51:32.097+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed8f979]
2025-12-26T10:51:32.101+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b398bcb]
2025-12-26T10:51:32.102+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@154fa95d]
2025-12-26T10:51:32.108+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.102+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.103+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1019900348 wrapping com.mysql.cj.jdbc.ConnectionImpl@29771723] will not be managed by Spring
2025-12-26T10:51:32.103+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.110+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:51:32.110+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61c56757] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.111+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dffe36] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.111+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-26T10:51:32.117+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b68a350]
2025-12-26T10:51:32.118+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:51:32.119+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:51:32.113+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:51:32.113+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a632d84] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.115+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-26T10:51:32.116+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1645018740 wrapping com.mysql.cj.jdbc.ConnectionImpl@1c5de45d] will not be managed by Spring
2025-12-26T10:51:32.117+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1312182907 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d18491e] will not be managed by Spring
2025-12-26T10:51:32.127+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:51:32.127+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:51:32.128+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1279826023 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e38a724] will not be managed by Spring
2025-12-26T10:51:32.130+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:51:32.132+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:51:32.133+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:51:32.136+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:51:32.148+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:51:32.149+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:51:32.155+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:51:32.166+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:51:32.167+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed87111]
2025-12-26T10:51:32.168+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:51:32.168+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:51:32.172+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:51:32.175+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.176+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dffe36]
2025-12-26T10:51:32.176+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61c56757]
2025-12-26T10:51:32.178+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.177+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a8f9b86] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.178+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a632d84]
2025-12-26T10:51:32.179+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.180+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@674ce104] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.181+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@292796156 wrapping com.mysql.cj.jdbc.ConnectionImpl@29771723] will not be managed by Spring
2025-12-26T10:51:32.181+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.181+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36d0b1ea] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.182+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:51:32.182+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1342799957 wrapping com.mysql.cj.jdbc.ConnectionImpl@1c5de45d] will not be managed by Spring
2025-12-26T10:51:32.182+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d44f35] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.183+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@431555060 wrapping com.mysql.cj.jdbc.ConnectionImpl@4d18491e] will not be managed by Spring
2025-12-26T10:51:32.183+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T10:51:32.184+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:51:32.184+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@875302503 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e38a724] will not be managed by Spring
2025-12-26T10:51:32.184+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:51:32.188+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:51:32.189+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:51:32.190+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:51:32.196+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T10:51:32.196+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:51:32.198+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:51:32.198+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a8f9b86]
2025-12-26T10:51:32.199+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@674ce104]
2025-12-26T10:51:32.200+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.200+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.203+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55c3a973] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.201+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@283bf10c] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.201+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:51:32.206+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2069974342 wrapping com.mysql.cj.jdbc.ConnectionImpl@1c5de45d] will not be managed by Spring
2025-12-26T10:51:32.207+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:51:32.207+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@778964006 wrapping com.mysql.cj.jdbc.ConnectionImpl@29771723] will not be managed by Spring
2025-12-26T10:51:32.208+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36d0b1ea]
2025-12-26T10:51:32.208+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:51:32.208+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d44f35]
2025-12-26T10:51:32.211+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:51:32.209+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:51:32.210+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:51:32.212+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.214+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd31faf] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.212+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:51:32.215+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1007639751 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e38a724] will not be managed by Spring
2025-12-26T10:51:32.228+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T10:51:32.227+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:51:32.228+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T10:51:32.231+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:51:32.244+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:51:32.245+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55c3a973]
2025-12-26T10:51:32.248+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.253+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f7a9c44] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.252+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:51:32.253+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T10:51:32.257+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@383614719 wrapping com.mysql.cj.jdbc.ConnectionImpl@1c5de45d] will not be managed by Spring
2025-12-26T10:51:32.257+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@283bf10c]
2025-12-26T10:51:32.259+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd31faf]
2025-12-26T10:51:32.260+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:51:32.261+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:51:32.262+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.262+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:51:32.263+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T10:51:32.263+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7b3bf8] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.265+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115862936 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e38a724] will not be managed by Spring
2025-12-26T10:51:32.265+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:51:32.267+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:51:32.268+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:51:32.280+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:51:32.281+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f7a9c44]
2025-12-26T10:51:32.283+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.297+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b614738] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.298+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1349679276 wrapping com.mysql.cj.jdbc.ConnectionImpl@1c5de45d] will not be managed by Spring
2025-12-26T10:51:32.301+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:51:32.310+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:51:32.312+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7b3bf8]
2025-12-26T10:51:32.312+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:51:32.313+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.317+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f59b45] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.326+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2081735544 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e38a724] will not be managed by Spring
2025-12-26T10:51:32.328+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T10:51:32.329+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:51:32.330+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T10:51:32.330+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b614738]
2025-12-26T10:51:32.331+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.336+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728dce82] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.341+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@587472748 wrapping com.mysql.cj.jdbc.ConnectionImpl@1c5de45d] will not be managed by Spring
2025-12-26T10:51:32.345+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T10:51:32.348+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:51:32.349+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f59b45]
2025-12-26T10:51:32.349+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:51:32.349+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:51:32.351+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe988b5] was not registered for synchronization because synchronization is not active
2025-12-26T10:51:32.352+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@702152776 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e38a724] will not be managed by Spring
2025-12-26T10:51:32.357+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T10:51:32.357+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:51:32.359+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-26T10:51:32.359+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728dce82]
2025-12-26T10:51:32.361+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:51:32.368+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:51:32.376+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T10:51:32.377+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe988b5]
2025-12-26T10:51:32.379+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:51:32.385+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:51:32.386+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T10:51:32.406+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:58:11.735+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:58:11.737+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-26T10:58:11.747+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:58:11.748+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-26T10:58:11.754+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:58:11.754+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-26T10:58:11.755+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:58:11.758+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:58:11.757+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-26T10:58:11.759+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:58:11.764+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-26T10:58:11.765+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:58:11.765+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-26T10:58:11.767+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6bc0b4] was not registered for synchronization because synchronization is not active
2025-12-26T10:58:11.767+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T10:58:11.768+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@195a5446] was not registered for synchronization because synchronization is not active
2025-12-26T10:58:11.770+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@447724898 wrapping com.mysql.cj.jdbc.ConnectionImpl@1c5de45d] will not be managed by Spring
2025-12-26T10:58:11.770+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1935074009 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e38a724] will not be managed by Spring
2025-12-26T10:58:11.771+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-26T10:58:11.772+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-26T10:58:11.775+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:58:11.776+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-26T10:58:11.782+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:58:11.782+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-26T10:58:11.784+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@195a5446]
2025-12-26T10:58:11.785+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6bc0b4]
2025-12-26T10:58:11.785+09:00  INFO 33164 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:58:11.785+09:00  INFO 33164 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-26T10:58:11.786+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:58:11.787+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T10:58:11.787+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=4, username=test_user3, passwor (truncated)...]
2025-12-26T10:58:11.788+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=4, username=test_user3, passwor (truncated)...]
2025-12-26T10:58:11.789+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T10:58:11.794+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:41:23.258+09:00 DEBUG 33164 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-26T11:41:23.264+09:00 DEBUG 33164 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T11:48:36.620+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T11:48:36.630+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T11:48:36.637+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T11:48:36.639+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T11:48:46.890+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-26T11:48:46.895+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-26T11:48:46.897+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T11:48:46.900+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-26T11:48:46.901+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-26T11:48:46.905+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-26T11:48:46.982+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2025-12-26T11:48:46.988+09:00  INFO 33164 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2025-12-26T11:48:46.992+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:46.993+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be32cde] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:46.997+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1439098106 wrapping com.mysql.cj.jdbc.ConnectionImpl@70d93a65] will not be managed by Spring
2025-12-26T11:48:46.997+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-26T11:48:46.998+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-26T11:48:47.014+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-26T11:48:47.015+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be32cde]
2025-12-26T11:48:47.110+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.110+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e399f21] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.111+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2134731049 wrapping com.mysql.cj.jdbc.ConnectionImpl@70d93a65] will not be managed by Spring
2025-12-26T11:48:47.112+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-26T11:48:47.116+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-26T11:48:47.135+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-26T11:48:47.138+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e399f21]
2025-12-26T11:48:47.172+09:00  INFO 33164 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: USER, companyId: 1
2025-12-26T11:48:47.175+09:00  INFO 33164 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=USER
2025-12-26T11:48:47.177+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:48:47.178+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2025-12-26T11:48:47.181+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:48:47.643+09:00 DEBUG 33164 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-26T11:48:47.651+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-26T11:48:47.705+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2025-12-26T11:48:47.718+09:00 DEBUG 33164 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T11:48:47.721+09:00 DEBUG 33164 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T11:48:47.723+09:00 DEBUG 33164 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-26T11:48:47.731+09:00 DEBUG 33164 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-26T11:48:47.746+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-26T11:48:47.821+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-26T11:48:47.872+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-26T11:48:47.874+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T11:48:47.874+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T11:48:47.876+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-26T11:48:47.876+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-26T11:48:47.879+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.881+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T11:48:47.886+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T11:48:47.891+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-26T11:48:47.903+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T11:48:47.894+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-26T11:48:47.901+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5207cdfc] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.901+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-26T11:48:47.902+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T11:48:47.903+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T11:48:47.904+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-26T11:48:47.908+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-26T11:48:47.909+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T11:48:47.909+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T11:48:47.910+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-26T11:48:47.910+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-26T11:48:47.912+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T11:48:47.915+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2043983537 wrapping com.mysql.cj.jdbc.ConnectionImpl@70d93a65] will not be managed by Spring
2025-12-26T11:48:47.919+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.921+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-26T11:48:47.923+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.923+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.924+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-26T11:48:47.925+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67b66993] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.925+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.930+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63ca1beb] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.926+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f240f21] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.926+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc7ad34] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.929+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-26T11:48:47.941+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1953475748 wrapping com.mysql.cj.jdbc.ConnectionImpl@29ddda57] will not be managed by Spring
2025-12-26T11:48:47.941+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@831971383 wrapping com.mysql.cj.jdbc.ConnectionImpl@6778c8b0] will not be managed by Spring
2025-12-26T11:48:47.941+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1385617074 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ec7e62d] will not be managed by Spring
2025-12-26T11:48:47.941+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1594660831 wrapping com.mysql.cj.jdbc.ConnectionImpl@a96ebcc] will not be managed by Spring
2025-12-26T11:48:47.942+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-26T11:48:47.942+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T11:48:47.943+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T11:48:47.943+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T11:48:47.943+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-26T11:48:47.944+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5207cdfc]
2025-12-26T11:48:47.945+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T11:48:47.946+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T11:48:47.946+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T11:48:47.947+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-26T11:48:47.949+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:48:47.956+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-26T11:48:47.959+09:00 DEBUG 33164 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:48:47.967+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T11:48:47.975+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f240f21]
2025-12-26T11:48:47.972+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T11:48:47.977+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.978+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1065b3bc] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.978+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67b66993]
2025-12-26T11:48:47.979+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1471011973 wrapping com.mysql.cj.jdbc.ConnectionImpl@29ddda57] will not be managed by Spring
2025-12-26T11:48:47.980+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.980+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T11:48:47.980+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dee3cfb] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.981+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T11:48:47.981+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217205950 wrapping com.mysql.cj.jdbc.ConnectionImpl@6778c8b0] will not be managed by Spring
2025-12-26T11:48:47.985+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T11:48:47.986+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T11:48:47.990+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T11:48:47.992+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1065b3bc]
2025-12-26T11:48:47.992+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T11:48:47.993+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.992+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T11:48:47.993+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dee3cfb]
2025-12-26T11:48:47.994+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc7ad34]
2025-12-26T11:48:47.993+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-26T11:48:47.993+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a471602] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.994+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.994+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.994+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63ca1beb]
2025-12-26T11:48:47.995+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281215a1] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.995+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea55057] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.995+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1199743653 wrapping com.mysql.cj.jdbc.ConnectionImpl@29ddda57] will not be managed by Spring
2025-12-26T11:48:47.996+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:47.996+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1950875068 wrapping com.mysql.cj.jdbc.ConnectionImpl@6778c8b0] will not be managed by Spring
2025-12-26T11:48:47.996+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@860885700 wrapping com.mysql.cj.jdbc.ConnectionImpl@a96ebcc] will not be managed by Spring
2025-12-26T11:48:47.997+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T11:48:47.997+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@784eda33] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:47.998+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T11:48:47.998+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T11:48:48.001+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T11:48:48.002+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@164216217 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ec7e62d] will not be managed by Spring
2025-12-26T11:48:48.003+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T11:48:48.003+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T11:48:48.004+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T11:48:48.005+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T11:48:48.008+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T11:48:48.009+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea55057]
2025-12-26T11:48:48.010+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T11:48:48.010+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.010+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@784eda33]
2025-12-26T11:48:48.012+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26cdf505] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.011+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T11:48:48.011+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T11:48:48.012+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.013+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a471602]
2025-12-26T11:48:48.013+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@47070819 wrapping com.mysql.cj.jdbc.ConnectionImpl@a96ebcc] will not be managed by Spring
2025-12-26T11:48:48.013+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281215a1]
2025-12-26T11:48:48.013+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@809ec77] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.013+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.014+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T11:48:48.014+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.014+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@102244359 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ec7e62d] will not be managed by Spring
2025-12-26T11:48:48.014+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52722432] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.015+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T11:48:48.019+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c29ceca] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.019+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T11:48:48.020+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273141624 wrapping com.mysql.cj.jdbc.ConnectionImpl@29ddda57] will not be managed by Spring
2025-12-26T11:48:48.021+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143890931 wrapping com.mysql.cj.jdbc.ConnectionImpl@6778c8b0] will not be managed by Spring
2025-12-26T11:48:48.022+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-26T11:48:48.022+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T11:48:48.022+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-26T11:48:48.023+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T11:48:48.024+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-26T11:48:48.025+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T11:48:48.026+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26cdf505]
2025-12-26T11:48:48.028+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.028+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-26T11:48:48.029+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T11:48:48.029+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2025-12-26T11:48:48.030+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ec74dc] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.030+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@809ec77]
2025-12-26T11:48:48.031+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52722432]
2025-12-26T11:48:48.032+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c29ceca]
2025-12-26T11:48:48.033+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@571248819 wrapping com.mysql.cj.jdbc.ConnectionImpl@a96ebcc] will not be managed by Spring
2025-12-26T11:48:48.038+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.038+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.039+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.039+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T11:48:48.039+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ca7a41c] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.040+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d46383] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.040+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16373761] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.040+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T11:48:48.041+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1874281998 wrapping com.mysql.cj.jdbc.ConnectionImpl@29ddda57] will not be managed by Spring
2025-12-26T11:48:48.042+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1353003169 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ec7e62d] will not be managed by Spring
2025-12-26T11:48:48.042+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1735391236 wrapping com.mysql.cj.jdbc.ConnectionImpl@6778c8b0] will not be managed by Spring
2025-12-26T11:48:48.043+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T11:48:48.045+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T11:48:48.046+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T11:48:48.046+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T11:48:48.049+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T11:48:48.051+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T11:48:48.061+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T11:48:48.062+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ec74dc]
2025-12-26T11:48:48.064+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:48:48.064+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T11:48:48.072+09:00 DEBUG 33164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:48:48.075+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T11:48:48.078+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T11:48:48.079+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T11:48:48.087+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ca7a41c]
2025-12-26T11:48:48.088+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d46383]
2025-12-26T11:48:48.089+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16373761]
2025-12-26T11:48:48.090+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.094+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:48:48.094+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.095+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15f1d8cc] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.096+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-26T11:48:48.097+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b4729cf] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.097+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@73861418 wrapping com.mysql.cj.jdbc.ConnectionImpl@29ddda57] will not be managed by Spring
2025-12-26T11:48:48.101+09:00 DEBUG 33164 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:48:48.105+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@350526969 wrapping com.mysql.cj.jdbc.ConnectionImpl@6778c8b0] will not be managed by Spring
2025-12-26T11:48:48.105+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T11:48:48.107+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-26T11:48:48.109+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T11:48:48.109+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long), 1(Long)
2025-12-26T11:48:48.114+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T11:48:48.114+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-26T11:48:48.116+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b4729cf]
2025-12-26T11:48:48.119+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15f1d8cc]
2025-12-26T11:48:48.119+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.119+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-26T11:48:48.119+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bcf2b49] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.120+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3ec337] was not registered for synchronization because synchronization is not active
2025-12-26T11:48:48.120+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@163869358 wrapping com.mysql.cj.jdbc.ConnectionImpl@6778c8b0] will not be managed by Spring
2025-12-26T11:48:48.122+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@538069796 wrapping com.mysql.cj.jdbc.ConnectionImpl@29ddda57] will not be managed by Spring
2025-12-26T11:48:48.122+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T11:48:48.123+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-26T11:48:48.124+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T11:48:48.124+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-26T11:48:48.127+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T11:48:48.127+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-26T11:48:48.130+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bcf2b49]
2025-12-26T11:48:48.131+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3ec337]
2025-12-26T11:48:48.132+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:48:48.133+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:48:48.135+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T11:48:48.136+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-26T11:48:48.140+09:00 DEBUG 33164 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:48:48.140+09:00 DEBUG 33164 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
