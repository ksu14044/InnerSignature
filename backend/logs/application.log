2026-01-06T17:05:27.563+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:27.568+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:27.576+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:27.592+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:27.595+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dab49af]
2026-01-06T17:05:27.596+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:27.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@105335b] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:27.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:27.622+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127604133 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:27.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b1aa97]
2026-01-06T17:05:27.625+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:27.628+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:27.638+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:27.639+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5597637b] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:27.652+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@219587773 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:27.654+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:27.659+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:27.661+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@105335b]
2026-01-06T17:05:27.661+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:27.662+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:27.667+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5761b253] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:27.670+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2136398863 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:27.671+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:27.673+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:27.674+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:27.674+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5597637b]
2026-01-06T17:05:27.675+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:27.675+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a91b95] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:27.676+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2102079008 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:27.677+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:27.677+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:27.677+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5761b253]
2026-01-06T17:05:27.678+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:27.679+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:27.685+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:05:27.688+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:27.691+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:27.694+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a91b95]
2026-01-06T17:05:27.703+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:27.704+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:05:27.707+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:32.473+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:05:32.473+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:32.473+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:05:32.477+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:32.478+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:05:32.483+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:32.486+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:32.484+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:05:32.485+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:05:32.487+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:32.488+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:05:32.490+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:32.491+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:05:32.490+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:05:32.492+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.493+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:32.492+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:05:32.493+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de2df1a] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.493+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.494+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:05:32.494+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd03e2c] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.496+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:32.501+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@947930919 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:32.504+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.505+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:32.506+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4d6ba5] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753742871 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:32.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:32.508+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:32.510+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1623957226 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:32.512+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:05:32.512+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:32.516+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:05:32.521+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:32.523+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de2df1a]
2026-01-06T17:05:32.525+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:32.526+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:32.528+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd03e2c]
2026-01-06T17:05:32.529+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:32.533+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.535+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:32.536+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0b1ad2] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.543+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:32.546+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@155851754 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:32.547+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4d6ba5]
2026-01-06T17:05:32.552+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:32.552+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.553+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:05:32.554+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4adb5f] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.554+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851002214 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:32.556+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:32.558+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:32.559+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0b1ad2]
2026-01-06T17:05:32.559+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:05:32.559+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.560+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9af363] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.561+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1258464744 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:32.561+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:32.561+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:32.562+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4adb5f]
2026-01-06T17:05:32.563+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:05:32.567+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.569+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3daf53b9] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.569+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1617094512 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:32.573+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:32.575+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:05:32.576+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:32.576+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9af363]
2026-01-06T17:05:32.576+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.577+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@488cf333] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.578+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:32.578+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@290717866 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:32.578+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3daf53b9]
2026-01-06T17:05:32.579+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:32.582+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.583+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b260ecf] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.583+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:05:32.584+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@475245705 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:32.584+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:32.586+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:05:32.592+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:05:32.595+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@488cf333]
2026-01-06T17:05:32.600+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.601+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:05:32.601+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e19267a] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.601+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b260ecf]
2026-01-06T17:05:32.603+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27479521 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:32.603+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:32.603+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:32.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a96178d] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:32.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:32.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@833432166 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:32.606+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:32.606+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:32.607+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:32.608+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e19267a]
2026-01-06T17:05:32.610+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:32.611+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:05:32.612+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:32.613+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:32.618+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a96178d]
2026-01-06T17:05:32.620+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:32.621+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:05:32.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:37.641+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:05:37.641+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:37.650+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:37.653+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:05:37.654+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:37.670+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:37.671+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:05:37.677+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:37.679+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:05:37.684+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:37.685+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:37.686+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:05:37.688+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:05:37.702+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:05:37.691+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:37.695+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:37.702+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:05:37.703+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:05:37.704+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:37.705+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:37.705+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:05:37.707+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:37.707+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.707+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.707+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:05:37.708+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:37.708+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d02b1a5] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.708+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ce402a] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.708+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:05:37.709+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:37.709+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.715+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f48e524] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.713+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.719+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:37.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41418b08] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:37.723+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:37.726+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:37.728+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@741040504 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:37.728+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1037816521 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:37.728+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@234059904 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:37.728+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@349141787 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:37.734+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:37.729+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.730+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:37.733+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:37.734+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:37.735+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:37.735+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37692d18] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.737+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:37.737+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:37.737+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:37.744+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:37.745+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@84906462 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:37.745+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:37.745+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:37.745+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:37.746+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d02b1a5]
2026-01-06T17:05:37.751+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:37.752+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f48e524]
2026-01-06T17:05:37.752+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41418b08]
2026-01-06T17:05:37.754+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:37.752+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ce402a]
2026-01-06T17:05:37.753+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:37.754+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:37.754+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.755+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:37.755+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.755+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:37.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a870340] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6697b13] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:37.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689437754 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:37.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:37.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@506611347 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:37.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:37.760+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:37.761+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:37.761+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:37.761+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:37.762+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37692d18]
2026-01-06T17:05:37.769+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:37.769+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:37.770+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:37.771+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:37.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6697b13]
2026-01-06T17:05:37.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:37.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a870340]
2026-01-06T17:05:37.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c6cba67] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.778+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745dce57] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.779+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1091631386 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:37.782+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@371347103 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:37.783+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:37.784+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:37.786+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:37.788+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:37.793+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:37.794+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:37.794+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c6cba67]
2026-01-06T17:05:37.795+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745dce57]
2026-01-06T17:05:37.795+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.800+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.801+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d36ee09] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.801+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bda9e7] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.802+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428404913 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:37.801+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@878762058 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:37.802+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:37.803+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:37.803+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:37.804+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:37.807+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:37.807+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:37.808+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bda9e7]
2026-01-06T17:05:37.812+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d36ee09]
2026-01-06T17:05:37.817+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.818+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.818+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a87b46a] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.818+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430c3c20] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@539708821 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:37.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@756041527 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:37.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:37.821+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:37.824+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:37.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:37.829+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:37.830+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a87b46a]
2026-01-06T17:05:37.830+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:37.834+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.834+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430c3c20]
2026-01-06T17:05:37.834+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11396777] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.835+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.835+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1726653918 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:37.835+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ec925c6] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.836+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:37.836+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@478601987 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:37.836+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:37.836+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:37.837+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:37.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:37.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11396777]
2026-01-06T17:05:37.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:37.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ec925c6]
2026-01-06T17:05:37.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55bfda48] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:37.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@258415959 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:37.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59930eb0] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:37.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:37.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@780396369 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:37.845+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:37.845+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:37.845+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:37.848+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:37.848+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:37.852+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55bfda48]
2026-01-06T17:05:37.852+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59930eb0]
2026-01-06T17:05:37.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:37.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:37.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:05:37.855+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:05:37.859+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:37.861+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:39.073+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/23
2026-01-06T17:05:39.073+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:39.074+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/23
2026-01-06T17:05:39.079+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/23
2026-01-06T17:05:39.079+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:39.085+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/23
2026-01-06T17:05:39.087+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:39.087+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/23
2026-01-06T17:05:39.088+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/23
2026-01-06T17:05:39.089+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/23", parameters={}
2026-01-06T17:05:39.089+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:39.091+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:39.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:39.092+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/23
2026-01-06T17:05:39.095+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:39.095+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.103+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68062ad2] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.100+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/23
2026-01-06T17:05:39.102+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.109+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a27ff13] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.108+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/23", parameters={}
2026-01-06T17:05:39.112+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:39.113+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@389477279 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:39.114+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@535040831 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:39.118+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.118+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:39.119+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:39.119+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37d11aa6] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.120+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 23(Long), 2(Long)
2026-01-06T17:05:39.121+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:39.126+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:39.126+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@334120724 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:39.126+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68062ad2]
2026-01-06T17:05:39.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:39.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:39.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 23(Long), 2(Long)
2026-01-06T17:05:39.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a27ff13]
2026-01-06T17:05:39.128+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9cbacef] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.129+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:39.129+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2107169635 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:39.130+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:39.132+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:39.133+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:39.136+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 23(Long), 2(Long)
2026-01-06T17:05:39.136+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:39.138+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37d11aa6]
2026-01-06T17:05:39.139+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.139+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:39.139+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@169e7a88] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9cbacef]
2026-01-06T17:05:39.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2105935865 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:39.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:39.142+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f76eccd] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.143+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 23(Long), 2(Long)
2026-01-06T17:05:39.143+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1259243288 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:39.144+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:39.145+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 23(Long), 2(Long)
2026-01-06T17:05:39.146+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:39.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@169e7a88]
2026-01-06T17:05:39.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:39.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fbad7c9] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f76eccd]
2026-01-06T17:05:39.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1511366796 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:39.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:39.153+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e00fdd6] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.153+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 23(Long), 2(Long)
2026-01-06T17:05:39.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@372801119 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:39.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:39.155+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 23(Long), 2(Long)
2026-01-06T17:05:39.156+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:39.157+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fbad7c9]
2026-01-06T17:05:39.157+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.157+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20cca53] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.157+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1809924420 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:39.157+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-06T17:05:39.158+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:39.158+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e00fdd6]
2026-01-06T17:05:39.158+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 23(Long), 2(Long)
2026-01-06T17:05:39.158+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.158+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f1cefe] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.159+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1353080923 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:39.160+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:39.160+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-06T17:05:39.160+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:39.160+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20cca53]
2026-01-06T17:05:39.161+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:39.161+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5909d11] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:39.161+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1630179746 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:39.162+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:39.162+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:39.162+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:39.162+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f1cefe]
2026-01-06T17:05:39.164+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:39.167+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=23, drafterId=2, r (truncated)...]
2026-01-06T17:05:39.168+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:39.169+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:39.169+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5909d11]
2026-01-06T17:05:39.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:39.178+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=23, drafterId=2, r (truncated)...]
2026-01-06T17:05:39.182+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:40.178+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:40.180+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:40.180+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:05:40.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:05:40.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:40.196+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:05:40.196+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:40.207+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:05:40.208+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:05:40.206+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:40.208+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:40.209+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:05:40.222+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:05:40.210+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:05:40.211+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:40.212+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:40.221+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:40.224+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.227+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:40.227+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:05:40.233+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:40.234+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:40.234+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@782a0115] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.235+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:40.236+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:05:40.236+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:40.237+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:40.238+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:40.240+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:05:40.240+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:40.242+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.242+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.243+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:05:40.243+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:40.244+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540031804 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:40.244+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3048af38] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.245+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f9bd44] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.250+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.251+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.251+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:40.257+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e1641c] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.258+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ec46ff] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.260+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:40.260+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450499318 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:40.260+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1638675759 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:40.261+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:40.261+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:40.263+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:40.267+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1989870339 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:40.267+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@336010727 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:40.268+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:40.273+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:40.276+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:40.278+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:40.278+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@782a0115]
2026-01-06T17:05:40.286+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:40.287+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.287+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:40.288+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@600673e6] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.288+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:40.288+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:40.290+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f9bd44]
2026-01-06T17:05:40.289+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868164582 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:40.290+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:40.290+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3048af38]
2026-01-06T17:05:40.290+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:40.291+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:40.291+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:40.293+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:40.294+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:40.291+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:40.292+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:40.292+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e1641c]
2026-01-06T17:05:40.294+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ec46ff]
2026-01-06T17:05:40.295+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:40.296+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.297+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:40.306+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:40.312+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da34232] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.313+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:40.319+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:40.320+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1119114349 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:40.320+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:40.321+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@600673e6]
2026-01-06T17:05:40.321+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:40.322+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.322+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:40.323+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43114531] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.324+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@282822646 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:40.326+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:40.328+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:40.329+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da34232]
2026-01-06T17:05:40.329+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:40.329+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.335+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2225b45c] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@354468088 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:40.339+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:40.340+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:40.343+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43114531]
2026-01-06T17:05:40.343+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:40.343+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.344+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be0394c] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.346+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1385291724 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:40.351+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:40.357+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:40.357+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2225b45c]
2026-01-06T17:05:40.358+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:40.359+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.359+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b717659] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.360+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27550139 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:40.361+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:40.377+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:40.388+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:40.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be0394c]
2026-01-06T17:05:40.394+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.403+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:40.404+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d9f080] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.404+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b717659]
2026-01-06T17:05:40.404+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.404+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1600752430 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:40.404+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482af0f6] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.405+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:40.407+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@136942612 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:40.410+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:40.410+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:40.434+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:40.445+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:40.451+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:40.453+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d9f080]
2026-01-06T17:05:40.454+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482af0f6]
2026-01-06T17:05:40.454+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.455+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5587356a] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.455+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.457+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1599111850 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:40.457+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53bba596] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.458+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:40.458+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1284067927 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:40.459+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:40.460+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:40.462+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:40.472+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:40.474+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5587356a]
2026-01-06T17:05:40.477+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.478+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:40.478+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfdc47b] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.479+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53bba596]
2026-01-06T17:05:40.479+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1899863755 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:40.486+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:40.487+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:40.487+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f070e0] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:40.488+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:40.488+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@946468029 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:40.488+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:40.489+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:40.494+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:40.494+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:40.495+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfdc47b]
2026-01-06T17:05:40.495+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f070e0]
2026-01-06T17:05:40.496+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:40.496+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:40.501+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:05:40.502+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:05:40.503+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:40.512+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:41.776+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:41.776+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/22
2026-01-06T17:05:41.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/22
2026-01-06T17:05:41.783+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:41.787+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/22
2026-01-06T17:05:41.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/22
2026-01-06T17:05:41.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:41.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/22
2026-01-06T17:05:41.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:41.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/22", parameters={}
2026-01-06T17:05:41.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:41.795+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:41.793+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:41.794+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/22
2026-01-06T17:05:41.805+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.806+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47196d5e] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.806+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.808+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/22
2026-01-06T17:05:41.809+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac36b5c] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/22
2026-01-06T17:05:41.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/22", parameters={}
2026-01-06T17:05:41.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@220540893 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:41.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2001297342 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:41.822+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:41.822+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:41.822+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:41.823+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.823+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 22(Long), 2(Long)
2026-01-06T17:05:41.824+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:41.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d06ee6e] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.829+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:41.837+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:41.838+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1553218978 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:41.839+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47196d5e]
2026-01-06T17:05:41.841+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac36b5c]
2026-01-06T17:05:41.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:41.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:41.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 22(Long), 2(Long)
2026-01-06T17:05:41.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:41.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fb9281] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.845+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:41.846+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1075589100 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:41.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:41.855+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 22(Long), 2(Long)
2026-01-06T17:05:41.862+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:41.869+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d06ee6e]
2026-01-06T17:05:41.870+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.871+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:41.871+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33696572] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.871+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fb9281]
2026-01-06T17:05:41.872+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1310272034 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:41.872+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.872+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:41.872+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ae8f44] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.873+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 22(Long), 2(Long)
2026-01-06T17:05:41.873+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@354710602 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:41.874+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:41.888+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 22(Long), 2(Long)
2026-01-06T17:05:41.891+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:41.892+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33696572]
2026-01-06T17:05:41.905+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.906+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0b6b64] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.918+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@112317218 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:41.920+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:41.921+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 22(Long), 2(Long)
2026-01-06T17:05:41.922+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:41.927+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ae8f44]
2026-01-06T17:05:41.928+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.928+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4da36337] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.930+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:41.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1232277864 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:41.940+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0b6b64]
2026-01-06T17:05:41.940+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:41.940+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.942+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 22(Long), 2(Long)
2026-01-06T17:05:41.942+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598010aa] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.943+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2096431285 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:41.943+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:41.943+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 22(Long), 2(Long)
2026-01-06T17:05:41.945+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-06T17:05:41.945+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4da36337]
2026-01-06T17:05:41.945+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.945+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-06T17:05:41.945+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f1b3af] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.946+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598010aa]
2026-01-06T17:05:41.946+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@790486397 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:41.951+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:41.951+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:41.951+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d04a6d] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:41.952+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:41.952+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1502351261 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:41.952+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:41.953+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:41.955+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:41.960+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f1b3af]
2026-01-06T17:05:41.962+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:41.962+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:41.963+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=22, drafterId=10,  (truncated)...]
2026-01-06T17:05:41.964+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d04a6d]
2026-01-06T17:05:41.972+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:41.977+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:42.012+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=22, drafterId=10,  (truncated)...]
2026-01-06T17:05:42.023+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:43.511+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:43.511+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:05:43.511+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:43.512+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:43.512+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:05:43.520+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:43.521+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:05:43.521+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:43.522+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:05:43.524+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:43.524+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:05:43.526+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:43.528+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:43.528+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:43.534+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:05:43.535+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:05:43.536+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:43.537+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:43.537+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:05:43.538+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:05:43.539+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:43.539+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:43.541+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:43.539+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:43.540+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:05:43.540+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:05:43.541+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:43.541+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:43.542+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.542+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:05:43.555+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.644+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147d1dfb] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.603+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.646+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f13782] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.629+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:43.651+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.652+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56800a7a] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.629+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18381542] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.632+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.656+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c4406b3] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.675+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1833479183 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:43.675+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2068504780 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:43.676+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648251295 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:43.676+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@703298572 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:43.676+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@80006922 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:43.705+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:43.705+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:43.718+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:43.729+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:43.734+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:43.739+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:43.739+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:43.740+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:43.742+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:43.743+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:43.751+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:43.751+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:43.751+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:43.751+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:43.751+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:43.771+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f13782]
2026-01-06T17:05:43.773+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18381542]
2026-01-06T17:05:43.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c4406b3]
2026-01-06T17:05:43.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147d1dfb]
2026-01-06T17:05:43.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56800a7a]
2026-01-06T17:05:43.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:43.776+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:43.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.778+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:43.783+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:43.783+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:43.793+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48426873] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.800+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:43.794+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a395413] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.794+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:43.796+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:43.800+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1166144894 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:43.802+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1746419785 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:43.821+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:43.823+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:43.824+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:43.828+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:43.828+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:43.836+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:43.836+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:43.839+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48426873]
2026-01-06T17:05:43.840+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a395413]
2026-01-06T17:05:43.840+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.840+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.840+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fb1dc8f] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.841+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a0eea45] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.841+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693133562 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:43.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1252499675 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:43.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:43.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:43.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:43.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:43.851+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:43.851+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:43.852+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a0eea45]
2026-01-06T17:05:43.852+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fb1dc8f]
2026-01-06T17:05:43.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6067667b] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed5b809] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1840706800 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:43.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865503480 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:43.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:43.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:43.855+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:43.855+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:43.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:43.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:43.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed5b809]
2026-01-06T17:05:43.859+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6067667b]
2026-01-06T17:05:43.859+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.859+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.860+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@240539bd] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.860+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477421ac] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.861+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1466161348 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:43.862+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@477873031 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:43.862+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:43.862+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:05:43.867+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:43.870+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:05:43.873+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:43.873+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:05:43.874+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@240539bd]
2026-01-06T17:05:43.875+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477421ac]
2026-01-06T17:05:43.875+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.876+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.876+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@608a61f1] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.877+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d4cd2b7] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.877+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1833923724 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:43.878+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1003741683 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:43.878+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:43.878+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:43.878+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:43.885+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:43.889+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:43.889+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:43.889+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d4cd2b7]
2026-01-06T17:05:43.890+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@608a61f1]
2026-01-06T17:05:43.890+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.890+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:43.891+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa9bc92] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.892+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1104c439] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:43.892+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@21698586 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:43.893+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@582138369 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:43.893+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:43.894+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:43.894+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:43.894+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:43.896+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:43.896+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:43.903+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa9bc92]
2026-01-06T17:05:43.902+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1104c439]
2026-01-06T17:05:43.904+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:43.904+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:43.905+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:05:43.906+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:05:43.906+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:43.907+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:44.724+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:44.727+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:05:44.726+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:05:44.745+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:44.745+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:05:44.753+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:05:44.756+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:44.761+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:44.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/28
2026-01-06T17:05:44.761+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/28
2026-01-06T17:05:44.761+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:44.762+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:05:44.762+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:05:44.765+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:05:44.762+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:44.762+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:05:44.768+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:44.768+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.769+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:44.770+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e2285b4] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.779+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1128a0f3] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.778+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@644f2b78] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1397842298 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:44.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@48741285 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:44.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@677755378 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:44.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:44.793+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:44.794+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:44.796+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:44.800+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:44.803+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:44.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:44.813+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1128a0f3]
2026-01-06T17:05:44.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:44.817+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.811+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:44.817+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e2285b4]
2026-01-06T17:05:44.817+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d06b09] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.818+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@644f2b78]
2026-01-06T17:05:44.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:44.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1759591904 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:44.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.823+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:44.823+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:44.823+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e275d63] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.824+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:44.826+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1658007676 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:44.824+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:44.827+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:44.829+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:44.838+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:44.838+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e275d63]
2026-01-06T17:05:44.838+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:44.841+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.841+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d06b09]
2026-01-06T17:05:44.841+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b1a2cb7] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.841+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@266515186 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:44.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26f51091] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:44.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1021816677 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:44.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:44.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:44.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:44.846+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:44.846+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:44.846+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b1a2cb7]
2026-01-06T17:05:44.846+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26f51091]
2026-01-06T17:05:44.850+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.851+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dde462e] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.850+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2009841334 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:44.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@731c49c1] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:44.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2103684779 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:44.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:44.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:44.855+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:44.856+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:05:44.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dde462e]
2026-01-06T17:05:44.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:05:44.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@731c49c1]
2026-01-06T17:05:44.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@504d9daa] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:44.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1070419643 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:44.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b6dfe5] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:44.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:44.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1953878227 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:44.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:44.859+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:44.860+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:44.861+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:44.862+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@504d9daa]
2026-01-06T17:05:44.862+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:44.863+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:44.863+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b6dfe5]
2026-01-06T17:05:44.868+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:05:44.868+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:44.869+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:44.870+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:05:44.876+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:55.874+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28/tax/revision-request
2026-01-06T17:05:55.924+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/28/tax/revision-request
2026-01-06T17:05:55.938+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/28/tax/revision-request
2026-01-06T17:05:55.990+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/28/tax/revision-request
2026-01-06T17:05:55.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/28/tax/revision-request", parameters={}
2026-01-06T17:05:55.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#requestTaxRevision(Long, Map)
2026-01-06T17:05:56.011+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{reason=영수증과 작성 금액 불일치}]
2026-01-06T17:05:56.015+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.requestTaxRevision(java.lang.Long,java.util.Map); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-06T17:05:56.017+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.requestTaxRevision(java.lang.Long,java.util.Map); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-06T17:05:56.018+09:00  INFO 23600 --- [http-nio-8080-exec-10] c.i.b.controller.ExpenseController       : 세무 수정 요청 - expenseId: 28, userId: 12, reason: 영수증과 작성 금액 불일치
2026-01-06T17:05:56.022+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:56.023+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1710cf]
2026-01-06T17:05:56.023+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@445017111 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will be managed by Spring
2026-01-06T17:05:56.024+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-06T17:05:56.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-06T17:05:56.027+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-06T17:05:56.029+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1710cf]
2026-01-06T17:05:56.033+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1710cf] from current transaction
2026-01-06T17:05:56.035+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:56.037+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:56.039+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:56.040+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1710cf]
2026-01-06T17:05:56.041+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1710cf] from current transaction
2026-01-06T17:05:56.041+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.updateTaxRevisionRequest       : ==>  Preparing: UPDATE expense_report_tb SET tax_revision_requested = ?, tax_revision_request_reason = ? WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:56.041+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.updateTaxRevisionRequest       : ==> Parameters: true(Boolean), 영수증과 작성 금액 불일치(String), 28(Long), 2(Long)
2026-01-06T17:05:56.050+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.updateTaxRevisionRequest       : <==    Updates: 1
2026-01-06T17:05:56.052+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1710cf]
2026-01-06T17:05:56.053+09:00  INFO 23600 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 세무 수정 요청 처리 - expenseId: 28, userId: 12, reason: 영수증과 작성 금액 불일치
2026-01-06T17:05:56.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1710cf]
2026-01-06T17:05:56.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1710cf]
2026-01-06T17:05:56.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1710cf]
2026-01-06T17:05:56.060+09:00  INFO 23600 --- [http-nio-8080-exec-10] c.i.b.controller.ExpenseController       : 세무 수정 요청 완료 - expenseId: 28, userId: 12
2026-01-06T17:05:56.060+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:56.061+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=수정 요청이 전송되었습니다., data=null)]
2026-01-06T17:05:56.062+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:58.401+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:58.401+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:05:58.403+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:05:58.404+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:58.404+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:05:58.424+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:58.424+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:05:58.438+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/28
2026-01-06T17:05:58.439+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:58.441+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:05:58.489+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:05:58.490+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:58.492+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.444+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:05:58.451+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:58.494+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/companies
2026-01-06T17:05:58.452+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:05:58.473+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:58.492+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f8bfcc1] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.495+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:58.500+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:05:58.501+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/28
2026-01-06T17:05:58.503+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:58.510+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:58.511+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:05:58.511+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:05:58.540+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:58.541+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:58.544+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:05:58.545+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@922400792 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:58.567+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:58.561+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:05:58.561+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.566+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:58.568+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.568+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.569+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:58.569+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78259ae6] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.574+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.577+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da387f7] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.578+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.592+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c824f4] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:58.607+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d5779f0] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.608+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f8bfcc1]
2026-01-06T17:05:58.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.627+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@345016349 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:05:58.627+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@862484471 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:05:58.628+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68df15a7] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.645+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:05:58.652+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:58.653+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689460368 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:58.653+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1461205811 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:58.657+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@935686105 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:58.658+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 12(Long)
2026-01-06T17:05:58.659+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:58.659+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:58.659+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:58.660+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:58.671+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:58.672+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.672+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:58.673+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-06T17:05:58.676+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78259ae6]
2026-01-06T17:05:58.675+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.676+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da387f7]
2026-01-06T17:05:58.677+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:58.680+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:58.683+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:58.684+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:58.688+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:05:58.695+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:58.701+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:58.702+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:58.719+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:58.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d5779f0]
2026-01-06T17:05:58.722+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68df15a7]
2026-01-06T17:05:58.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c824f4]
2026-01-06T17:05:58.722+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.722+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.722+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:58.723+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6719d3eb] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.723+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@285eae77] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.723+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:58.724+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1684042112 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:58.724+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@951907574 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:58.725+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:58.729+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:58.732+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:58.737+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.741+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.753+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:58.755+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:58.756+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@285eae77]
2026-01-06T17:05:58.756+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6719d3eb]
2026-01-06T17:05:58.757+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.757+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11680e7e] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@623b062a] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1285044018 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:58.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1371084928 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:58.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:58.760+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:58.760+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.769+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:05:58.770+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:58.771+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.782+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:05:58.786+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:05:58.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11680e7e]
2026-01-06T17:05:58.793+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:58.794+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@684083f0] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.794+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/28
2026-01-06T17:05:58.795+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@956988280 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:58.795+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:05:58.798+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:05:58.799+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:58.800+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:05:58.800+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:05:58.800+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:58.801+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:58.803+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:05:58.803+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:05:58.803+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@623b062a]
2026-01-06T17:05:58.804+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.804+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:05:58.804+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.805+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:58.805+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261e519] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.805+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.805+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d45fc03] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.805+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@684083f0]
2026-01-06T17:05:58.806+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1709669620 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:58.809+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:58.806+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c121fbf] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.807+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1735764951 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:58.809+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:05:58.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:05:58.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264225370 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:05:58.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:58.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.811+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:05:58.811+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.811+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:58.819+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:05:58.819+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:05:58.835+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261e519]
2026-01-06T17:05:58.836+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.837+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f3059d9] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.841+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@846473739 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:58.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:05:58.861+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.862+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:05:58.862+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:05:58.870+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c121fbf]
2026-01-06T17:05:58.870+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d45fc03]
2026-01-06T17:05:58.870+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:58.870+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.871+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:05:58.872+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@631636ba] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.873+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:58.896+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@297888575 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:05:58.932+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:58.935+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:05:58.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:58.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f3059d9]
2026-01-06T17:05:58.943+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:58.950+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18fd36aa] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:58.951+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@624839421 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:58.952+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:05:58.953+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.959+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:58.961+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@631636ba]
2026-01-06T17:05:58.962+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:05:58.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18fd36aa]
2026-01-06T17:05:58.985+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:58.994+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:59.001+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d9b3f07] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:59.002+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2090991736 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:59.003+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:05:59.004+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:05:58.997+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:05:59.006+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:05:59.046+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:05:59.056+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d9b3f07]
2026-01-06T17:05:59.057+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:05:59.058+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@552a99f3] was not registered for synchronization because synchronization is not active
2026-01-06T17:05:59.059+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@18741078 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:05:59.059+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:05:59.060+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:05:59.067+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:05:59.068+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@552a99f3]
2026-01-06T17:05:59.069+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:05:59.071+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:05:59.072+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:10.747+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:10.748+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:10.750+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:10.750+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:10.754+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:10.762+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:10.762+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:10.768+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:10.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:10.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:10.778+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:10.789+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:10.778+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:10.785+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:10.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:10.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:10.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:10.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:10.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:10.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:10.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:10.802+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.803+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@440241b2] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:10.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:10.808+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:10.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.808+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:10.809+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.809+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f128b3] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd484cc] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.812+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20c4e4ce] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.815+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:10.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:10.824+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:10.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1663549538 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:10.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1033592398 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:10.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@154585031 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:10.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1116367380 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:10.836+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:10.839+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:10.826+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:10.827+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:10.827+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:10.827+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:10.840+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:10.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:10.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:10.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:10.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2024fe98] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.862+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:10.866+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:10.866+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:10.866+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:10.869+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f128b3]
2026-01-06T17:06:10.869+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1334442567 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:10.874+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@440241b2]
2026-01-06T17:06:10.875+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20c4e4ce]
2026-01-06T17:06:10.875+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd484cc]
2026-01-06T17:06:10.884+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.884+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:10.885+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:10.888+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.888+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:10.888+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@478d32e3] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.890+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:10.890+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:10.891+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66bee1e2] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.892+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:10.892+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1632443514 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:10.893+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:10.895+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@365880883 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:10.899+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:10.903+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:10.910+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:10.911+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:10.919+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:10.920+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:10.920+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2024fe98]
2026-01-06T17:06:10.925+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:10.928+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:10.928+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:10.928+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:10.929+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:10.929+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66bee1e2]
2026-01-06T17:06:10.935+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@478d32e3]
2026-01-06T17:06:10.938+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.938+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.938+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7ab9a2] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50bda3a5] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1583013982 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:10.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2114558331 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:10.940+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:10.941+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:10.943+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:10.954+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:10.958+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:10.958+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:10.959+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50bda3a5]
2026-01-06T17:06:10.960+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7ab9a2]
2026-01-06T17:06:10.961+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.962+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.962+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee6042d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.965+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4befc159] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.967+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1140535519 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:10.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1363334703 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:10.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:10.969+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:10.969+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:10.969+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:10.974+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:10.974+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:10.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4befc159]
2026-01-06T17:06:10.977+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee6042d]
2026-01-06T17:06:10.978+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.985+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:10.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f053429] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71852f23] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:10.987+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1792398233 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:10.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1066179154 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:10.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:10.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:10.995+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:11.012+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:11.037+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:11.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:11.041+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f053429]
2026-01-06T17:06:11.042+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71852f23]
2026-01-06T17:06:11.045+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:11.051+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:11.051+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69146b7b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:11.051+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@99000e8] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:11.052+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@533118476 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:11.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1370802894 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:11.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:11.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:11.055+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:11.057+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:11.060+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:11.062+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:11.072+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@99000e8]
2026-01-06T17:06:11.074+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69146b7b]
2026-01-06T17:06:11.074+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:11.074+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:11.075+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@766333ca] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:11.075+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a111cce] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:11.077+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2138958510 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:11.078+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@815071044 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:11.078+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:11.079+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:11.084+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:11.086+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:11.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:11.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:11.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@766333ca]
2026-01-06T17:06:11.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a111cce]
2026-01-06T17:06:11.092+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:11.092+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:11.092+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:11.093+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:11.094+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:11.108+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:13.126+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-06T17:06:13.133+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-06T17:06:13.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/logout
2026-01-06T17:06:13.158+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-06T17:06:13.192+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-06T17:06:13.216+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-06T17:06:13.255+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMiIsInVzZXJuYW1lIjo (truncated)...]
2026-01-06T17:06:13.267+09:00  INFO 23600 --- [http-nio-8080-exec-3] SECURITY                                 : LOGOUT userId=12
2026-01-06T17:06:13.270+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:13.270+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-06T17:06:13.271+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:18.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-06T17:06:18.339+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-06T17:06:18.340+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-06T17:06:18.341+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-06T17:06:18.342+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-06T17:06:18.343+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-06T17:06:18.347+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2026-01-06T17:06:18.349+09:00  INFO 23600 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2026-01-06T17:06:18.351+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:18.353+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f41251] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:18.359+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1365281662 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:18.360+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-06T17:06:18.361+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2026-01-06T17:06:18.368+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-06T17:06:18.372+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f41251]
2026-01-06T17:06:18.463+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:18.464+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e51a4e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:18.464+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@50009520 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:18.464+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-06T17:06:18.465+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2026-01-06T17:06:18.468+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-06T17:06:18.468+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e51a4e]
2026-01-06T17:06:18.492+09:00  INFO 23600 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: USER, companyId: 2
2026-01-06T17:06:18.492+09:00  INFO 23600 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=USER
2026-01-06T17:06:18.493+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:18.499+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2026-01-06T17:06:18.504+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:19.123+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:06:19.228+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:06:19.309+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.309+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.310+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:19.310+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:19.325+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.329+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/companies
2026-01-06T17:06:19.373+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.415+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:19.417+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.595+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:19.606+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.607+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:19.608+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:19.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@663b3cb7] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.419+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.419+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:19.501+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:06:19.590+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:19.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:19.617+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:19.661+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:06:19.666+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.667+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:19.667+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:19.667+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.668+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:06:19.668+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@799622646 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:19.668+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:19.668+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:06:19.669+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:19.677+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:19.682+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.685+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:19.686+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:19.686+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:19.693+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:06:19.704+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.695+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:19.699+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f585a38] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.701+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:19.701+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.717+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8ed997] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.704+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:19.707+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20d8f6fc] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.707+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a05e4f] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.720+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.724+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1102079651 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:19.724+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e90d13e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.725+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:06:19.726+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@651479130 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:19.726+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1504079193 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:19.727+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2026676538 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:19.728+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:19.732+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2026-01-06T17:06:19.732+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:19.734+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.736+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:19.735+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:19.735+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@663b3cb7]
2026-01-06T17:06:19.737+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:19.738+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:19.741+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:19.741+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319072809 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:19.751+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:19.752+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.753+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:19.754+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:19.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:19.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:19.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:19.766+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:19.766+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-06T17:06:19.766+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20d8f6fc]
2026-01-06T17:06:19.767+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8ed997]
2026-01-06T17:06:19.767+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a05e4f]
2026-01-06T17:06:19.768+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e90d13e]
2026-01-06T17:06:19.768+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f585a38]
2026-01-06T17:06:19.769+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.770+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:19.770+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:19.770+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.771+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fd0236b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.771+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:19.772+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:19.772+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:19.772+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654ec2bc] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@502390584 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:19.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:06:19.776+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:19.776+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:19.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1923514949 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:19.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.782+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:19.783+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.788+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:19.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:19.808+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:19.809+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:19.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654ec2bc]
2026-01-06T17:06:19.811+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fd0236b]
2026-01-06T17:06:19.811+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.812+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.817+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15189e9e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.818+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d197e9b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.819+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@114357667 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:19.819+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1399636776 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:19.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:19.821+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:19.823+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:19.828+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:19.834+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.835+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:19.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:19.851+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:19.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.853+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:19.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15189e9e]
2026-01-06T17:06:19.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d197e9b]
2026-01-06T17:06:19.855+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.856+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:19.856+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:19.856+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd49038] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:19.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:19.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac1df63] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.859+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@979967922 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:19.860+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@747279622 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:19.860+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.859+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:19.859+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:06:19.860+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.861+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:19.861+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:19.867+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:19.868+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:19.869+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.871+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.872+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3c7dfc] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.872+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:19.873+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e7aac0c] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.874+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1824126361 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:19.875+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:19.875+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac1df63]
2026-01-06T17:06:19.875+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1642603370 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:19.875+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:19.876+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd49038]
2026-01-06T17:06:19.877+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.878+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.886+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:19.886+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.886+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@630eceeb] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.886+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:19.887+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cbcba0e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.888+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@466900265 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:19.889+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@589734641 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:19.890+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:19.891+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:19.891+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:19.892+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3c7dfc]
2026-01-06T17:06:19.892+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:19.893+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:19.893+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:19.894+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e7aac0c]
2026-01-06T17:06:19.894+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:19.901+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.902+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:19.902+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9c1769] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.903+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:19.904+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1742587450 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:19.910+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:19.908+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:19.911+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.911+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cbcba0e]
2026-01-06T17:06:19.912+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@630eceeb]
2026-01-06T17:06:19.920+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:19.920+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.920+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.921+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63a4cc89] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.922+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5945db12] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.923+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@611685669 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:19.924+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:19.925+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@222036079 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:19.927+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:19.927+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9c1769]
2026-01-06T17:06:19.927+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:19.929+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:19.935+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.937+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:19.937+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32407cdf] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1857753761 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:19.943+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:19.944+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:19.944+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:19.953+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:19.953+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63a4cc89]
2026-01-06T17:06:19.954+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5945db12]
2026-01-06T17:06:19.955+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.958+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.958+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e889081] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.959+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290d944d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.967+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2064499549 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:19.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1592215349 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:19.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.969+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:19.969+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:19.975+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:19.975+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:19.975+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:19.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290d944d]
2026-01-06T17:06:19.977+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e889081]
2026-01-06T17:06:19.977+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32407cdf]
2026-01-06T17:06:19.977+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.984+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3944867e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.978+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.978+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:19.985+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2091832039 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:19.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53e2753c] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b3abf3] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:19.987+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:19.990+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@689236825 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:19.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1671726078 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:19.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:19.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:19.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:19.994+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:20.002+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:20.014+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:20.022+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3944867e]
2026-01-06T17:06:20.023+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:20.023+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:20.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:20.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b3abf3]
2026-01-06T17:06:20.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53e2753c]
2026-01-06T17:06:20.027+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34af353] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:20.028+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:20.033+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:20.035+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1725838806 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:20.035+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d860f9] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:20.035+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ceca6] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:20.036+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:20.037+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@184268674 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:20.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1117200988 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:20.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:20.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:20.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:20.041+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:20.041+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:20.045+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:20.051+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34af353]
2026-01-06T17:06:20.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:20.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:20.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:20.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:20.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ceca6]
2026-01-06T17:06:20.056+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d860f9]
2026-01-06T17:06:20.056+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:20.057+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:20.059+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:20.057+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:20.066+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:20.067+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d5221f2] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:20.068+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2064337161 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:20.070+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:20.073+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:20.092+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:20.099+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d5221f2]
2026-01-06T17:06:20.101+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:20.102+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a98b870] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:20.103+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@917069664 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:20.103+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:20.105+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:20.108+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:20.109+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a98b870]
2026-01-06T17:06:20.110+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:20.121+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6613fec7] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:20.125+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2044166477 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:20.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:20.128+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:20.134+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:20.138+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6613fec7]
2026-01-06T17:06:20.139+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:20.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa066b9] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:20.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@859589868 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:20.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:20.142+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:20.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:20.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa066b9]
2026-01-06T17:06:20.156+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:20.156+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:20.159+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:21.684+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:21.685+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:21.685+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:21.686+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:21.687+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:21.693+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:21.700+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:21.701+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:21.702+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:21.706+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:21.703+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:21.703+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:21.726+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:21.727+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:21.728+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:21.704+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:21.706+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:21.709+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:21.712+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:21.736+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:21.737+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:21.739+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:21.740+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:21.740+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:21.743+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211e6348] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:21.744+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:21.745+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:21.749+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:21.751+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:21.752+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:21.756+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:21.752+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35adaafe] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:21.753+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:21.753+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:21.754+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139490872 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:21.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:21.866+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:21.890+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1065435848 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:21.950+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:21.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:21.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b90c1e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:21.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f0e4060] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.028+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:22.191+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b216078] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.267+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:22.321+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:22.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@660080012 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:22.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@871856701 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:22.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615594568 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:22.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:22.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:22.344+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:22.344+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:22.361+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:22.365+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35adaafe]
2026-01-06T17:06:22.366+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211e6348]
2026-01-06T17:06:22.367+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:22.367+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:22.369+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:22.369+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:22.369+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:22.371+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:22.378+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:22.406+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:22.406+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:22.407+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:22.409+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:22.410+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:22.411+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b216078]
2026-01-06T17:06:22.411+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b90c1e]
2026-01-06T17:06:22.423+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f0e4060]
2026-01-06T17:06:22.439+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.439+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:22.439+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.441+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:22.440+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9f6b1c] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.441+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f188125] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.443+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:22.451+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@149612297 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:22.454+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1523285148 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:22.455+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:22.459+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:22.461+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:22.473+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:22.485+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:22.485+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:22.487+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f188125]
2026-01-06T17:06:22.487+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9f6b1c]
2026-01-06T17:06:22.487+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.488+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.488+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@926996b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.488+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d7227c] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.489+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1925980355 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:22.489+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1506897393 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:22.490+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:22.490+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:22.491+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:22.492+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:22.495+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:22.495+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:22.498+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d7227c]
2026-01-06T17:06:22.503+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.500+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@926996b]
2026-01-06T17:06:22.505+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242fc097] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.506+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@88789676 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:22.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d75fccc] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.508+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:22.509+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@816173512 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:22.509+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:22.510+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:22.521+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:22.533+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:22.540+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242fc097]
2026-01-06T17:06:22.543+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.543+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:22.555+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31c7e7eb] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.555+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d75fccc]
2026-01-06T17:06:22.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1798746684 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:22.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.558+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:22.558+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4495629f] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.559+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:22.560+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1722053981 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:22.560+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:22.561+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:22.584+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:22.584+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:22.587+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4495629f]
2026-01-06T17:06:22.588+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31c7e7eb]
2026-01-06T17:06:22.588+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.588+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.589+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a0604f8] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.589+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b373a43] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.590+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1441274045 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:22.591+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1438738033 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:22.591+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:22.593+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:22.601+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:22.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:22.607+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:22.607+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:22.608+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a0604f8]
2026-01-06T17:06:22.608+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b373a43]
2026-01-06T17:06:22.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66da4f47] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@595505c8] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.610+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1827780256 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:22.610+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@376425204 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:22.611+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:22.611+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:22.611+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:22.612+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:22.621+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:22.621+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:22.621+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66da4f47]
2026-01-06T17:06:22.622+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@595505c8]
2026-01-06T17:06:22.622+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.622+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.622+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7568450b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a6aba6e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.624+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1107070102 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:22.625+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1004572078 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:22.625+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:22.625+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:22.626+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:22.626+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:22.634+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:22.634+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:22.635+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a6aba6e]
2026-01-06T17:06:22.636+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7568450b]
2026-01-06T17:06:22.636+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.637+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:22.637+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c135128] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.637+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b097b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:22.638+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1135945998 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:22.638+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1809607505 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:22.642+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:22.643+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:22.644+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:22.652+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:22.666+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:22.666+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:22.670+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c135128]
2026-01-06T17:06:22.670+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b097b]
2026-01-06T17:06:22.670+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:22.671+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:22.671+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:22.672+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:22.673+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:22.673+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:25.645+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:25.645+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:06:25.649+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:06:25.656+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:25.656+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:06:25.657+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:06:25.658+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:25.660+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/29
2026-01-06T17:06:25.660+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/29
2026-01-06T17:06:25.661+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:25.667+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:06:25.667+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:06:25.668+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:25.668+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:06:25.668+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:06:25.668+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:25.669+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:06:25.669+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:06:25.670+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.672+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5472c9c1] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.671+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.671+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.675+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5810224d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.676+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@215101e3] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.679+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@535637012 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:25.685+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:25.686+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1589588 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:25.686+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1253873873 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:25.688+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:06:25.688+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:25.688+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:06:25.688+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:25.689+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:25.702+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:25.703+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:06:25.703+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:06:25.708+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5472c9c1]
2026-01-06T17:06:25.709+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@215101e3]
2026-01-06T17:06:25.709+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5810224d]
2026-01-06T17:06:25.716+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:25.717+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.718+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.719+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:25.719+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38249dc1] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.720+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7561dd5] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:25.724+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@650055436 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:25.724+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@139511445 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:25.725+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:06:25.726+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:06:25.727+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:25.733+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:25.753+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:06:25.756+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7561dd5]
2026-01-06T17:06:25.757+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:06:25.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38249dc1]
2026-01-06T17:06:25.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@124d92db] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@633511410 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:25.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b7327a2] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.760+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:06:25.760+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2007332248 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:25.766+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:25.768+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:06:25.771+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:25.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:06:25.776+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@124d92db]
2026-01-06T17:06:25.776+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:06:25.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b7327a2]
2026-01-06T17:06:25.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2845b5d7] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.778+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.779+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1457533262 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:25.784+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328be2de] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.785+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:06:25.787+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1077386522 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:25.789+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:25.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:06:25.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:25.801+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:06:25.802+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2845b5d7]
2026-01-06T17:06:25.803+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.805+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a6b938] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.806+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@231235318 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:25.807+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:25.808+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:06:25.808+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:25.808+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328be2de]
2026-01-06T17:06:25.809+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:25.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5309a519] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:25.811+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056518324 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:25.812+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:25.812+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:25.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a6b938]
2026-01-06T17:06:25.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:25.821+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:25.821+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:06:25.823+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:25.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:25.827+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5309a519]
2026-01-06T17:06:25.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:25.855+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:06:25.857+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:34.002+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:34.006+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:34.006+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:34.007+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:34.007+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:34.015+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:34.015+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:34.016+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:34.022+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:34.019+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:34.020+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:34.023+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:34.022+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:34.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:34.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:34.022+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:34.024+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:34.024+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:34.027+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:34.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:34.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:34.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:34.027+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:34.031+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:34.032+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:34.032+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:34.032+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.032+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:34.033+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:34.033+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.033+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.034+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361a255c] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.034+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:34.034+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12a0a926] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.034+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.035+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2870cb02] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.036+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:34.041+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd5ab00] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.042+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1229682405 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:34.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:34.045+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.049+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1872354454 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:34.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:34.055+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7cb7f7] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.055+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@975912919 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:34.056+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:34.057+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:34.059+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:34.060+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@796355571 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:34.069+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:34.069+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@650642544 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:34.071+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:34.073+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:34.074+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:34.075+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:34.076+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361a255c]
2026-01-06T17:06:34.077+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:34.078+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:34.084+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:34.082+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12a0a926]
2026-01-06T17:06:34.083+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.085+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2870cb02]
2026-01-06T17:06:34.085+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:34.085+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@322d1a71] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.087+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:34.088+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:34.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1090535829 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:34.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:34.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:34.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:34.091+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:34.091+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:34.093+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:34.105+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7cb7f7]
2026-01-06T17:06:34.093+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:34.108+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:34.109+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd5ab00]
2026-01-06T17:06:34.109+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:34.109+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.110+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eac6048] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.110+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:34.110+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1942039304 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:34.111+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:34.112+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:34.117+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:34.118+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@322d1a71]
2026-01-06T17:06:34.119+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.119+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51bcece9] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.120+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@194550333 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:34.120+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:34.122+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:34.125+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:34.126+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eac6048]
2026-01-06T17:06:34.126+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3391cf33] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129807145 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:34.130+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:34.133+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:34.136+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:34.136+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51bcece9]
2026-01-06T17:06:34.137+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.137+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c45dabd] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.137+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1521006712 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:34.138+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:34.138+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:34.138+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:34.139+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3391cf33]
2026-01-06T17:06:34.139+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de526f0] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1420423890 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:34.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:34.142+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:34.144+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:34.144+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:34.144+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c45dabd]
2026-01-06T17:06:34.144+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de526f0]
2026-01-06T17:06:34.145+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.147+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66fb521b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.145+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.148+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615115851 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:34.148+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441bc864] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.149+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:34.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@809350321 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:34.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:34.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:34.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:34.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:34.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:34.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66fb521b]
2026-01-06T17:06:34.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441bc864]
2026-01-06T17:06:34.155+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.155+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.155+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ad1895f] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.155+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8cc812d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.156+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1720087444 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:34.156+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@302915768 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:34.156+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:34.156+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:34.158+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:34.159+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:34.162+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:34.164+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8cc812d]
2026-01-06T17:06:34.165+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.162+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:34.166+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b4ea144] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.166+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ad1895f]
2026-01-06T17:06:34.171+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1197967593 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:34.171+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.171+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:34.171+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f189ca] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.172+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:34.172+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@255621338 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:34.172+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:34.173+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:34.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:34.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:34.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f189ca]
2026-01-06T17:06:34.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b4ea144]
2026-01-06T17:06:34.177+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.177+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.177+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67edc057] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.179+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@839367353 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:34.178+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37e4b18e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.183+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:34.184+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1778279095 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:34.184+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:34.184+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:34.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:34.187+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:34.187+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:34.187+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67edc057]
2026-01-06T17:06:34.188+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37e4b18e]
2026-01-06T17:06:34.188+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.188+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:34.189+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a66553] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.189+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d2fdb2b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:34.189+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@281080136 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:34.189+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1607822273 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:34.190+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:34.190+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:34.191+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:34.191+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:34.193+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:34.193+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:34.193+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d2fdb2b]
2026-01-06T17:06:34.193+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a66553]
2026-01-06T17:06:34.194+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:34.196+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:34.199+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:34.199+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:34.200+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:34.201+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:36.138+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-06T17:06:36.145+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-06T17:06:36.148+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/logout
2026-01-06T17:06:36.149+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-06T17:06:36.149+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-06T17:06:36.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-06T17:06:36.153+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-06T17:06:36.156+09:00  INFO 23600 --- [http-nio-8080-exec-5] SECURITY                                 : LOGOUT userId=2
2026-01-06T17:06:36.156+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:36.157+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-06T17:06:36.159+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:42.362+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-06T17:06:42.367+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-06T17:06:42.368+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-06T17:06:42.368+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-06T17:06:42.369+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-06T17:06:42.369+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-06T17:06:42.370+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_tax, password=1234)]
2026-01-06T17:06:42.375+09:00  INFO 23600 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: test_tax
2026-01-06T17:06:42.379+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:42.380+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea70416] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:42.385+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2006227313 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:42.414+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-06T17:06:42.415+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_tax(String)
2026-01-06T17:06:42.428+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-06T17:06:42.443+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea70416]
2026-01-06T17:06:42.548+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:42.551+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59758a31] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:42.551+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1054792781 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:42.552+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-06T17:06:42.554+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-06T17:06:42.593+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-06T17:06:42.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59758a31]
2026-01-06T17:06:42.608+09:00  INFO 23600 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2
2026-01-06T17:06:42.611+09:00  INFO 23600 --- [http-nio-8080-exec-1] SECURITY                                 : LOGIN_SUCCESS userId=12 username=test_tax role=TAX_ACCOUNTANT
2026-01-06T17:06:42.615+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:42.622+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=12, username=test_tax, password= (truncated)...]
2026-01-06T17:06:42.626+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:43.221+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:06:43.246+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:06:43.254+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/companies
2026-01-06T17:06:43.257+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:06:43.291+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:06:43.315+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:06:43.318+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.321+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aea21f3] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.340+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1957325974 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:43.354+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:06:43.350+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.351+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-06T17:06:43.353+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.354+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-06T17:06:43.354+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.355+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 12(Long)
2026-01-06T17:06:43.372+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.374+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.376+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:43.376+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:43.376+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-06T17:06:43.381+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aea21f3]
2026-01-06T17:06:43.377+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-06T17:06:43.377+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.377+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.377+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.386+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:43.387+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:43.380+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-06T17:06:43.382+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:43.383+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:43.384+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:43.386+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:43.389+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.392+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:43.392+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:06:43.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:43.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-06T17:06:43.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f6a38c5] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.399+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-06T17:06:43.400+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:43.401+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.408+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b296f0] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.401+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-06T17:06:43.401+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:43.402+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-06T17:06:43.410+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:43.410+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:43.412+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1459823581 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:43.419+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:43.416+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:43.417+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.418+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.423+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@540045926 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:43.423+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:43.424+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174f357b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.425+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.431+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5135d95a] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.435+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1778828417 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:43.425+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37623c01] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.425+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:43.439+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.440+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.442+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:43.475+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1542573160 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:43.477+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:43.480+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@711628059 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:43.518+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-06T17:06:43.564+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.576+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:43.599+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f6a38c5]
2026-01-06T17:06:43.600+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.606+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:43.607+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:43.607+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.607+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:43.608+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:43.610+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:43.613+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:43.622+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-06T17:06:43.625+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b296f0]
2026-01-06T17:06:43.626+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:43.626+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.626+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.626+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:43.627+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:43.627+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:43.627+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174f357b]
2026-01-06T17:06:43.627+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5135d95a]
2026-01-06T17:06:43.627+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:43.628+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:43.639+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:43.639+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37623c01]
2026-01-06T17:06:43.640+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.641+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.641+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:43.642+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-06T17:06:43.643+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.649+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:43.651+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de4cb7e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.651+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fce1f4f] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.653+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-06T17:06:43.670+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:43.654+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bc216c4] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.657+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:43.657+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@803587690 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:43.660+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@281998565 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:43.692+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.673+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.685+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1216834580 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:43.690+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:43.691+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.693+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.693+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ea98345] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.694+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:43.700+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.706+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1678768958 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:43.708+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:43.710+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.715+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.716+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.717+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.718+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fce1f4f]
2026-01-06T17:06:43.719+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de4cb7e]
2026-01-06T17:06:43.719+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.720+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:43.720+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41d1eea5] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bc216c4]
2026-01-06T17:06:43.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74569c0e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ea98345]
2026-01-06T17:06:43.722+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1585096119 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:43.722+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:43.722+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869747905 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:43.723+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.723+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:43.723+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:43.723+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:43.724+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a6083c] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.725+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:43.727+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:43.736+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:43.738+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@68620294 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:43.741+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.749+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.751+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:43.751+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:43.754+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41d1eea5]
2026-01-06T17:06:43.756+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74569c0e]
2026-01-06T17:06:43.757+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.757+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.757+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.757+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75cd794e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.757+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a6083c]
2026-01-06T17:06:43.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7581258b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@992417172 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:43.759+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.760+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905404889 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:43.760+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.761+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c094230] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.765+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.765+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.766+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1255686757 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:43.766+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.767+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:43.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:43.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.777+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75cd794e]
2026-01-06T17:06:43.783+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7581258b]
2026-01-06T17:06:43.784+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.784+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.785+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ccf317] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.786+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e731cf1] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@936769641 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:43.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1914883529 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:43.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:43.846+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:43.849+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:43.850+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:43.904+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:43.906+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c094230]
2026-01-06T17:06:43.909+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.918+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f8d1032] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.919+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161729841 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:43.920+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:43.920+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:43.921+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.922+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e731cf1]
2026-01-06T17:06:43.922+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ccf317]
2026-01-06T17:06:43.923+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.925+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.926+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.927+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53db50b2] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.965+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e0e77eb] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.966+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1171872428 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:43.967+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.967+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@269771638 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:43.967+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f8d1032]
2026-01-06T17:06:43.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.969+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@689a5212] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.972+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1069663155 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:43.973+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:43.974+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.974+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:43.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:43.977+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53db50b2]
2026-01-06T17:06:43.978+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e0e77eb]
2026-01-06T17:06:43.981+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.982+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.983+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ebaee3] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.985+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5218de5c] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.985+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2017210028 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:43.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139376347 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:43.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:43.989+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.990+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:43.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@689a5212]
2026-01-06T17:06:43.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:43.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:43.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a16fb0b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:43.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@270939801 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:44.000+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:44.001+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:44.001+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:44.002+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:44.002+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ebaee3]
2026-01-06T17:06:44.003+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5218de5c]
2026-01-06T17:06:44.004+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:44.004+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:44.006+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:44.006+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:44.008+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:44.008+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:44.010+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:44.021+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a16fb0b]
2026-01-06T17:06:44.022+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:44.023+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc4c1c0] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:44.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1989652752 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:44.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:44.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:44.033+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:44.035+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc4c1c0]
2026-01-06T17:06:44.037+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:44.037+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:44.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:46.064+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:46.067+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:46.067+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:46.068+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:46.069+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:46.073+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:46.073+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:46.084+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:46.085+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:46.086+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:46.076+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:46.077+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:46.081+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:46.086+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:46.093+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:46.087+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:46.087+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:46.091+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:46.093+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:46.093+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:46.094+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:46.100+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:46.100+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:46.101+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:46.101+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:46.101+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.102+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:46.102+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:46.102+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:46.102+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:46.104+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.103+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b31d58e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.103+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.103+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:46.104+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.107+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b08122f] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.108+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e7c356d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.113+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.115+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c1880b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.117+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab961d2] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.118+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1127920071 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:46.126+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:46.126+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273095103 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:46.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@769339055 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:46.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1529876143 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:46.135+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:46.135+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868126691 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:46.136+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:46.136+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:46.137+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:46.137+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:46.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:46.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:46.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:46.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:46.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:46.142+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b31d58e]
2026-01-06T17:06:46.149+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:46.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:46.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:46.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:46.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:46.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:46.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c1880b]
2026-01-06T17:06:46.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e7c356d]
2026-01-06T17:06:46.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b08122f]
2026-01-06T17:06:46.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab961d2]
2026-01-06T17:06:46.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:46.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:46.153+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:46.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.155+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:46.157+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:46.157+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3761918d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.157+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71f677e3] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.158+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:46.159+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:46.165+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@689081946 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:46.168+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:46.169+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:46.166+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1304798941 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:46.172+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:46.173+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:46.174+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:46.174+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:46.174+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3761918d]
2026-01-06T17:06:46.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71f677e3]
2026-01-06T17:06:46.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a56885b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@929a66e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@562077541 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:46.177+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1268945351 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:46.177+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:46.177+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:46.180+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:46.182+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:46.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:46.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:46.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@929a66e]
2026-01-06T17:06:46.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a56885b]
2026-01-06T17:06:46.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705ad0c1] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2179920] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.186+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@881066610 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:46.186+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@749587817 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:46.186+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:46.187+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:46.187+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:46.187+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:46.191+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:46.192+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705ad0c1]
2026-01-06T17:06:46.193+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.193+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@494db1f7] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.197+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1874308295 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:46.198+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:46.200+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:46.201+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:46.201+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2179920]
2026-01-06T17:06:46.201+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.201+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f55f6c] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.202+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1175787467 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:46.202+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:46.204+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:46.206+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:46.206+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@494db1f7]
2026-01-06T17:06:46.206+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.207+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c18b1da] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.207+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@142507943 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:46.207+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:46.207+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:46.207+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f55f6c]
2026-01-06T17:06:46.208+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:46.208+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.208+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15d2fa2d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.208+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1192155588 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:46.208+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:46.209+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:46.210+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:46.210+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c18b1da]
2026-01-06T17:06:46.211+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.211+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4319e49] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.211+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:46.212+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1833859444 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:46.212+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15d2fa2d]
2026-01-06T17:06:46.214+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:46.214+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:46.214+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:46.214+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b32219] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:46.216+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@632469328 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:46.216+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:46.217+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:46.220+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:46.220+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4319e49]
2026-01-06T17:06:46.221+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:46.222+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:46.224+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:46.225+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:46.225+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b32219]
2026-01-06T17:06:46.225+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:46.226+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:46.231+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:47.760+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:47.760+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:06:47.761+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:06:47.766+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:47.767+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:06:47.769+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:06:47.769+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:47.770+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:06:47.770+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:06:47.771+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:47.771+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:06:47.772+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:06:47.772+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:47.772+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:06:47.772+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:06:47.773+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:47.773+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:06:47.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:06:47.774+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ac12ce] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4435319c] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.775+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cb79973] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.782+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1494752066 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:47.782+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@425907259 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:47.782+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:47.783+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@680627438 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:47.784+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:47.783+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:06:47.784+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:06:47.785+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:47.785+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:47.787+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:47.787+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:06:47.787+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:06:47.788+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ac12ce]
2026-01-06T17:06:47.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cb79973]
2026-01-06T17:06:47.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4435319c]
2026-01-06T17:06:47.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:47.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:47.792+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f742659] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.793+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78dd483d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.794+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689845781 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:47.794+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:47.800+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1401326943 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:47.800+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:06:47.803+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:06:47.806+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:47.806+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:47.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:06:47.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:06:47.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78dd483d]
2026-01-06T17:06:47.810+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f742659]
2026-01-06T17:06:47.811+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.811+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.815+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@89e6fa] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.815+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d78ee49] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.816+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@310893174 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:47.816+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598758225 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:47.816+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:06:47.817+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:06:47.818+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:47.819+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:47.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:06:47.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:06:47.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@89e6fa]
2026-01-06T17:06:47.825+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d78ee49]
2026-01-06T17:06:47.826+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.826+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.826+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@225048] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.827+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a9ba57] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.828+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1311747494 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:47.833+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1482105685 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:47.834+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:06:47.834+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:06:47.835+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:47.836+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:06:47.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:06:47.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:06:47.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@225048]
2026-01-06T17:06:47.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a9ba57]
2026-01-06T17:06:47.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:47.843+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f6ea546] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ca2c677] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:47.845+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@492569843 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:47.851+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2005052086 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:47.852+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:47.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:47.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:47.854+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:47.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:47.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ca2c677]
2026-01-06T17:06:47.858+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:47.859+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f6ea546]
2026-01-06T17:06:47.859+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:47.860+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:47.860+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:06:47.860+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:06:47.867+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:47.873+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:49.071+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:49.072+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:49.073+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:49.073+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:49.074+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:49.077+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:49.079+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:49.085+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:49.080+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:49.082+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:49.084+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:49.087+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:49.091+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:49.092+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:49.088+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:49.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:49.093+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:49.090+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:49.092+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:49.106+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:49.092+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:49.109+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:49.110+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:49.113+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.115+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3de446] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.092+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:49.094+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:49.105+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:49.109+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.116+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:49.119+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@990236077 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:49.117+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:49.117+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:49.117+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1078d6fd] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.119+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.120+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:49.122+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.122+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:49.126+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.124+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b456c1d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.124+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1363113815 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:49.125+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:49.125+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8435479] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52089232] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.131+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:49.135+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:49.136+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@869718212 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:49.136+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:49.137+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:49.137+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1945924739 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:49.137+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@36455246 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:49.138+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3de446]
2026-01-06T17:06:49.139+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:49.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:49.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:49.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:49.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1078d6fd]
2026-01-06T17:06:49.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:49.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:49.142+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:49.142+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.142+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:49.143+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:49.143+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d16a0e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.143+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b456c1d]
2026-01-06T17:06:49.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:49.145+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:49.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1838986368 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:49.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:49.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52089232]
2026-01-06T17:06:49.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:49.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:49.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8435479]
2026-01-06T17:06:49.153+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:49.153+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:49.153+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:49.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:49.154+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:49.157+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:49.155+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c0b988] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.159+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:49.159+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1368781904 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:49.159+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d16a0e]
2026-01-06T17:06:49.160+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:49.160+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.160+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:49.160+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d61b7ed] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.166+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581458261 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:49.167+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:49.168+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:49.171+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c0b988]
2026-01-06T17:06:49.171+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:49.171+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.171+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c527a27] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.172+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1081246428 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:49.173+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:49.174+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:49.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d61b7ed]
2026-01-06T17:06:49.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:49.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e05bb77] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2125183877 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:49.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:49.177+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:49.178+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:49.182+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c527a27]
2026-01-06T17:06:49.183+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:49.183+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.183+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e05bb77]
2026-01-06T17:06:49.183+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111d750e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.183+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.184+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851897416 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:49.184+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72a85bfd] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.184+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:49.184+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1364564188 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:49.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:49.185+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:49.190+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:49.191+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:49.192+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111d750e]
2026-01-06T17:06:49.192+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.192+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a45a7ef] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.193+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@537529516 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:49.193+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:49.194+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:49.201+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:49.201+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72a85bfd]
2026-01-06T17:06:49.201+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.202+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60126f38] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.202+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1356183412 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:49.202+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:49.204+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:49.204+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:49.208+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a45a7ef]
2026-01-06T17:06:49.209+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.209+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:49.209+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7435f033] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.210+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60126f38]
2026-01-06T17:06:49.211+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@62413701 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:49.211+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.211+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:49.214+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f403eb] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.216+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:49.216+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@669834722 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:49.217+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:49.217+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:49.218+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:49.218+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7435f033]
2026-01-06T17:06:49.219+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:49.219+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:49.220+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61e7b1e0] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:49.220+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f403eb]
2026-01-06T17:06:49.220+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@982020487 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:49.221+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:49.221+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:49.221+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:49.221+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:49.222+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:49.226+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:49.227+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61e7b1e0]
2026-01-06T17:06:49.227+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:49.230+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:49.232+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:50.542+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:50.543+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:06:50.543+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:06:50.549+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:50.549+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:06:50.551+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:50.550+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:06:50.552+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/28
2026-01-06T17:06:50.553+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:50.554+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:06:50.554+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:50.555+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:06:50.555+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/28
2026-01-06T17:06:50.555+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:50.556+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:06:50.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:06:50.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.558+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a55f09] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.558+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:06:50.558+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645553cf] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.559+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:06:50.566+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.566+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1176033324 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:50.567+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2867b089] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.568+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794126488 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:50.568+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:06:50.569+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:50.570+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:06:50.572+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:50.578+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:06:50.578+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1658247112 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:50.585+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a55f09]
2026-01-06T17:06:50.585+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:06:50.586+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.586+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:06:50.587+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25902f23] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.587+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:50.588+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@708327627 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:50.589+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:06:50.588+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645553cf]
2026-01-06T17:06:50.590+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:06:50.592+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:06:50.592+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:50.592+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2867b089]
2026-01-06T17:06:50.593+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:50.593+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.594+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570844c6] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.594+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:50.594+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:06:50.601+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016241854 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:50.602+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25902f23]
2026-01-06T17:06:50.603+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:06:50.603+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:06:50.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ae02ea9] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.605+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320021473 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:50.607+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:06:50.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:06:50.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:06:50.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570844c6]
2026-01-06T17:06:50.610+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.610+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ce0cb99] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.611+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@165384887 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:50.612+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:06:50.614+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:06:50.615+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ae02ea9]
2026-01-06T17:06:50.615+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:06:50.615+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.616+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59973ac] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.617+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1860665552 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:50.618+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:06:50.618+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:06:50.619+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:06:50.619+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ce0cb99]
2026-01-06T17:06:50.620+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.620+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:06:50.620+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a568ea2] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.620+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59973ac]
2026-01-06T17:06:50.620+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@552609394 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:50.620+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.621+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:06:50.621+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290e4df5] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.621+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:06:50.621+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1740918635 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:50.621+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:50.622+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:50.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:06:50.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:50.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a568ea2]
2026-01-06T17:06:50.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290e4df5]
2026-01-06T17:06:50.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:50.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ccf56c5] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:50.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:50.624+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1659041376 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:50.624+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:06:50.624+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:50.625+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:50.626+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:50.628+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:50.640+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ccf56c5]
2026-01-06T17:06:50.641+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:50.641+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:06:50.643+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:51.422+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:51.423+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:51.423+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:51.423+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:51.423+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:51.432+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:51.434+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:51.435+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:51.435+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:51.436+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:51.437+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:51.437+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:51.438+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:51.441+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:51.442+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:06:51.438+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:51.439+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:51.440+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:51.442+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:51.443+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:51.449+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.443+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:51.444+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:51.446+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:51.449+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:51.449+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd3430c] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.449+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.449+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:51.450+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:06:51.450+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:51.452+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1786734500 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:51.452+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:51.454+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:51.450+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2527e3e3] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.451+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:51.452+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:06:51.452+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.458+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc99a0f] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.458+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.458+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:51.470+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.471+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf385b7] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.459+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6894f6] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.460+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:51.468+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@863480776 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:51.476+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd3430c]
2026-01-06T17:06:51.476+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:51.477+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.479+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1099541780 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:51.484+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:51.485+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed9e82a] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.487+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@898748650 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:51.485+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1560333008 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:51.485+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@263731015 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:51.485+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:51.489+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:51.489+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:51.489+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:51.490+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:51.493+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:51.491+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:51.491+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:06:51.503+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:51.504+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2527e3e3]
2026-01-06T17:06:51.505+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:51.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:51.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:51.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:51.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:51.508+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:51.508+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6894f6]
2026-01-06T17:06:51.508+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf385b7]
2026-01-06T17:06:51.508+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc99a0f]
2026-01-06T17:06:51.509+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed9e82a]
2026-01-06T17:06:51.518+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.518+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55af387d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.510+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:51.519+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@343282266 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:51.510+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:51.516+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:51.517+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.523+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:51.524+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:51.524+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:51.527+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:51.524+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6e081d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.526+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:51.527+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:51.538+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1185868435 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:51.540+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:51.551+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:51.551+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:51.551+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55af387d]
2026-01-06T17:06:51.552+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.552+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:51.552+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d3647f5] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.553+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6e081d]
2026-01-06T17:06:51.553+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@829876478 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:51.553+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.553+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:51.553+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@241f2fd1] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.554+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:51.554+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245101999 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:51.555+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:51.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:51.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:51.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d3647f5]
2026-01-06T17:06:51.558+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.559+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66abc226] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.560+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:51.564+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1233991913 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:51.565+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@241f2fd1]
2026-01-06T17:06:51.566+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:51.566+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.570+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:51.570+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db3bcde] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.573+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814704414 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:51.574+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:51.576+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:51.583+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:51.590+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66abc226]
2026-01-06T17:06:51.590+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.591+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ced7d19] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.591+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1424963664 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:51.605+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:51.606+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:51.607+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:51.609+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db3bcde]
2026-01-06T17:06:51.610+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.616+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d606609] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.620+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@759526455 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:51.620+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:51.620+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:51.621+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ced7d19]
2026-01-06T17:06:51.623+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:51.624+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.625+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6be11512] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.628+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1826859202 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:51.632+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:51.634+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:51.634+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:06:51.635+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d606609]
2026-01-06T17:06:51.643+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.653+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4127d65e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.655+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:51.657+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@522825821 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:51.658+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6be11512]
2026-01-06T17:06:51.658+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:51.659+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:51.659+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:51.660+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:51.666+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:51.675+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:51.691+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4127d65e]
2026-01-06T17:06:51.691+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:51.703+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3556c88d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:51.704+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1245474143 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:51.706+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:51.706+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:06:51.718+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:51.718+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3556c88d]
2026-01-06T17:06:51.719+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:51.720+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:51.721+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:53.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-06T17:06:53.399+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-06T17:06:53.403+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/logout
2026-01-06T17:06:53.406+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-06T17:06:53.407+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-06T17:06:53.408+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-06T17:06:53.410+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMiIsInVzZXJuYW1lIjo (truncated)...]
2026-01-06T17:06:53.416+09:00  INFO 23600 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=12
2026-01-06T17:06:53.418+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:53.418+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-06T17:06:53.423+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:56.281+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-06T17:06:56.284+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-06T17:06:56.285+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-06T17:06:56.285+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-06T17:06:56.285+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-06T17:06:56.285+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-06T17:06:56.286+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2026-01-06T17:06:56.286+09:00  INFO 23600 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2026-01-06T17:06:56.287+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:56.287+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d0530ff] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:56.290+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@408436979 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:56.291+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-06T17:06:56.292+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2026-01-06T17:06:56.296+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-06T17:06:56.297+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d0530ff]
2026-01-06T17:06:56.380+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:56.380+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b05b203] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:56.380+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909995361 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:56.382+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-06T17:06:56.382+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2026-01-06T17:06:56.384+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-06T17:06:56.385+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b05b203]
2026-01-06T17:06:56.386+09:00  INFO 23600 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: USER, companyId: 2
2026-01-06T17:06:56.386+09:00  INFO 23600 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=USER
2026-01-06T17:06:56.387+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:56.387+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2026-01-06T17:06:56.388+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:56.839+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:06:56.925+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:56.926+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:56.927+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:56.931+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:56.932+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:56.944+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:06:56.971+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/companies
2026-01-06T17:06:56.972+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:56.973+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:56.973+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:56.985+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:56.974+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:56.974+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:56.982+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:06:56.989+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:56.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:56.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:56.988+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:56.989+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:56.989+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:06:56.990+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:56.990+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:56.990+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:56.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:56.998+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:56.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:56.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:06:56.994+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:56.994+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:56.998+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:06:57.001+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.002+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:06:57.003+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.003+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:57.004+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:57.006+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.004+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:57.005+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@578d4fa2] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.005+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:57.005+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d1186c5] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.006+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.008+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c65c381] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.009+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.023+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.024+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328250bf] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@696a558f] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.034+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13991a4e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.043+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@124636668 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:57.043+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2013263680 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:06:57.043+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1520952567 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:57.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:57.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:06:57.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:57.058+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:57.059+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2026-01-06T17:06:57.060+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:57.073+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774355241 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:57.073+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@390848438 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:57.075+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.077+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:57.081+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:57.082+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:57.082+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-06T17:06:57.082+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1850712846 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:57.083+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.085+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:57.085+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c65c381]
2026-01-06T17:06:57.085+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@578d4fa2]
2026-01-06T17:06:57.085+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d1186c5]
2026-01-06T17:06:57.086+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.087+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:57.087+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:57.087+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:57.088+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.092+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:57.093+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:57.098+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:06:57.102+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:57.104+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:57.106+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:57.107+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.107+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:57.117+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@696a558f]
2026-01-06T17:06:57.118+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328250bf]
2026-01-06T17:06:57.127+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.140+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:57.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:57.141+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:57.142+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.143+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e4ee36] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.149+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:57.150+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@133848661 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:57.149+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13991a4e]
2026-01-06T17:06:57.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:57.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.151+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a339271] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.156+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@248125877 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:57.153+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:57.153+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:57.158+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.162+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.160+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:57.164+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:57.166+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:06:57.166+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:57.166+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.167+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:06:57.169+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:57.169+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e4ee36]
2026-01-06T17:06:57.170+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.173+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:57.173+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:57.174+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.173+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.173+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a339271]
2026-01-06T17:06:57.174+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@382e6c8d] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237a2bb7] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1df85776] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@642810901 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:57.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1082979504 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:57.176+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54672874] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.181+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127726686 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:57.182+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.182+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:57.183+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841058451 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:57.186+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:57.184+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:57.184+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.186+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:57.187+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:57.192+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.193+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:57.193+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:57.195+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@382e6c8d]
2026-01-06T17:06:57.201+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237a2bb7]
2026-01-06T17:06:57.202+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.203+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.204+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24e00ebd] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.205+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf34d0b] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.209+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1877038248 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:57.211+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1235680849 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:57.216+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:57.216+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:57.217+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.218+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.218+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1df85776]
2026-01-06T17:06:57.218+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54672874]
2026-01-06T17:06:57.219+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.220+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.220+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:57.221+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.225+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:57.226+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57a4af9] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.226+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.226+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.227+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:57.232+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1756620458 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:57.233+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf34d0b]
2026-01-06T17:06:57.233+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24e00ebd]
2026-01-06T17:06:57.234+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.238+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.239+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.240+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.240+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7374f464] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.241+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@414fd969] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.243+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1380869140 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:57.245+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1702801947 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:57.248+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:57.249+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.249+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:57.250+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:57.250+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57a4af9]
2026-01-06T17:06:57.252+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:57.252+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.257+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfb8a91] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.259+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@738273941 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:57.259+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:57.259+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:57.259+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:57.259+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@414fd969]
2026-01-06T17:06:57.259+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7374f464]
2026-01-06T17:06:57.264+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:57.266+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.266+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.267+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55929b03] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.267+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b296f5] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.267+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1789498441 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:57.268+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1395754419 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:57.270+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.270+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:57.271+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.272+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:57.273+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:57.273+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfb8a91]
2026-01-06T17:06:57.274+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.274+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49fbfb3e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.275+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1861443474 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:57.276+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:57.278+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.285+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:57.279+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:57.285+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55929b03]
2026-01-06T17:06:57.285+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b296f5]
2026-01-06T17:06:57.286+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.286+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5070391] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.286+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.288+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1141693105 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:57.291+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:57.290+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c77b0ac] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.293+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:57.293+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868666089 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:57.299+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.299+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:57.302+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.303+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49fbfb3e]
2026-01-06T17:06:57.309+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:57.317+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.317+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5070391]
2026-01-06T17:06:57.317+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d05375] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.318+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.318+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@107247706 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:57.318+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@205f40f9] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.319+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.319+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.320+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@502908136 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:57.320+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.320+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c77b0ac]
2026-01-06T17:06:57.320+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:57.322+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.324+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:57.324+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33f755b7] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.325+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1917084085 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:57.327+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.334+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:57.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d05375]
2026-01-06T17:06:57.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:57.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:57.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@205f40f9]
2026-01-06T17:06:57.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25e1529e] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.339+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@926480044 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:57.340+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55e4eadc] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.340+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:57.341+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@266743825 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:57.341+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:57.342+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.342+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.345+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:57.357+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33f755b7]
2026-01-06T17:06:57.357+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.362+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:57.369+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a2d09f] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.372+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.373+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25e1529e]
2026-01-06T17:06:57.373+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1022456177 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:57.374+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55e4eadc]
2026-01-06T17:06:57.375+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.375+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.375+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.375+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d6d45c5] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.375+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.376+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a17b44] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.376+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@850886996 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:57.376+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.377+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@56741286 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:57.377+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.377+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:57.381+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:57.384+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.384+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a2d09f]
2026-01-06T17:06:57.385+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:57.385+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.386+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:57.387+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:57.387+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d6d45c5]
2026-01-06T17:06:57.387+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a17b44]
2026-01-06T17:06:57.388+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:57.389+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:57.391+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:57.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:57.396+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:57.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a09c026] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:57.423+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074329464 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:57.424+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:57.425+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:57.427+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:57.431+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a09c026]
2026-01-06T17:06:57.433+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:57.434+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:06:57.435+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:59.883+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:59.885+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:59.889+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:59.891+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:06:59.891+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:59.894+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:59.897+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:59.901+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:59.901+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:59.902+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:59.902+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:59.902+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:59.903+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:59.908+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:59.908+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:59.909+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.910+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.910+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2758b7f6] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.911+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:06:59.911+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:59.915+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5738fd28] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.919+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:59.920+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:06:59.921+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:59.921+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:06:59.922+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:59.923+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:06:59.923+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:59.923+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:06:59.924+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.924+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.924+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f497cee] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.924+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773c81d3] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.926+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:59.932+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:06:59.933+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:06:59.934+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:06:59.935+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:06:59.935+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.935+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@385eaeeb] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884396476 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:06:59.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:59.940+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:59.943+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1993265349 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:59.944+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:59.944+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:59.949+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1676941468 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:06:59.949+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1268174061 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:06:59.949+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1658763900 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:59.949+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:59.950+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:06:59.950+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:59.951+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:59.951+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:06:59.951+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:59.952+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:59.953+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:59.954+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2758b7f6]
2026-01-06T17:06:59.954+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f497cee]
2026-01-06T17:06:59.954+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.954+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:59.955+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24191794] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.955+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:59.955+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@913037443 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:59.955+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:59.956+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:59.956+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:59.960+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:59.960+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5738fd28]
2026-01-06T17:06:59.964+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.965+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4975ea10] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.966+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675755203 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:59.966+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:59.966+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:59.966+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773c81d3]
2026-01-06T17:06:59.967+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:59.967+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:06:59.967+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:59.967+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@385eaeeb]
2026-01-06T17:06:59.967+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:59.968+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:06:59.969+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:06:59.969+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:59.970+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:06:59.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:59.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:59.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24191794]
2026-01-06T17:06:59.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4975ea10]
2026-01-06T17:06:59.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be6b9a6] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9dfe730] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.980+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1864153457 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:59.979+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@657433337 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:59.981+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:59.981+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:06:59.982+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:59.983+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:06:59.985+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:59.985+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:06:59.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be6b9a6]
2026-01-06T17:06:59.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9dfe730]
2026-01-06T17:06:59.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6295e627] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a197f2f] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.987+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@482367578 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:59.987+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1552546619 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:59.987+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:59.988+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:06:59.988+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:59.990+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:06:59.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:59.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:06:59.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a197f2f]
2026-01-06T17:06:59.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6295e627]
2026-01-06T17:06:59.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:06:59.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa7bb7a] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f0992eb] was not registered for synchronization because synchronization is not active
2026-01-06T17:06:59.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245776806 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:06:59.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@48296435 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:06:59.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:59.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:06:59.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:59.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:06:59.999+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:06:59.999+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:07:00.000+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f0992eb]
2026-01-06T17:07:00.000+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa7bb7a]
2026-01-06T17:07:00.000+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:00.000+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:00.001+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf0157a] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:00.001+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac29132] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:00.001+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@962465557 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:07:00.002+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1239407691 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:07:00.002+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:07:00.002+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:07:00.003+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:07:00.004+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:07:00.008+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:07:00.008+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:07:00.009+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf0157a]
2026-01-06T17:07:00.009+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac29132]
2026-01-06T17:07:00.009+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:00.009+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:00.009+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3183cf59] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:00.009+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ed6e92] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:00.010+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1513310166 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:07:00.014+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1836589788 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:07:00.014+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:00.014+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:00.016+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:00.016+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:00.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:00.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:00.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ed6e92]
2026-01-06T17:07:00.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3183cf59]
2026-01-06T17:07:00.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:00.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:00.032+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@383aa48b] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:00.032+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58499b2a] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:00.033+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1627112672 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:07:00.033+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1998552701 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:07:00.033+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:07:00.034+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:07:00.034+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:07:00.035+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:07:00.052+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:07:00.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@383aa48b]
2026-01-06T17:07:00.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:00.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:07:00.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b0ccac] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:00.053+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58499b2a]
2026-01-06T17:07:00.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1866677901 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:07:00.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:00.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:00.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421274ba] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:00.055+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:00.055+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1444292377 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:07:00.055+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:00.055+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:00.060+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:00.064+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421274ba]
2026-01-06T17:07:00.060+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:00.064+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b0ccac]
2026-01-06T17:07:00.064+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:00.065+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:00.065+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:07:00.065+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:07:00.068+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:00.070+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:01.504+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:01.504+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:07:01.505+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:07:01.509+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:01.510+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:07:01.515+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:07:01.510+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:07:01.516+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:01.516+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/28
2026-01-06T17:07:01.517+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/28
2026-01-06T17:07:01.519+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:07:01.519+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:07:01.521+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:07:01.521+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:07:01.521+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:07:01.522+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:07:01.522+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.523+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:07:01.523+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:07:01.524+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac113c7] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.526+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.527+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.531+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c018f79] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.531+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29f3f943] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.534+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@723272856 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:01.534+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1314295880 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:07:01.538+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:07:01.538+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:07:01.539+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@503899597 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:01.539+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:01.540+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:07:01.540+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:07:01.541+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:01.542+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:07:01.543+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:07:01.543+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c018f79]
2026-01-06T17:07:01.543+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac113c7]
2026-01-06T17:07:01.547+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.548+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:01.549+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ce63479] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.549+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:07:01.550+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:07:01.550+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@104713251 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:01.551+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:01.552+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29f3f943]
2026-01-06T17:07:01.554+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:07:01.555+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:01.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@530ca232] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.558+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1078506441 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:01.559+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:07:01.560+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:01.560+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:07:01.564+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ce63479]
2026-01-06T17:07:01.567+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.569+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:07:01.569+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@634ad3d3] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.569+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@530ca232]
2026-01-06T17:07:01.570+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@776103487 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:01.570+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.570+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:07:01.570+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fb5760] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.571+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:01.571+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1372615839 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:01.572+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:07:01.572+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:01.574+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:07:01.576+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@634ad3d3]
2026-01-06T17:07:01.577+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.577+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:07:01.577+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a910896] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.578+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fb5760]
2026-01-06T17:07:01.582+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1601210972 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:01.583+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.583+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:07:01.583+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7511fa87] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.584+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:01.585+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1223488274 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:01.585+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:07:01.586+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:01.590+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:07:01.591+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:07:01.591+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a910896]
2026-01-06T17:07:01.591+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7511fa87]
2026-01-06T17:07:01.592+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.592+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:01.592+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68200bd3] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.593+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ebb150] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:01.593+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@408654974 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:01.594+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@111531708 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:01.594+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:01.599+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:01.599+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:01.600+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:01.603+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:01.603+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:01.605+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68200bd3]
2026-01-06T17:07:01.605+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ebb150]
2026-01-06T17:07:01.605+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:01.605+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:01.606+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:07:01.606+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:07:01.608+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:01.608+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:04.315+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:07:04.315+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:04.317+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:04.319+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:07:04.319+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:04.326+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:04.326+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:07:04.330+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:07:04.331+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:07:04.331+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:04.332+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:07:04.333+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:07:04.333+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:04.335+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:07:04.335+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:07:04.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:07:04.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:07:04.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:04.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:07:04.336+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:07:04.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:07:04.338+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:04.339+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.338+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:07:04.338+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:07:04.339+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:07:04.341+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1240eac0] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.341+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:07:04.342+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:07:04.342+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.343+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.350+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:04.350+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.351+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c4f375] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.351+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f0da72] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.358+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:07:04.368+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:07:04.370+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.359+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70b320d6] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.371+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc71534] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.374+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1168688806 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:07:04.376+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:07:04.377+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@432056750 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:07:04.377+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1916180256 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:07:04.380+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1843778164 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:04.384+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:07:04.384+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:07:04.385+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:04.385+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@875965607 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:04.385+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:04.388+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:07:04.389+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:04.390+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:07:04.390+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:04.390+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:07:04.392+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:07:04.392+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:04.392+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:07:04.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1240eac0]
2026-01-06T17:07:04.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70b320d6]
2026-01-06T17:07:04.393+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f0da72]
2026-01-06T17:07:04.401+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:04.401+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:04.402+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.403+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be51c4b] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.403+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:07:04.403+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:07:04.404+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1470417094 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:07:04.405+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:04.406+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:04.406+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:04.407+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:04.407+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:07:04.408+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:04.408+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c4f375]
2026-01-06T17:07:04.409+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc71534]
2026-01-06T17:07:04.409+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.418+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:04.418+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d7d5c1c] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.419+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:07:04.420+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:04.421+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@889930379 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:04.424+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:04.424+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be51c4b]
2026-01-06T17:07:04.425+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:04.426+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.427+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:04.434+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd7c8dd] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.436+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1852014696 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:07:04.437+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:07:04.440+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:07:04.441+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:04.449+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d7d5c1c]
2026-01-06T17:07:04.450+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.450+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:07:04.450+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39af9362] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.450+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd7c8dd]
2026-01-06T17:07:04.451+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1860543991 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:04.451+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.451+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:07:04.451+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6036df13] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.453+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:07:04.454+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@54817512 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:07:04.454+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:04.455+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:04.456+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:04.456+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:07:04.457+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6036df13]
2026-01-06T17:07:04.457+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39af9362]
2026-01-06T17:07:04.457+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.457+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.457+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a0157df] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.458+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aeb284] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.458+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1016710091 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:07:04.459+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1079969232 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:04.459+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:07:04.459+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:04.460+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:07:04.460+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:04.467+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:04.467+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:07:04.467+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aeb284]
2026-01-06T17:07:04.467+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a0157df]
2026-01-06T17:07:04.468+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.469+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f82df8c] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.469+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.470+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6af3b5] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.470+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1606967914 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:04.471+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993392808 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:07:04.471+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:07:04.471+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:07:04.471+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:07:04.473+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:07:04.476+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:07:04.476+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:07:04.477+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f82df8c]
2026-01-06T17:07:04.477+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6af3b5]
2026-01-06T17:07:04.485+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.477+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.485+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb0901] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.486+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52335445] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.487+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@145798518 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:07:04.487+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1811189552 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:04.488+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:04.488+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:07:04.488+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:04.490+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:07:04.493+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:04.493+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:07:04.493+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb0901]
2026-01-06T17:07:04.493+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52335445]
2026-01-06T17:07:04.494+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.494+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.500+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52462067] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.500+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cb7279b] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.501+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@236566575 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:07:04.501+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1416546612 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:04.501+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:07:04.502+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:04.502+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:07:04.502+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:04.504+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:04.504+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:07:04.505+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cb7279b]
2026-01-06T17:07:04.505+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52462067]
2026-01-06T17:07:04.506+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.506+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.506+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ab622e] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3883fce2] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1384450239 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:04.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1529198221 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:07:04.507+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:07:04.508+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:04.508+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:07:04.508+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:04.511+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:04.514+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:07:04.521+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3883fce2]
2026-01-06T17:07:04.521+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ab622e]
2026-01-06T17:07:04.523+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:04.523+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:04.523+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:07:04.524+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9591355] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:04.525+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@625977922 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:04.525+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:04.526+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:04.531+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:04.534+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:04.535+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9591355]
2026-01-06T17:07:04.535+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:04.537+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:07:04.538+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:05.924+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:05.925+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:07:05.925+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:07:05.931+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:05.933+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:07:05.934+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:07:05.935+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:07:05.934+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:07:05.935+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/28
2026-01-06T17:07:05.937+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:07:05.936+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:07:05.937+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/28
2026-01-06T17:07:05.937+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:07:05.937+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:07:05.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:07:05.940+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:07:05.948+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:05.951+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:07:05.952+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:05.952+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5638c3e8] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:05.953+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:07:05.953+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e8122c1] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:05.954+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:05.958+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20334fd1] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:05.960+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1246535365 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:07:05.961+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@606624681 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:07:05.970+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:07:05.975+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:07:05.976+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:05.983+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:07:05.984+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1162065380 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:07:05.985+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:07:05.986+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:07:05.988+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:05.988+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e8122c1]
2026-01-06T17:07:05.989+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:05.990+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d6db6a] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:05.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1808067605 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:07:05.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:07:05.991+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:07:05.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:07:05.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:05.992+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5638c3e8]
2026-01-06T17:07:05.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20334fd1]
2026-01-06T17:07:05.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:05.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:05.993+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f9eee77] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:05.994+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:07:05.998+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1742219221 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:07:05.999+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:07:05.999+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:05.999+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:07:06.000+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:06.001+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d6db6a]
2026-01-06T17:07:06.007+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:06.008+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d18d8d] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:06.009+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@127861750 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:07:06.010+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:07:06.010+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:07:06.010+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f9eee77]
2026-01-06T17:07:06.014+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:06.015+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:06.015+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d70f4] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:06.017+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@960023544 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:07:06.018+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:07:06.019+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:07:06.019+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:06.019+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d18d8d]
2026-01-06T17:07:06.021+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:06.022+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@98dcf39] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:06.022+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1106806368 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:07:06.022+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:07:06.023+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:07:06.023+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d70f4]
2026-01-06T17:07:06.024+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:06.024+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:06.024+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@425be29f] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:06.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685490416 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:07:06.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:07:06.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:06.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:07:06.027+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@98dcf39]
2026-01-06T17:07:06.028+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:06.032+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a1e84dd] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:06.032+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:07:06.033+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@755859104 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ad13ca4] will not be managed by Spring
2026-01-06T17:07:06.034+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@425be29f]
2026-01-06T17:07:06.034+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:06.034+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:06.036+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:06.037+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dcd6af8] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:06.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@278867652 wrapping com.mysql.cj.jdbc.ConnectionImpl@5aa652b9] will not be managed by Spring
2026-01-06T17:07:06.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:06.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:06.039+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:06.039+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a1e84dd]
2026-01-06T17:07:06.039+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:06.040+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:06.040+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:07:06.041+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dcd6af8]
2026-01-06T17:07:06.041+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:06.041+09:00 DEBUG 23600 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:06.042+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:07:06.044+09:00 DEBUG 23600 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:42.747+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:07:42.895+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:07:42.932+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/28
2026-01-06T17:07:42.949+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:07:42.965+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:07:43.016+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:07:43.104+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:43.295+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23345639] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:43.500+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:07:43.586+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@82844594 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:43.630+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:07:43.675+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:07:43.687+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:43.733+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/28
2026-01-06T17:07:43.739+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:07:43.740+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:07:43.741+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:07:43.742+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:43.743+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d62ac34] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:43.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@883260178 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:43.842+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:07:43.954+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:07:43.954+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23345639]
2026-01-06T17:07:43.954+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:43.955+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:43.955+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46239f3d] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:43.956+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1968649272 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:44.015+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:07:44.036+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d62ac34]
2026-01-06T17:07:44.037+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:44.037+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6dd44e] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:44.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@359449012 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:44.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:07:44.030+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:07:44.039+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:44.040+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:44.098+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:07:44.098+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:07:44.113+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6dd44e]
2026-01-06T17:07:44.113+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46239f3d]
2026-01-06T17:07:44.113+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:44.114+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:44.114+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b353d1e] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:44.114+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a412a16] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:44.115+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1785416082 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:44.121+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1346475540 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:44.138+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:07:44.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:07:44.152+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:44.153+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:44.172+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:07:44.174+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:07:44.180+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a412a16]
2026-01-06T17:07:44.181+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b353d1e]
2026-01-06T17:07:44.182+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:44.182+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:44.183+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e5d230] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:44.184+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61203390] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:44.187+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@444025472 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:44.188+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@867118951 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:44.188+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:07:44.188+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:07:44.188+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:44.189+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:07:44.221+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:07:44.221+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:07:44.236+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61203390]
2026-01-06T17:07:44.237+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e5d230]
2026-01-06T17:07:44.248+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:44.249+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:07:44.249+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50321a30] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:44.250+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61795f9] was not registered for synchronization because synchronization is not active
2026-01-06T17:07:44.251+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@820911893 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:07:44.251+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@836019033 wrapping com.mysql.cj.jdbc.ConnectionImpl@9061173] will not be managed by Spring
2026-01-06T17:07:44.252+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:44.252+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:07:44.252+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:44.254+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:07:44.266+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:44.266+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:07:44.274+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61795f9]
2026-01-06T17:07:44.282+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50321a30]
2026-01-06T17:07:44.282+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:44.282+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:07:44.283+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:07:44.283+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:07:44.287+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:07:44.304+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:15:44.989+09:00 DEBUG 23600 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:15:45.005+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:15:45.009+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/28
2026-01-06T17:15:45.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:15:45.025+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:15:45.026+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:15:45.027+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:15:45.038+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66735ac1] was not registered for synchronization because synchronization is not active
2026-01-06T17:15:45.054+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@928483684 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:15:45.056+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:15:45.057+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:15:45.072+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:15:45.077+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66735ac1]
2026-01-06T17:15:45.078+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:15:45.078+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2675f0cb] was not registered for synchronization because synchronization is not active
2026-01-06T17:15:45.094+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1634886354 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:15:45.094+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:15:45.095+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:15:45.155+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:15:45.166+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2675f0cb]
2026-01-06T17:15:45.173+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:15:45.174+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5013ee94] was not registered for synchronization because synchronization is not active
2026-01-06T17:15:45.175+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1500098549 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:15:45.195+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:15:45.204+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:15:45.293+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:15:45.322+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5013ee94]
2026-01-06T17:15:45.438+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:15:45.518+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f07c8e5] was not registered for synchronization because synchronization is not active
2026-01-06T17:15:45.530+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@540015839 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:15:45.550+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:15:45.553+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:15:45.557+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:15:45.559+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f07c8e5]
2026-01-06T17:15:45.559+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:15:45.563+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@661775a7] was not registered for synchronization because synchronization is not active
2026-01-06T17:15:45.563+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@931580256 wrapping com.mysql.cj.jdbc.ConnectionImpl@780b34f7] will not be managed by Spring
2026-01-06T17:15:45.569+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:15:45.569+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:15:45.572+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:15:45.578+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@661775a7]
2026-01-06T17:15:45.578+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:15:45.579+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:15:45.581+09:00 DEBUG 23600 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:16:02.285+09:00 DEBUG 23600 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:16:02.289+09:00 DEBUG 23600 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:16:02.301+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:16:02.302+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:16:02.326+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:16:02.326+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:16:02.334+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:16:02.327+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:16:02.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:16:02.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:16:02.337+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:16:02.338+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:16:02.339+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-06T17:16:02.340+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ff573] was not registered for synchronization because synchronization is not active
2026-01-06T17:16:02.342+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@553021747 wrapping com.mysql.cj.jdbc.ConnectionImpl@b650da2] will not be managed by Spring
2026-01-06T17:16:02.344+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:16:02.355+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2026-01-06T17:16:02.362+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:16:02.392+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleException(Exception, HttpServletRequest)
2026-01-06T17:16:02.405+09:00 ERROR 23600 --- [http-nio-8080-exec-6] c.i.b.exception.GlobalExceptionHandler   : 예외 발생

org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/expenses/tax/revision-requests.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-06T17:16:02.411+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:16:02.443+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:16:02.445+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ff573]
2026-01-06T17:16:02.447+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=서버 오류가 발생했습니다: No static resource api/expenses/tax/revision-reque (truncated)...]
2026-01-06T17:16:02.450+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/expenses/tax/revision-requests.]
2026-01-06T17:16:02.459+09:00 DEBUG 23600 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2026-01-06T17:16:02.449+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:16:02.487+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:16:02.505+09:00 DEBUG 23600 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:16:46.317+09:00 DEBUG 23600 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:16:46.389+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:16:46.476+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/28
2026-01-06T17:16:46.525+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:16:46.570+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:16:46.592+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:16:46.604+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:16:46.608+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c3cbcb4] was not registered for synchronization because synchronization is not active
2026-01-06T17:16:46.642+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@366541063 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:16:46.644+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:16:46.667+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:16:46.694+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:16:46.695+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c3cbcb4]
2026-01-06T17:16:46.707+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:16:46.718+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@389dee14] was not registered for synchronization because synchronization is not active
2026-01-06T17:16:46.720+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@326344034 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:16:46.725+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:16:46.735+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:16:46.758+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:16:46.782+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@389dee14]
2026-01-06T17:16:46.785+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:16:46.786+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1948626c] was not registered for synchronization because synchronization is not active
2026-01-06T17:16:46.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1316143647 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:16:46.790+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:16:46.791+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:16:46.808+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:16:46.811+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1948626c]
2026-01-06T17:16:46.816+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:16:46.817+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae91fc6] was not registered for synchronization because synchronization is not active
2026-01-06T17:16:46.820+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1357400053 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:16:46.824+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:16:46.827+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:16:46.844+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:16:46.874+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae91fc6]
2026-01-06T17:16:46.888+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:16:46.892+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a93ed7] was not registered for synchronization because synchronization is not active
2026-01-06T17:16:46.905+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@637274827 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e01518b] will not be managed by Spring
2026-01-06T17:16:46.906+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:16:46.908+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:16:46.928+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:16:46.939+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a93ed7]
2026-01-06T17:16:46.944+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:16:46.955+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:16:46.960+09:00 DEBUG 23600 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:16:54.402+09:00  INFO 8092 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 8092 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2026-01-06T17:16:54.410+09:00 DEBUG 8092 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2026-01-06T17:16:54.415+09:00  INFO 8092 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2026-01-06T17:16:56.621+09:00 DEBUG 8092 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2026-01-06T17:16:56.630+09:00 DEBUG 8092 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2026-01-06T17:16:57.097+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2026-01-06T17:16:57.099+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2026-01-06T17:16:57.104+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2026-01-06T17:16:57.106+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2026-01-06T17:16:57.107+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyCardMapper.class]
2026-01-06T17:16:57.122+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2026-01-06T17:16:57.127+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2026-01-06T17:16:57.138+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseCategoryMapper.class]
2026-01-06T17:16:57.139+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2026-01-06T17:16:57.141+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2026-01-06T17:16:57.143+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2026-01-06T17:16:57.144+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2026-01-06T17:16:57.145+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2026-01-06T17:16:57.149+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2026-01-06T17:16:57.154+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserApproverMapper.class]
2026-01-06T17:16:57.157+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserCardMapper.class]
2026-01-06T17:16:57.158+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2026-01-06T17:16:57.169+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2026-01-06T17:16:57.174+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2026-01-06T17:16:57.176+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2026-01-06T17:16:57.183+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2026-01-06T17:16:57.186+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyCardMapper' and 'com.innersignature.backend.mapper.CompanyCardMapper' mapperInterface
2026-01-06T17:16:57.191+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2026-01-06T17:16:57.285+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2026-01-06T17:16:57.373+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseCategoryMapper' and 'com.innersignature.backend.mapper.ExpenseCategoryMapper' mapperInterface
2026-01-06T17:16:57.448+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2026-01-06T17:16:57.475+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2026-01-06T17:16:57.500+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2026-01-06T17:16:57.505+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2026-01-06T17:16:57.508+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2026-01-06T17:16:57.510+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2026-01-06T17:16:57.517+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userApproverMapper' and 'com.innersignature.backend.mapper.UserApproverMapper' mapperInterface
2026-01-06T17:16:57.519+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userCardMapper' and 'com.innersignature.backend.mapper.UserCardMapper' mapperInterface
2026-01-06T17:16:57.521+09:00 DEBUG 8092 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2026-01-06T17:16:58.483+09:00  INFO 8092 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-06T17:16:58.542+09:00  INFO 8092 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-06T17:16:58.553+09:00  INFO 8092 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-06T17:16:58.719+09:00  INFO 8092 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-06T17:16:58.722+09:00  INFO 8092 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4033 ms
2026-01-06T17:16:58.892+09:00 DEBUG 8092 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2026-01-06T17:16:58.905+09:00 DEBUG 8092 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2026-01-06T17:16:59.510+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2026-01-06T17:16:59.536+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2026-01-06T17:16:59.647+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2026-01-06T17:16:59.689+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2026-01-06T17:16:59.718+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyCardMapper.xml]'
2026-01-06T17:16:59.742+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2026-01-06T17:16:59.786+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2026-01-06T17:16:59.803+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseCategoryMapper.xml]'
2026-01-06T17:16:59.903+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2026-01-06T17:16:59.916+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2026-01-06T17:16:59.927+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2026-01-06T17:16:59.989+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2026-01-06T17:17:00.015+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2026-01-06T17:17:00.023+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2026-01-06T17:17:00.047+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserApproverMapper.xml]'
2026-01-06T17:17:00.070+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserCardMapper.xml]'
2026-01-06T17:17:00.109+09:00 DEBUG 8092 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2026-01-06T17:17:01.197+09:00 DEBUG 8092 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 147 mappings in 'requestMappingHandlerMapping'
2026-01-06T17:17:01.361+09:00 DEBUG 8092 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-06T17:17:01.389+09:00  WARN 8092 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: ea244929-1555-4a4c-8b04-f707c4838ece

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-06T17:17:01.407+09:00  INFO 8092 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-06T17:17:01.592+09:00 DEBUG 8092 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-06T17:17:01.808+09:00 DEBUG 8092 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-06T17:17:01.914+09:00 DEBUG 8092 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-06T17:17:01.986+09:00 DEBUG 8092 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-06T17:17:02.333+09:00  INFO 8092 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-06T17:17:02.359+09:00  INFO 8092 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.985 seconds (process running for 9.958)
2026-01-06T17:17:04.805+09:00  INFO 8092 --- [http-nio-8080-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-06T17:17:04.855+09:00  INFO 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-06T17:17:04.876+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-06T17:17:04.902+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-06T17:17:04.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-01-06T17:17:04.923+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@54daf8f9
2026-01-06T17:17:04.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2ecdf528
2026-01-06T17:17:04.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-06T17:17:04.960+09:00  INFO 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 83 ms
2026-01-06T17:17:05.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:05.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:17:05.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:05.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:05.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:17:05.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:05.077+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:05.081+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:05.110+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:17:05.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:05.120+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:05.138+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:05.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:17:05.140+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:05.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:05.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:17:05.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:05.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:05.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:05.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:17:05.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:05.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:17:05.458+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:05.459+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:05.461+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:05.461+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:17:05.469+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:05.472+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:05.472+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:17:05.472+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:05.473+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:05.473+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:17:05.475+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:05.475+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:05.489+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:17:05.490+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:05.492+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:05.492+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:17:05.585+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:05.585+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:05.591+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:05.597+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:05.604+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:05.606+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:05.617+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc5276f] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:05.617+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a610adb] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:05.617+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e2943] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:05.617+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@787d257c] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:05.617+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8158f56] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:05.617+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ab2cf5] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:05.644+09:00  INFO 8092 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-06T17:17:06.007+09:00  INFO 8092 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4979fdad
2026-01-06T17:17:06.009+09:00  INFO 8092 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-06T17:17:06.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1193499434 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:06.050+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:06.131+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:06.200+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1993150893 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:06.227+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:06.240+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:06.240+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:06.265+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc5276f]
2026-01-06T17:17:06.275+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.276+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1996090981 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:06.276+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1feac721] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.277+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.283+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.309+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:06.326+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@787d257c]
2026-01-06T17:17:06.330+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:06.336+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.336+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1820708268 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:06.337+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e2943]
2026-01-06T17:17:06.338+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116cc322] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.338+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:06.338+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.339+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1830697065 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:06.342+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:06.343+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cd38339] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.344+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:06.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:06.363+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:06.375+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ab2cf5]
2026-01-06T17:17:06.376+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:06.377+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@715444671 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:06.377+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8158f56]
2026-01-06T17:17:06.382+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.386+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@421611238 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:06.424+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.433+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:06.433+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:06.434+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:06.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:06.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.489+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:06.489+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:06.491+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:06.491+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:06.501+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a610adb]
2026-01-06T17:17:06.491+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@153379893 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:06.502+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1feac721]
2026-01-06T17:17:06.503+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.510+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bdad4c] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.503+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1890502663 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:06.505+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:06.506+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:06.509+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.510+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.519+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.519+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1919426395 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:06.524+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:06.540+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:06.542+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.543+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112d2f7f] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.547+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.550+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.552+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:06.570+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:06.572+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:06.573+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.574+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31b075f5] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.555+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:06.584+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:06.585+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:06.567+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.589+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.591+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dbff83c] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.607+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:06.610+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:06.628+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:06.637+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bdad4c]
2026-01-06T17:17:06.642+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cd38339]
2026-01-06T17:17:06.643+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116cc322]
2026-01-06T17:17:06.644+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@708800094 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:06.648+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.652+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.653+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@847024698 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:06.654+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.655+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@394373935 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:06.655+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:06.668+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cfab592] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562abb11] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.670+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:06.672+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24534634] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.674+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:06.676+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:06.692+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:06.708+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:06.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:06.719+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:06.721+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31b075f5]
2026-01-06T17:17:06.721+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112d2f7f]
2026-01-06T17:17:06.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:06.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1628766111 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:06.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1404051005 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:06.723+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:06.723+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:06.723+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.735+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e4437ca] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.725+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:06.725+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:06.726+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:06.734+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:06.739+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:06.739+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dbff83c]
2026-01-06T17:17:06.750+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.751+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@754890648 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:06.751+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791abf5e] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.752+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1937512514 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:06.759+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:06.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.769+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:06.770+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:06.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24534634]
2026-01-06T17:17:06.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cfab592]
2026-01-06T17:17:06.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:06.773+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.773+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@725010009 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:06.774+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f91598f] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.791+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13b8cc49] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.791+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2112534307 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:06.792+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.802+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:06.803+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:06.806+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.808+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562abb11]
2026-01-06T17:17:06.815+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e4437ca]
2026-01-06T17:17:06.817+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:06.818+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.818+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.818+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1765135804 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:06.819+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:06.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791abf5e]
2026-01-06T17:17:06.825+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f511237] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.825+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.855+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:06.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:06.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:06.872+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1014288075 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:06.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:06.941+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.889+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:06.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:06.925+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f91598f]
2026-01-06T17:17:06.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48162177] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:06.999+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:07.002+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:07.002+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:07.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1692047204 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:07.011+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:07.008+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:07.009+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13b8cc49]
2026-01-06T17:17:07.010+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f511237]
2026-01-06T17:17:07.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:07.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:07.026+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.052+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee6f8fc] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.052+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15995267] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.053+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@736733677 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:07.054+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1108224585 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:07.054+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:07.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:07.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:07.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:07.063+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:07.075+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48162177]
2026-01-06T17:17:07.084+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.103+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ee6ec93] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@394421665 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:07.086+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:07.086+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:07.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:07.107+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15995267]
2026-01-06T17:17:07.109+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee6f8fc]
2026-01-06T17:17:07.120+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:07.121+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.122+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.128+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5edaa03d] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.136+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:07.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131ce7f8] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.142+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@26201067 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:07.142+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ee6ec93]
2026-01-06T17:17:07.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517603967 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:07.160+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:07.155+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:07.155+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:07.185+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:07.176+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:07.181+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:07.187+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:07.209+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:07.217+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131ce7f8]
2026-01-06T17:17:07.220+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.220+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:07.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d6d05b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.222+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5edaa03d]
2026-01-06T17:17:07.222+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@344053918 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:07.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:07.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f29c9e6] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.224+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:07.226+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1417232758 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:07.226+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:07.229+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:07.238+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:07.261+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:07.271+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d6d05b]
2026-01-06T17:17:07.271+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f29c9e6]
2026-01-06T17:17:07.271+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71c7181d] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.273+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eacbf77] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.274+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@33932575 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:07.277+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@257635261 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:07.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:07.286+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:07.289+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:07.290+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:07.309+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:07.310+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71c7181d]
2026-01-06T17:17:07.316+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.317+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46505757] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.317+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:07.318+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@708820934 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:07.322+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eacbf77]
2026-01-06T17:17:07.323+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:07.327+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:07.328+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:07.334+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27026305] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:07.335+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@313209914 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:07.337+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:07.339+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:07.341+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:07.343+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46505757]
2026-01-06T17:17:07.350+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:07.353+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:17:07.360+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:07.366+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27026305]
2026-01-06T17:17:07.369+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:07.371+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:07.377+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:17:07.434+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:10.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:10.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:10.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:17:10.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/28
2026-01-06T17:17:10.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:10.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:10.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:10.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:10.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:10.253+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:10.255+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:10.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:10.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:10.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:10.258+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:10.268+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:17:10.301+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/28
2026-01-06T17:17:10.376+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd511e0] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:10.767+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:10.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/28
2026-01-06T17:17:10.965+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/28
2026-01-06T17:17:11.100+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1639695664 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:11.109+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@620026bf] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.186+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:17:11.224+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/28
2026-01-06T17:17:11.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:11.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:17:11.237+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/28", parameters={}
2026-01-06T17:17:11.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:11.249+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:17:11.253+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:17:11.259+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:11.259+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:11.260+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42d588f4] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.260+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f8ba11] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.325+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2061147519 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:11.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:11.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@529040641 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:11.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1956647623 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:11.421+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:11.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:17:11.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:11.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:17:11.524+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd511e0]
2026-01-06T17:17:11.530+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:17:11.610+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:11.616+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:17:11.628+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@620026bf]
2026-01-06T17:17:11.624+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:11.633+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:11.634+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:11.634+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8251c09] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.636+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:11.639+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1561081047 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:11.678+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:11.690+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:17:11.691+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:17:11.703+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:11.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42d588f4]
2026-01-06T17:17:11.737+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:11.738+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ad02a2] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.735+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f8ba11]
2026-01-06T17:17:11.739+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@955581524 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:11.740+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:11.740+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:17:11.741+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2242765d] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.742+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:17:11.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@591784096 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:11.750+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:17:11.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:17:11.791+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:11.835+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8251c09]
2026-01-06T17:17:11.793+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:17:11.842+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ad02a2]
2026-01-06T17:17:11.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:11.842+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:11.843+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6674a5b7] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.844+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35939f94] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.852+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1175533604 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:11.853+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@258309313 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:11.853+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:11.853+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:17:11.854+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:11.855+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:17:11.870+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:17:11.882+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2242765d]
2026-01-06T17:17:11.883+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:11.884+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:11.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:17:11.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6674a5b7]
2026-01-06T17:17:11.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@365b0560] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.887+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35939f94]
2026-01-06T17:17:11.887+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:11.888+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@127561064 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:11.889+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:11.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6692dce1] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.901+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:17:11.903+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b64e31] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:11.904+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@621319321 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:11.923+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:17:11.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572061191 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:11.925+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:11.927+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:17:11.932+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:11.933+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:17:11.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:17:12.004+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b64e31]
2026-01-06T17:17:12.006+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:12.007+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c5e0ec8] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:12.008+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@381884084 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:12.010+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:11.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:17:11.973+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:12.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:12.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@365b0560]
2026-01-06T17:17:12.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6692dce1]
2026-01-06T17:17:12.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:12.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:12.024+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52cd104] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:12.100+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:12.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:12.102+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1806869700 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:12.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:12.123+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c5e0ec8]
2026-01-06T17:17:12.126+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:12.124+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:17:12.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 28(Long), 2(Long)
2026-01-06T17:17:12.172+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:17:12.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:17:12.297+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:12.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52cd104]
2026-01-06T17:17:12.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:12.454+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9047cb] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:12.748+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1666650668 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:12.852+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:12.948+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:13.131+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:13.143+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9047cb]
2026-01-06T17:17:13.159+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:13.160+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=28, drafterId=2, r (truncated)...]
2026-01-06T17:17:13.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:14.474+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:14.474+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:14.482+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:17:14.483+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:14.484+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:14.484+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:17:14.660+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:14.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:14.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:14.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:15.091+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:17:15.174+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:15.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:15.337+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:17:15.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:15.526+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:15.555+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:17:15.560+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:15.566+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:15.570+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:17:15.575+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:15.587+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:15.615+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:15.588+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:17:15.588+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:15.607+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:15.609+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:17:15.614+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:15.616+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:15.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:17:15.622+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:15.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:15.620+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:17:15.621+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:15.622+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:17:15.622+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1981689b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.623+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:15.624+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:15.625+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:17:15.626+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.631+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.635+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.636+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.640+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.640+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e07e085] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.641+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70fdcac6] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.641+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219083be] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.642+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e55b5b7] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.643+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67627a25] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.650+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1085308244 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:15.660+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:15.661+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:15.674+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@243182951 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:15.675+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@561947161 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:15.686+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:15.687+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:15.688+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@565140534 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:15.688+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1046173772 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:15.688+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@681083522 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:15.694+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:15.701+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1981689b]
2026-01-06T17:17:15.701+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:15.701+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:15.704+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:15.706+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:15.708+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:15.708+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.709+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:15.712+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:15.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:15.719+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27dfe5e0] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.721+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1381252438 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:15.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:15.724+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:15.724+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:15.724+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e07e085]
2026-01-06T17:17:15.726+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:15.727+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:15.728+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:15.754+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219083be]
2026-01-06T17:17:15.749+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:15.750+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70fdcac6]
2026-01-06T17:17:15.757+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:15.763+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:15.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:15.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:15.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:15.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab5d591] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:15.770+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:15.771+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67627a25]
2026-01-06T17:17:15.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27dfe5e0]
2026-01-06T17:17:15.773+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:15.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1017556911 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:15.776+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e55b5b7]
2026-01-06T17:17:15.777+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.782+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:15.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.787+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:15.788+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:15.807+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:15.788+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.789+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@197acd94] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.791+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:15.805+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6007cf80] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.807+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:15.808+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33a17067] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.809+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@609707863 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:15.816+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:15.817+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@951043717 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:15.818+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:15.818+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@26345080 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:15.824+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:15.820+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:15.824+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.820+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:15.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:15.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:15.824+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:15.824+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:15.825+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@678cb674] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.825+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:15.825+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab5d591]
2026-01-06T17:17:15.826+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:15.829+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:15.833+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@292755550 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:15.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:15.834+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.835+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48bd581e] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d5c207] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.842+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@818002425 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:15.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:15.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1555039685 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:15.843+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:15.849+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:15.857+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:15.859+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:15.859+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:15.876+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6007cf80]
2026-01-06T17:17:15.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:15.874+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@197acd94]
2026-01-06T17:17:15.875+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@678cb674]
2026-01-06T17:17:15.876+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:15.882+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37d7baba] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.888+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:15.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1769080847 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:15.891+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.892+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:15.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33a17067]
2026-01-06T17:17:15.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:15.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:15.909+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f78da7b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:15.918+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.918+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:15.918+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d5c207]
2026-01-06T17:17:15.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@547466349 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:15.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:15.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363f1b7b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:15.932+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:15.934+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:15.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245720979 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:15.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a26805b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.941+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48bd581e]
2026-01-06T17:17:15.943+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37d7baba]
2026-01-06T17:17:15.943+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:15.944+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:15.944+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1015395554 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:15.944+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.949+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:15.952+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:15.953+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:15.953+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268cf836] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.953+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:15.954+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:15.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1673155974 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:15.971+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:15.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:15.974+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:15.975+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:15.975+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363f1b7b]
2026-01-06T17:17:15.985+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:15.986+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f78da7b]
2026-01-06T17:17:15.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.992+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:15.992+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.992+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62830ec1] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.993+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a26805b]
2026-01-06T17:17:15.993+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c2c55db] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:15.997+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084495847 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:15.998+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:15.999+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:16.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1760404472 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:16.001+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:16.001+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d399d00] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.003+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268cf836]
2026-01-06T17:17:16.003+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:16.003+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:16.004+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1936978596 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:16.004+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:16.006+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:16.006+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4c1bce] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.007+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:16.008+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2126514521 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:16.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:16.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:16.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:16.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:16.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:16.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c2c55db]
2026-01-06T17:17:16.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62830ec1]
2026-01-06T17:17:16.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d399d00]
2026-01-06T17:17:16.024+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.025+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:16.025+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ecd04e] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.032+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:16.033+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55263b22] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1236323813 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:16.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:16.042+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@78015771 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:16.042+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:16.043+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:16.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:16.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:16.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:16.069+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4c1bce]
2026-01-06T17:17:16.089+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.098+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:16.102+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d40345] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.102+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ecd04e]
2026-01-06T17:17:16.103+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1469705210 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:16.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:16.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@146124ba] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:16.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:16.120+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1711204568 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:16.122+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55263b22]
2026-01-06T17:17:16.125+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:16.126+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:16.134+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:16.134+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:16.135+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:16.137+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:16.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d40345]
2026-01-06T17:17:16.140+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.144+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ded1b08] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.148+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@697306374 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:16.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:16.152+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:16.152+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@146124ba]
2026-01-06T17:17:16.153+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:16.154+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.155+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53861072] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.156+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@256340371 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:16.156+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:16.157+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:16.158+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:16.158+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ded1b08]
2026-01-06T17:17:16.163+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369fcdbe] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.169+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@867149118 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:16.170+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:16.170+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:16.171+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53861072]
2026-01-06T17:17:16.171+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:16.171+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f10534b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.176+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1014418779 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:16.177+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:16.179+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:16.190+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:16.194+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369fcdbe]
2026-01-06T17:17:16.199+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:16.201+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.201+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f10534b]
2026-01-06T17:17:16.202+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb87c40] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.202+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:16.202+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@595766964 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:16.206+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16633084] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:16.207+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:16.208+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1270129416 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:16.208+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:16.208+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:16.209+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:16.218+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:16.220+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb87c40]
2026-01-06T17:17:16.222+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:16.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:16.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:17:16.227+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16633084]
2026-01-06T17:17:16.230+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:16.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:16.238+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:17:16.244+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:18.570+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.571+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:18.579+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:17:18.583+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.585+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:18.586+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:17:18.637+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.655+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:18.682+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:18.659+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.659+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:17:18.667+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:18.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.673+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.688+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:18.692+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:17:18.701+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.702+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:17:18.708+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:18.708+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.704+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:18.704+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:18.705+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:18.707+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:17:18.710+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:18.710+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/companies
2026-01-06T17:17:18.716+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.721+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:17:18.717+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.719+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:18.720+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:17:18.720+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:18.721+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:18.721+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:17:18.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:18.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:18.723+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:17:18.727+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.738+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:17:18.735+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:18.736+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:17:18.736+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:18.738+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.738+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7429d6a6] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.739+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.739+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.740+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@629672b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.739+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.739+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.739+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5abbf95e] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.740+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28e78905] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192cbd4b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7483395] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.750+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1039353758 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:18.750+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1736691385 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:18.752+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:18.754+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:18.758+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:18.760+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@959432421 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:18.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@320543387 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:18.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@269743652 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:18.767+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1242317132 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:18.769+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:18.770+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:18.771+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:18.771+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:18.771+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:17:18.773+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:18.774+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:18.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:18.776+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2026-01-06T17:17:18.788+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:18.788+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:18.789+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:18.789+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:18.801+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:18.801+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28e78905]
2026-01-06T17:17:18.802+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@629672b]
2026-01-06T17:17:18.804+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7429d6a6]
2026-01-06T17:17:18.804+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5abbf95e]
2026-01-06T17:17:18.805+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7483395]
2026-01-06T17:17:18.806+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:18.806+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.822+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:18.822+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-06T17:17:18.826+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:18.826+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:18.826+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e31f333] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.826+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:18.826+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2e9a63] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.827+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192cbd4b]
2026-01-06T17:17:18.827+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:18.828+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:18.832+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2071363279 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:18.833+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:18.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@801103471 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:18.843+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:18.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:18.887+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.860+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:18.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:18.893+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:18.876+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:18.884+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:18.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:18.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:17:18.894+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:18.894+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:18.899+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:18.902+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:18.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:18.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:18.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:18.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:18.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:18.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:17:18.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:18.926+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728d7cc6] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:18.925+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:18.927+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:17:18.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1949033451 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:18.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:18.941+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:18.950+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:18.952+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.953+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:17:18.955+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:18.956+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2e9a63]
2026-01-06T17:17:18.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e31f333]
2026-01-06T17:17:18.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43e6a996] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.960+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390f7358] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.965+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:17:18.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:18.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5792a591] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.968+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1655750502 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:18.968+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1124112318 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:18.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:17:18.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a76cbe] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@650865723 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:18.971+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:18.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:18.973+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:18.973+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1111558251 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:18.973+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:18.974+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:18.986+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:18.975+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:18.975+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7015f409] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:18.983+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:18.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@518976614 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:18.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:18.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:18.991+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:19.008+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.008+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728d7cc6]
2026-01-06T17:17:19.012+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:19.015+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:19.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390f7358]
2026-01-06T17:17:19.015+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:19.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:19.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:19.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43e6a996]
2026-01-06T17:17:19.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.049+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2933c40d] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5792a591]
2026-01-06T17:17:19.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:19.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a76cbe]
2026-01-06T17:17:19.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7015f409]
2026-01-06T17:17:19.046+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.050+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1801779136 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:19.066+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.067+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.052+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:19.062+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.064+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.068+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59c19f05] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.065+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58af668c] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.092+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@779345430 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:19.067+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@203c7394] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.068+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29eb2b8e] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.070+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:19.072+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@103521672 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:19.093+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.093+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648419887 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:19.094+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1271623825 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:19.102+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:19.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.107+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.109+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:19.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.118+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2933c40d]
2026-01-06T17:17:19.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:19.121+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.124+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.126+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52439deb] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.125+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:19.125+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58af668c]
2026-01-06T17:17:19.126+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1701259266 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:19.132+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.137+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@203c7394]
2026-01-06T17:17:19.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.135+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.135+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:19.136+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59c19f05]
2026-01-06T17:17:19.136+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29eb2b8e]
2026-01-06T17:17:19.137+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.138+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@615e35c] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21f7e5eb] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:19.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.140+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:19.141+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e14b187] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.142+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@78170876 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:19.142+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@38763615 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:19.143+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3139a944] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.144+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:19.144+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:19.144+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762830594 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:19.149+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:19.150+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1683304913 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:19.158+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:19.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:19.152+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:19.156+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:19.158+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:19.160+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:19.168+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:19.169+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:19.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:19.176+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:19.177+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52439deb]
2026-01-06T17:17:19.194+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.201+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:19.207+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74b1195a] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.209+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:19.209+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:19.210+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:19.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@978546402 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:19.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@615e35c]
2026-01-06T17:17:19.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:17:19.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21f7e5eb]
2026-01-06T17:17:19.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:17:19.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.224+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:19.224+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.224+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153d7af7] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36bb687] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.226+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489542588 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:19.227+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.226+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1016816655 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:19.232+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.232+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e826d76] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:19.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:19.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1815510073 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:19.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e14b187]
2026-01-06T17:17:19.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3139a944]
2026-01-06T17:17:19.253+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.254+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:19.258+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.259+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.260+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74b1195a]
2026-01-06T17:17:19.266+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:19.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.274+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6873b84f] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.275+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2977e454] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.283+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:19.286+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153d7af7]
2026-01-06T17:17:19.286+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36bb687]
2026-01-06T17:17:19.287+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@597730383 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:19.289+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1433930679 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:19.289+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:19.292+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.294+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:19.298+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:19.306+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:19.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:19.301+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.303+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:19.304+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77a15c3a] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.306+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e826d76]
2026-01-06T17:17:19.307+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:19.308+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.308+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:19.317+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:19.321+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@154499835 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:19.322+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:19.338+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:19.339+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:19.342+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:19.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:19.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:19.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:19.353+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:19.354+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:19.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:19.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.376+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.401+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367ececa] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.377+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:19.388+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6873b84f]
2026-01-06T17:17:19.388+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2977e454]
2026-01-06T17:17:19.402+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@797769615 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:19.402+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77a15c3a]
2026-01-06T17:17:19.402+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.405+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6126e221] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.403+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.404+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:19.405+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.406+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@342003594 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:19.406+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67615724] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:17:19.408+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b633af] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.429+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1898072792 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:19.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1485568943 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:19.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:19.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:19.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 1
2026-01-06T17:17:19.455+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367ececa]
2026-01-06T17:17:19.458+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.458+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:19.459+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.474+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6126e221]
2026-01-06T17:17:19.475+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.477+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67615724]
2026-01-06T17:17:19.477+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b96c659] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.482+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.492+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b633af]
2026-01-06T17:17:19.493+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.500+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@199117183 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:19.503+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652a3e6b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.504+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:19.519+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8c58f9] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.519+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.521+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@869003013 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:19.521+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:19.534+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1647961691 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:19.534+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.534+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:19.535+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:19.539+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:19.549+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:19.558+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:19.566+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.573+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b96c659]
2026-01-06T17:17:19.585+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.589+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43885b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.590+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:19.590+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:17:19.600+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652a3e6b]
2026-01-06T17:17:19.600+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@563751300 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:19.600+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8c58f9]
2026-01-06T17:17:19.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:19.602+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.602+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@378b0fbd] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.603+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:17:19.603+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73598381] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.603+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57058881 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:19.604+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@520050307 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:19.606+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.606+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.622+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.623+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.625+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:17:19.635+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c43885b]
2026-01-06T17:17:19.649+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.652+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.652+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.653+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1e53b4] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.653+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@378b0fbd]
2026-01-06T17:17:19.653+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73598381]
2026-01-06T17:17:19.654+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851725692 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:19.655+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:19.655+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.656+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.658+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:17:19.658+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42241e78] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.660+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.662+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:19.671+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2111756342 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:19.673+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:17:19.685+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:17:19.690+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.705+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1e53b4]
2026-01-06T17:17:19.708+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:17:19.711+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:19.714+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42241e78]
2026-01-06T17:17:19.715+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=28, draf (truncated)...]
2026-01-06T17:17:19.715+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:19.717+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:19.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d131ff] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:19.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@56894563 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:19.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:19.744+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:17:19.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:19.777+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d131ff]
2026-01-06T17:17:19.790+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:19.793+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:17:19.795+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:43.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-06T17:17:44.073+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-06T17:17:44.121+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/logout
2026-01-06T17:17:44.177+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-06T17:17:44.189+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-06T17:17:44.192+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-06T17:17:44.461+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-06T17:17:44.681+09:00  INFO 8092 --- [http-nio-8080-exec-3] SECURITY                                 : LOGOUT userId=2
2026-01-06T17:17:44.818+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:44.882+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-06T17:17:44.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:46.600+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-06T17:17:46.603+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-06T17:17:46.604+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-06T17:17:46.604+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-06T17:17:46.604+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-06T17:17:46.605+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-06T17:17:46.607+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_tax, password=1234)]
2026-01-06T17:17:46.608+09:00  INFO 8092 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: test_tax
2026-01-06T17:17:46.609+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:46.609+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca49d72] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:46.617+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1703904280 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:46.617+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-06T17:17:46.620+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_tax(String)
2026-01-06T17:17:46.626+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-06T17:17:46.626+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca49d72]
2026-01-06T17:17:46.721+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:46.721+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b655a30] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:46.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1722846639 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:46.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-06T17:17:46.723+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-06T17:17:46.725+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-06T17:17:46.725+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b655a30]
2026-01-06T17:17:46.750+09:00  INFO 8092 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2
2026-01-06T17:17:46.752+09:00  INFO 8092 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=12 username=test_tax role=TAX_ACCOUNTANT
2026-01-06T17:17:46.755+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:46.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=12, username=test_tax, password= (truncated)...]
2026-01-06T17:17:46.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:46.991+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:17:47.009+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:17:47.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/companies
2026-01-06T17:17:47.075+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:17:47.087+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:17:47.090+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:17:47.100+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3258e3d2] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.170+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:47.170+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.174+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-06T17:17:47.175+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-06T17:17:47.175+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.265+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@530201220 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:47.265+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:47.360+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:17:47.367+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 12(Long)
2026-01-06T17:17:47.367+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:47.383+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.403+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.403+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-06T17:17:47.424+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:47.434+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:47.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:47.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:47.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:17:47.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-06T17:17:47.447+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-06T17:17:47.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:47.458+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-06T17:17:47.462+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:17:47.467+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:17:47.482+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3258e3d2]
2026-01-06T17:17:47.482+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.484+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:17:47.484+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-06T17:17:47.485+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:47.491+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:47.493+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:47.493+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d937d3d] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.497+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-06T17:17:47.501+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:17:47.501+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.501+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.503+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:17:47.508+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-06T17:17:47.509+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cd6f183] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.509+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae48cdc] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.509+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.513+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:47.516+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1938707583 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:47.542+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:47.517+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:17:47.531+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4734060f] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.539+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1225403267 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:47.539+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@266471009 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:47.541+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.542+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 12(Long)
2026-01-06T17:17:47.547+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993246330 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:47.547+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.549+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:47.556+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:47.558+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:47.559+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.559+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7deb2245] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.564+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:17:47.566+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:17:47.566+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.566+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.568+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:17:47.604+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:47.605+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:17:47.605+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:47.606+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:47.606+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@168986242 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:47.607+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.614+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.616+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d937d3d]
2026-01-06T17:17:47.619+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:47.620+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:17:47.616+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae48cdc]
2026-01-06T17:17:47.617+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cd6f183]
2026-01-06T17:17:47.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4734060f]
2026-01-06T17:17:47.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7537ab51] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.622+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:47.622+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:47.623+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:47.624+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.626+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.632+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:47.635+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.636+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:47.650+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@751590663 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:17:47.652+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f8f08a2] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.655+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:47.658+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:47.659+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:47.664+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:47.670+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1483498786 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:47.684+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.685+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:47.672+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-06T17:17:47.674+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.674+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:17:47.676+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.685+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.689+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-06T17:17:47.690+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:47.690+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7deb2245]
2026-01-06T17:17:47.691+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:47.715+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:47.699+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:17:47.705+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:47.706+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.709+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.709+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:47.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:17:47.719+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-06T17:17:47.734+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:47.724+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:47.724+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1638d8b2] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.731+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f8f08a2]
2026-01-06T17:17:47.734+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7537ab51]
2026-01-06T17:17:47.735+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-06T17:17:47.740+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.740+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:47.742+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1123834526 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:47.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.750+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:47.750+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:17:47.751+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e69cd7c] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.751+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.751+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.753+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@538d169b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.754+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:47.755+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701658090 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:17:47.755+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.755+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f657d3b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.756+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.756+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@343985744 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:47.756+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:47.757+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:47.758+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8473dd] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.759+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@111822973 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:47.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:47.767+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.767+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:17:47.769+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2008217371 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:47.770+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:47.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1638d8b2]
2026-01-06T17:17:47.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:47.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.774+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 12(Long)
2026-01-06T17:17:47.774+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.776+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d7c4c9] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:47.780+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@393898441 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:47.783+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e69cd7c]
2026-01-06T17:17:47.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:17:47.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:47.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:47.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@538d169b]
2026-01-06T17:17:47.786+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:17:47.786+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.787+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:47.787+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:47.787+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.788+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f657d3b]
2026-01-06T17:17:47.789+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8473dd]
2026-01-06T17:17:47.792+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:47.793+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d684b] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.793+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:47.794+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.801+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1012895733 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:47.803+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:17:47.804+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f373982] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.804+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.807+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:47.808+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1670492962 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:47.809+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.819+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.820+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:17:47.822+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.822+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d7c4c9]
2026-01-06T17:17:47.824+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.827+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cdb6773] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.834+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@894632877 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:47.834+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.834+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f373982]
2026-01-06T17:17:47.837+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.838+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d684b]
2026-01-06T17:17:47.838+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.842+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ad05aab] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.848+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76fdef64] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.850+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@214795610 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:47.850+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@445566656 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:47.850+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:47.850+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:47.852+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.852+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:47.856+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:47.857+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cdb6773]
2026-01-06T17:17:47.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b9cdb0] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1179568139 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:47.874+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:47.875+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:17:47.875+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:17:47.883+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:47.884+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76fdef64]
2026-01-06T17:17:47.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ad05aab]
2026-01-06T17:17:47.889+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.889+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.891+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d25f95a] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.891+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c21d9] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.892+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@339386709 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:47.892+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1437675995 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:47.892+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:17:47.894+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.899+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.899+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b9cdb0]
2026-01-06T17:17:47.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.901+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.902+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.903+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e0b4f6] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489368919 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:47.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d25f95a]
2026-01-06T17:17:47.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c21d9]
2026-01-06T17:17:47.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@543ef458] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e5ce1b9] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.909+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1987262636 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:47.909+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.910+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1381129026 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:47.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e0b4f6]
2026-01-06T17:17:47.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:47.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:47.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2994f50a] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@785691594 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:47.926+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.927+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.928+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:17:47.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@543ef458]
2026-01-06T17:17:47.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e5ce1b9]
2026-01-06T17:17:47.941+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:47.942+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.943+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:17:47.944+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f4df217] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:47.950+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:47.952+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1727372142 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:47.955+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:47.956+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:47.959+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2994f50a]
2026-01-06T17:17:47.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:47.973+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:17:47.976+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:47.983+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:47.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f4df217]
2026-01-06T17:17:47.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:47.998+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24379f03] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:48.004+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1141513432 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:48.040+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:48.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:48.089+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:48.090+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24379f03]
2026-01-06T17:17:48.091+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:48.096+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:17:48.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:49.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=100&status%5B%5D=PAID
2026-01-06T17:17:49.535+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=100&status%5B%5D=PAID
2026-01-06T17:17:49.540+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:17:49.547+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=100&status%5B%5D=PAID
2026-01-06T17:17:49.550+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=100&status%5B%5D=PAID", parameters={masked}
2026-01-06T17:17:49.550+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:17:49.551+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:49.552+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@351f66aa] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:49.555+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1553138074 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:49.556+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:49.556+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:49.559+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:49.559+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@351f66aa]
2026-01-06T17:17:49.559+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:49.562+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5261a431] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:49.564+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1978436484 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:49.566+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:49.568+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:49.569+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:49.570+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5261a431]
2026-01-06T17:17:49.571+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:49.571+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@da52ba] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:49.589+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@699129497 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:49.589+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:49.591+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:49.595+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 4
2026-01-06T17:17:49.619+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@da52ba]
2026-01-06T17:17:49.620+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:49.622+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7821e100] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:49.624+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1035594583 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:49.624+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:49.625+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:49.632+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:49.634+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7821e100]
2026-01-06T17:17:49.634+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:49.634+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d9254ea] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:49.635+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@978093497 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:49.635+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:17:49.637+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:17:49.641+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 4
2026-01-06T17:17:49.641+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d9254ea]
2026-01-06T17:17:49.642+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:49.643+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef5daba] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:49.648+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@790496002 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:49.648+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:49.649+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:49.651+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:49.652+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef5daba]
2026-01-06T17:17:49.652+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:49.652+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21fa08c1] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:49.655+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@24786510 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:49.656+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:49.656+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:49.658+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:49.658+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21fa08c1]
2026-01-06T17:17:49.659+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:49.659+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:17:49.662+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:51.649+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:51.649+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:17:51.650+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:17:51.652+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:17:51.659+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:51.660+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:17:51.661+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:17:51.664+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:17:51.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:17:51.667+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:17:51.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:17:51.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:17:51.670+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:17:51.671+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:17:51.671+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:17:51.671+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:17:51.672+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:17:51.675+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:17:51.673+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:17:51.674+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:17:51.674+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:17:51.676+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.676+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:17:51.680+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:17:51.681+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.681+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12a714ce] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.682+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:17:51.683+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.683+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b8e6c67] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.684+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.689+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ba4424] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.684+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac78119] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.690+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1375888910 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:17:51.692+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:17:51.693+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1318404030 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:51.693+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2003320472 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:17:51.693+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1874108489 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:51.694+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:17:51.698+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:17:51.698+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:17:51.698+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:17:51.700+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:17:51.701+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 12(Long)
2026-01-06T17:17:51.701+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:17:51.703+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:17:51.705+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12a714ce]
2026-01-06T17:17:51.706+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:51.707+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:17:51.707+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:17:51.707+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ba4424]
2026-01-06T17:17:51.707+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:17:51.708+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b8e6c67]
2026-01-06T17:17:51.709+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:17:51.709+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.709+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:51.709+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:51.710+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac78119]
2026-01-06T17:17:51.715+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26868e00] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.716+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:17:51.717+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@352251019 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:51.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580b0f1d] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:51.719+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:17:51.720+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@345877399 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:51.726+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:17:51.726+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:17:51.733+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:17:51.738+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:17:51.740+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26868e00]
2026-01-06T17:17:51.742+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:17:51.751+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1d89e5] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.752+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580b0f1d]
2026-01-06T17:17:51.753+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1023009960 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:51.755+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.757+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:17:51.758+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44adda86] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.758+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:17:51.759+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1147029225 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:51.760+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:17:51.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:17:51.776+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:17:51.783+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1d89e5]
2026-01-06T17:17:51.783+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:17:51.783+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44adda86]
2026-01-06T17:17:51.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26438dfc] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1683188336 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:51.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c6b8830] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:17:51.786+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1178076881 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:51.786+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:17:51.787+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:17:51.789+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:17:51.792+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:17:51.792+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26438dfc]
2026-01-06T17:17:51.792+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.793+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ecd699c] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.793+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:17:51.798+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1952129492 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:17:51.799+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c6b8830]
2026-01-06T17:17:51.800+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:51.800+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:51.800+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796f5aa7] was not registered for synchronization because synchronization is not active
2026-01-06T17:17:51.800+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:51.801+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1240823730 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:17:51.801+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:17:51.801+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:17:51.803+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:51.804+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ecd699c]
2026-01-06T17:17:51.804+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:17:51.804+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:51.804+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796f5aa7]
2026-01-06T17:17:51.805+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:17:51.806+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:51.806+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:17:51.807+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:51.809+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:17:58.076+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29/tax/revision-request
2026-01-06T17:17:58.102+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/29/tax/revision-request
2026-01-06T17:17:58.153+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/29/tax/revision-request
2026-01-06T17:17:58.175+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/29/tax/revision-request
2026-01-06T17:17:58.184+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/29/tax/revision-request", parameters={}
2026-01-06T17:17:58.187+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#requestTaxRevision(Long, Map)
2026-01-06T17:17:58.192+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{reason=test}]
2026-01-06T17:17:58.206+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.requestTaxRevision(java.lang.Long,java.util.Map); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-06T17:17:58.255+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.requestTaxRevision(java.lang.Long,java.util.Map); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-06T17:17:58.303+09:00  INFO 8092 --- [http-nio-8080-exec-2] c.i.b.controller.ExpenseController       : 세무 수정 요청 - expenseId: 29, userId: 12, reason: test
2026-01-06T17:17:58.382+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:17:58.383+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5]
2026-01-06T17:17:58.384+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@613237181 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will be managed by Spring
2026-01-06T17:17:58.385+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-06T17:17:58.386+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-06T17:17:58.388+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-06T17:17:58.389+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5]
2026-01-06T17:17:58.391+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5] from current transaction
2026-01-06T17:17:58.391+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:17:58.392+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:17:58.394+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:17:58.395+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5]
2026-01-06T17:17:58.398+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5] from current transaction
2026-01-06T17:17:58.398+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.resetApprovalLinesForReport    : ==>  Preparing: UPDATE approval_line_tb SET status = 'WAIT', signature_data = NULL, approval_date = NULL, rejection_reason = NULL WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:17:58.399+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.resetApprovalLinesForReport    : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:17:58.404+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.resetApprovalLinesForReport    : <==    Updates: 1
2026-01-06T17:17:58.405+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5]
2026-01-06T17:17:58.406+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5] from current transaction
2026-01-06T17:17:58.406+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.updateExpenseReportStatus      : ==>  Preparing: UPDATE expense_report_tb SET status = ? WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:17:58.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.updateExpenseReportStatus      : ==> Parameters: WAIT(String), 29(Long), 2(Long)
2026-01-06T17:17:58.409+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.updateExpenseReportStatus      : <==    Updates: 1
2026-01-06T17:17:58.410+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5]
2026-01-06T17:17:58.413+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5] from current transaction
2026-01-06T17:17:58.414+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.updateTaxRevisionRequest       : ==>  Preparing: UPDATE expense_report_tb SET tax_revision_requested = ?, tax_revision_request_reason = ? WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:17:58.415+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.updateTaxRevisionRequest       : ==> Parameters: true(Boolean), test(String), 29(Long), 2(Long)
2026-01-06T17:17:58.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.updateTaxRevisionRequest       : <==    Updates: 1
2026-01-06T17:17:58.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5]
2026-01-06T17:17:58.420+09:00  INFO 8092 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 세무 수정 요청 처리 - expenseId: 29, userId: 12, reason: test
2026-01-06T17:17:58.421+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5]
2026-01-06T17:17:58.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5]
2026-01-06T17:17:58.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57addcf5]
2026-01-06T17:17:58.433+09:00  INFO 8092 --- [http-nio-8080-exec-2] c.i.b.controller.ExpenseController       : 세무 수정 요청 완료 - expenseId: 29, userId: 12
2026-01-06T17:17:58.434+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:17:58.434+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=수정 요청이 전송되었습니다., data=null)]
2026-01-06T17:17:58.435+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:00.608+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:00.612+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:00.615+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:18:00.616+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:18:00.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:00.620+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:00.659+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:18:00.675+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:00.675+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:00.690+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:00.676+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:18:00.683+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:18:00.691+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:00.686+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:00.689+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:00.690+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:00.692+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:18:00.692+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/companies
2026-01-06T17:18:00.692+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:00.698+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:00.701+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:00.702+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:18:00.702+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:18:00.714+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:18:00.702+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:18:00.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:18:00.703+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:00.703+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:00.703+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:00.709+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:00.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:18:00.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.720+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:00.721+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:18:00.724+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:00.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:00.723+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.723+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:18:00.723+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4301a137] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.724+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.726+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.733+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:00.735+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49eae2c] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.735+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.736+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a2d59c] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.736+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45e69311] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.736+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.737+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ac2a4d] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.741+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a898745] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.742+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1695406539 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:00.742+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@14466389 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:00.744+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@989649167 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:00.749+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:00.749+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:00.749+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:18:00.751+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:18:00.751+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 12(Long)
2026-01-06T17:18:00.751+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:00.755+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1692965102 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:00.757+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1015104026 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:00.758+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:00.759+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:18:00.759+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1147113813 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:00.761+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:18:00.762+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:00.762+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:18:00.764+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:18:00.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 12(Long)
2026-01-06T17:18:00.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:00.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4301a137]
2026-01-06T17:18:00.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49eae2c]
2026-01-06T17:18:00.767+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a2d59c]
2026-01-06T17:18:00.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 12(Long)
2026-01-06T17:18:00.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.769+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:00.772+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:00.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cc9f699] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:00.776+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:18:00.780+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:00.781+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-06T17:18:00.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@459947588 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:00.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:18:00.786+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:00.790+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:00.791+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45e69311]
2026-01-06T17:18:00.792+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ac2a4d]
2026-01-06T17:18:00.792+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:18:00.793+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a898745]
2026-01-06T17:18:00.803+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:18:00.806+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:00.806+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:00.822+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:00.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:00.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:00.824+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:18:00.824+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:18:00.825+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:18:00.835+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:00.839+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:00.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:00.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:18:00.857+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:18:00.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:00.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:00.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:18:00.896+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:18:00.901+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cc9f699]
2026-01-06T17:18:00.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:18:00.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.913+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:18:00.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:00.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:18:00.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:00.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e457f46] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7acf1f4e] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.937+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:18:00.938+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:00.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245849567 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:00.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:00.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@963728304 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:00.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:18:00.941+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:00.941+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:18:00.941+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:00.942+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:18:00.942+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:18:00.956+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:00.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:00.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:18:00.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:00.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:00.960+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:00.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34b80199] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:18:00.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:00.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@135275986 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:00.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd5ded4] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e457f46]
2026-01-06T17:18:00.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6515ecd] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:00.993+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:18:00.994+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:18:01.017+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@862388098 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:01.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:01.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@973706999 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:01.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:01.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7acf1f4e]
2026-01-06T17:18:01.026+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:01.028+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c232b1d] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:01.028+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:01.030+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:01.041+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21378aa7] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:01.036+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 12(Long)
2026-01-06T17:18:01.042+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@587252896 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:01.039+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1239009936 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:01.040+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:18:01.040+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:18:01.042+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:18:01.043+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:18:01.043+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34b80199]
2026-01-06T17:18:01.049+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:01.049+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:01.049+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:01.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@774cd67e] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:01.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:01.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:18:01.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@59553223 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:01.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6515ecd]
2026-01-06T17:18:01.059+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd5ded4]
2026-01-06T17:18:01.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:18:01.061+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:18:01.063+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:18:01.066+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:01.067+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:01.067+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21378aa7]
2026-01-06T17:18:01.069+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c232b1d]
2026-01-06T17:18:01.070+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:01.070+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:01.071+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:18:01.082+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:01.083+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:01.084+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:01.084+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d872a9e] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:01.084+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:01.084+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d7c485] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:01.092+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1626924347 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:01.103+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564046657 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:01.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:01.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:18:01.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:18:01.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:01.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:01.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@774cd67e]
2026-01-06T17:18:01.110+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:01.120+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a97f5ba] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:01.121+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1543058864 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:01.126+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:18:01.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:01.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:01.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:18:01.136+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d872a9e]
2026-01-06T17:18:01.138+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d7c485]
2026-01-06T17:18:01.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:01.140+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:18:01.141+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:01.143+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:18:01.150+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a97f5ba]
2026-01-06T17:18:01.152+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@635df0c] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:01.154+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:01.154+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:01.157+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1882247331 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:01.195+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:18:01.158+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ea3ed55] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:01.197+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:01.198+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@468512542 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:01.200+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:18:01.202+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:01.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:18:01.271+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@635df0c]
2026-01-06T17:18:01.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:01.273+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21088f3a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:01.274+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@166590888 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:01.274+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:01.275+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:01.289+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:18:01.314+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ea3ed55]
2026-01-06T17:18:01.318+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:01.323+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:01.335+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58ca147f] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:01.336+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21088f3a]
2026-01-06T17:18:01.337+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@703763318 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:01.358+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:01.375+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:01.376+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:18:01.381+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:01.382+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:01.415+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:01.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58ca147f]
2026-01-06T17:18:01.425+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:01.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:18:01.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:03.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:03.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:03.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:03.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:03.070+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:03.059+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:18:03.062+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:18:03.070+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:03.083+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:03.084+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:03.087+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:03.102+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:03.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:03.090+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:03.092+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:18:03.122+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:18:03.124+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:18:03.125+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:18:03.126+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:18:03.093+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:03.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:03.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:03.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:03.120+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:03.137+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:03.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:03.187+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:03.189+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:18:03.189+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:03.201+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@156d8ade] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.203+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:18:03.203+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=12
2026-01-06T17:18:03.204+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:03.204+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:03.207+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:03.216+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:03.219+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=12", parameters={masked}
2026-01-06T17:18:03.220+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.224+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:03.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1410706101 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:03.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:03.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c02ebb1] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7be8312a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:03.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3050536a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.239+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78fb912d] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.239+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:03.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab545bb] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@855828668 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:03.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2108349901 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:03.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@959915387 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:03.255+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:03.257+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:03.257+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1748924351 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:03.257+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:03.257+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1230289019 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:03.257+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:03.258+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:18:03.260+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:18:03.265+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:03.266+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 12(Long)
2026-01-06T17:18:03.267+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:03.267+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@156d8ade]
2026-01-06T17:18:03.273+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 12(Long)
2026-01-06T17:18:03.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 2(Long)
2026-01-06T17:18:03.283+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:03.283+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:03.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.289+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7be8312a]
2026-01-06T17:18:03.290+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3050536a]
2026-01-06T17:18:03.290+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cfae06] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.291+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:03.292+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:03.297+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:18:03.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1533316203 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:03.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:03.302+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:03.302+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c02ebb1]
2026-01-06T17:18:03.302+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:03.304+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:03.306+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:03.309+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:18:03.310+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:03.315+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:03.322+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:03.325+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:03.330+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:18:03.334+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78fb912d]
2026-01-06T17:18:03.334+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab545bb]
2026-01-06T17:18:03.335+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:18:03.339+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:03.340+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:18:03.341+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:03.342+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:03.343+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:03.347+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:03.350+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:18:03.350+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:18:03.350+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:03.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:03.353+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:03.355+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:18:03.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:03.366+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:18:03.358+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cfae06]
2026-01-06T17:18:03.359+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:03.369+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.369+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61c2ef2a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.366+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:03.368+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.370+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1230361226 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:03.372+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.373+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd8f1e9] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.374+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:03.374+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27957d07] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.375+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1501357671 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:03.383+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:03.383+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@42252966 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:03.384+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:03.384+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:03.385+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:03.386+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 12(Long)
2026-01-06T17:18:03.388+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:18:03.389+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:03.389+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:18:03.389+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61c2ef2a]
2026-01-06T17:18:03.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd8f1e9]
2026-01-06T17:18:03.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27957d07]
2026-01-06T17:18:03.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.391+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.392+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:03.392+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a113b2f] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.392+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@592340a5] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.392+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:18:03.393+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@207364344 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:03.393+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1649386961 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:03.393+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:03.394+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:03.399+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:03.400+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:03.401+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:03.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:03.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:03.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@592340a5]
2026-01-06T17:18:03.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a113b2f]
2026-01-06T17:18:03.408+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.408+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.409+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a7be7a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.409+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c9e2fb] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.410+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1254285699 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:03.413+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1181904686 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:03.416+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:03.416+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:03.418+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:03.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:03.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:18:03.423+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a7be7a]
2026-01-06T17:18:03.423+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:18:03.424+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.424+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c9e2fb]
2026-01-06T17:18:03.424+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78ee6181] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.424+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.425+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1276007560 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:03.425+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13959a41] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.426+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:03.432+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1764850930 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:03.433+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:03.433+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:03.433+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:03.435+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:03.435+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78ee6181]
2026-01-06T17:18:03.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:03.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2130e9fb] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.437+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13959a41]
2026-01-06T17:18:03.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@718890549 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:03.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:03.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31414d9c] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:03.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@247045735 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:03.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:03.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:03.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:03.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31414d9c]
2026-01-06T17:18:03.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:03.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:18:03.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:03.456+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 5
2026-01-06T17:18:03.456+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2130e9fb]
2026-01-06T17:18:03.457+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.457+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef9e3fa] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.458+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1210097903 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:03.458+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:03.458+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:03.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:03.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef9e3fa]
2026-01-06T17:18:03.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:03.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53f1f58a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:03.466+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924545085 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:03.466+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:03.467+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-06T17:18:03.468+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:03.469+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53f1f58a]
2026-01-06T17:18:03.470+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:03.471+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:18:03.473+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:05.222+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-06T17:18:05.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-06T17:18:05.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 2, uri: /api/logout
2026-01-06T17:18:05.237+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-06T17:18:05.238+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-06T17:18:05.238+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-06T17:18:05.240+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMiIsInVzZXJuYW1lIjo (truncated)...]
2026-01-06T17:18:05.243+09:00  INFO 8092 --- [http-nio-8080-exec-7] SECURITY                                 : LOGOUT userId=12
2026-01-06T17:18:05.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:05.255+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-06T17:18:05.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:08.722+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-06T17:18:08.725+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-06T17:18:08.728+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-06T17:18:08.729+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-06T17:18:08.730+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-06T17:18:08.730+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-06T17:18:08.731+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2026-01-06T17:18:08.732+09:00  INFO 8092 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2026-01-06T17:18:08.732+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:08.733+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a71c53f] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:08.737+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1492667136 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:08.738+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-06T17:18:08.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2026-01-06T17:18:08.749+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-06T17:18:08.750+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a71c53f]
2026-01-06T17:18:08.832+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:08.833+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@240649f3] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:08.835+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@6339687 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:08.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-06T17:18:08.837+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2026-01-06T17:18:08.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-06T17:18:08.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@240649f3]
2026-01-06T17:18:08.842+09:00  INFO 8092 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: USER, companyId: 2
2026-01-06T17:18:08.842+09:00  INFO 8092 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=USER
2026-01-06T17:18:08.844+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:08.845+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2026-01-06T17:18:08.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:09.155+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:18:09.159+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:18:09.162+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/companies
2026-01-06T17:18:09.164+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:18:09.165+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:18:09.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:18:09.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@661cf1e9] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.172+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@831873243 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:09.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:18:09.174+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2026-01-06T17:18:09.190+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-06T17:18:09.192+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@661cf1e9]
2026-01-06T17:18:09.200+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:09.201+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:18:09.204+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:09.323+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.324+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:09.325+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:18:09.339+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:09.326+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.330+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:18:09.331+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.335+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.341+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:18:09.354+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:09.354+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.355+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:18:09.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.357+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:09.382+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:18:09.357+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:18:09.376+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:09.381+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:09.383+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:09.384+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:09.385+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:18:09.387+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:18:09.387+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:09.388+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.388+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.389+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:09.389+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:18:09.401+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:18:09.403+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.403+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473ca100] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:18:09.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:09.391+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:18:09.417+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:09.418+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.418+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@214f4314] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1615769278 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:09.421+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:09.423+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:09.391+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:18:09.424+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:09.425+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.432+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b8a3597] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.391+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:09.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:18:09.415+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:09.435+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1815823328 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.435+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:09.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:18:09.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1385455109 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:09.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:09.437+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.437+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:09.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@214f4314]
2026-01-06T17:18:09.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c730fa2] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b3631e9] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:09.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf7e799] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:09.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1553664403 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:09.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2020584675 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:09.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@282879484 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:09.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:09.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:09.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:09.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:09.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473ca100]
2026-01-06T17:18:09.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b8a3597]
2026-01-06T17:18:09.453+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:09.453+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:09.453+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:09.454+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.459+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d69548c] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.503+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@445528637 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.504+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.504+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.455+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.455+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:09.457+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.459+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:18:09.505+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:09.506+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c730fa2]
2026-01-06T17:18:09.506+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.506+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:09.507+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:09.518+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.508+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca622e0] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.515+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:18:09.518+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:18:09.519+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:18:09.523+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b3631e9]
2026-01-06T17:18:09.519+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@724917544 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:09.520+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:09.522+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:18:09.524+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.524+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.524+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.525+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:18:09.525+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aa75101] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.525+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.525+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae812b8] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.526+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:18:09.531+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524354100 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:09.532+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@115995082 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:09.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:18:09.571+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.572+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.583+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.583+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:09.584+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d69548c]
2026-01-06T17:18:09.586+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:09.584+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf7e799]
2026-01-06T17:18:09.584+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.585+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.586+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.594+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29691050] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.602+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:09.620+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1552324530 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.617+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d14f0cc] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca622e0]
2026-01-06T17:18:09.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e0f9e9a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.620+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae812b8]
2026-01-06T17:18:09.621+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.622+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@976097494 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:09.638+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.639+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.639+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:09.639+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.639+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:09.639+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e10fc8] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.640+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aa75101]
2026-01-06T17:18:09.640+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:09.641+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@518457384 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:09.642+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.646+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:09.649+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@729652438 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:09.650+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.651+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.651+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:09.651+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29691050]
2026-01-06T17:18:09.652+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:09.652+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b3ac784] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.654+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.655+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.656+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:18:09.656+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:18:09.657+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@465942715 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:09.659+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.665+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525076be] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.666+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.666+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d14f0cc]
2026-01-06T17:18:09.667+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:09.667+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:18:09.668+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@869926708 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.668+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e0f9e9a]
2026-01-06T17:18:09.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:09.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:18:09.670+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e10fc8]
2026-01-06T17:18:09.671+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.671+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.672+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f3edcb6] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.672+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:09.672+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.673+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.673+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc29fe8] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.674+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1975966989 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:09.676+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.674+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:18:09.675+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@352ba7fa] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.675+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:18:09.675+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1005351350 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:09.679+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.680+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:09.680+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.681+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1002074584 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:09.681+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b3ac784]
2026-01-06T17:18:09.681+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:09.683+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.683+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525076be]
2026-01-06T17:18:09.684+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.684+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.684+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.685+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18911791] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.685+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:09.685+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.685+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.685+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7398cae7] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.686+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f3edcb6]
2026-01-06T17:18:09.686+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@237878762 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:09.687+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63d1d0dc] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.688+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1845700087 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:09.688+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.689+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:09.691+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@853913502 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.691+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.691+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a68ef21] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.691+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.699+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@352ba7fa]
2026-01-06T17:18:09.693+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:09.693+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:09.693+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:18:09.702+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:09.698+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.699+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1398431670 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:09.699+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:09.702+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:09.702+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc29fe8]
2026-01-06T17:18:09.712+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.713+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bef5782] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.706+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:09.707+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:18:09.708+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18911791]
2026-01-06T17:18:09.715+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:09.716+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:09.717+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:09.714+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1647032008 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:09.715+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:18:09.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:09.719+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.723+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.724+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.724+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:18:09.734+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7398cae7]
2026-01-06T17:18:09.736+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63d1d0dc]
2026-01-06T17:18:09.737+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:09.737+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.737+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:18:09.737+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43917c7a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.739+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:09.740+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@782959588 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.745+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:18:09.764+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.767+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a68ef21]
2026-01-06T17:18:09.770+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.771+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d4f563] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1958220447 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:09.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bef5782]
2026-01-06T17:18:09.786+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:09.787+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.791+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:09.791+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.792+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43c274d3] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.800+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43917c7a]
2026-01-06T17:18:09.803+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.802+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@586184814 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:09.803+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f5c2ce1] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.804+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:09.805+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:18:09.804+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@124189660 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.806+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:09.815+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:18:09.831+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:18:09.832+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:18:09.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43c274d3]
2026-01-06T17:18:09.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:18:09.838+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d4f563]
2026-01-06T17:18:09.838+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.838+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f5c2ce1]
2026-01-06T17:18:09.839+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.839+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37bd9b94] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf46861] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e518873] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1728648540 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:09.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1973805457 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:09.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@12882556 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:09.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.848+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:09.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:09.848+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.850+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:09.854+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.854+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:18:09.855+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:18:09.856+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf46861]
2026-01-06T17:18:09.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e518873]
2026-01-06T17:18:09.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37bd9b94]
2026-01-06T17:18:09.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.859+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.859+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4686d1fa] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.864+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dda089] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.864+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b7cb761] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.865+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1044979243 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:09.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1080929969 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@281470113 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:09.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:09.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.872+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:18:09.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:18:09.883+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b7cb761]
2026-01-06T17:18:09.883+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4686d1fa]
2026-01-06T17:18:09.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dda089]
2026-01-06T17:18:09.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ad2e3fd] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2058c0d8] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2014478756 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:09.887+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@350ee7bb] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.887+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@238140429 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:09.887+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.888+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@978894971 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.889+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:09.891+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.891+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:09.892+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:18:09.892+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:18:09.901+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:18:09.902+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:18:09.902+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.904+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2058c0d8]
2026-01-06T17:18:09.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@350ee7bb]
2026-01-06T17:18:09.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ad2e3fd]
2026-01-06T17:18:09.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:09.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:09.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d54d98] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77eebeb] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:09.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:18:09.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@627907386 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:09.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1167058816 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:09.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:09.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:09.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.914+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:09.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.918+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d54d98]
2026-01-06T17:18:09.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:09.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:09.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:18:09.925+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77eebeb]
2026-01-06T17:18:09.926+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:09.934+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:09.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:18:09.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:13.559+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=100&status%5B%5D=WAIT&drafterName=test_user1
2026-01-06T17:18:13.562+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=100&status%5B%5D=WAIT&drafterName=test_user1
2026-01-06T17:18:13.564+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:18:13.574+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=100&status%5B%5D=WAIT&drafterName=test_user1
2026-01-06T17:18:13.581+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=100&status%5B%5D=WAIT&drafterName=test_user1", parameters={masked}
2026-01-06T17:18:13.582+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:18:13.584+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:13.584+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@389b3fb0] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:13.587+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@46124827 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:13.590+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:13.590+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:13.593+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:13.598+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@389b3fb0]
2026-01-06T17:18:13.598+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:13.599+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f03182] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:13.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722124390 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:13.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:13.602+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:13.604+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:13.604+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f03182]
2026-01-06T17:18:13.606+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:13.606+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cbd260e] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:13.607+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@136672826 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:13.608+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:13.610+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), WAIT(String), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:13.626+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2026-01-06T17:18:13.626+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cbd260e]
2026-01-06T17:18:13.634+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:13.634+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a17d43a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:13.635+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@790567456 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:13.635+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:13.635+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:13.637+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:13.637+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a17d43a]
2026-01-06T17:18:13.638+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:13.638+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aea38ac] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:13.639+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2118686671 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:13.639+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:13.640+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:18:13.642+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:18:13.643+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aea38ac]
2026-01-06T17:18:13.650+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:13.650+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64dece9c] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:13.651+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1598727667 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:13.651+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:13.653+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), WAIT(String), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:13.656+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2026-01-06T17:18:13.656+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64dece9c]
2026-01-06T17:18:13.657+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:13.658+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4615a71a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:13.658+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1420634986 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:13.658+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:13.659+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:13.667+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:13.668+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4615a71a]
2026-01-06T17:18:13.668+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:13.668+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eadaab4] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:13.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1701568780 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:13.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:13.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:18:13.671+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:18:13.671+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eadaab4]
2026-01-06T17:18:13.672+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:13.673+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e69164] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:13.673+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1996317030 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:13.673+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:13.674+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:13.675+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:13.676+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e69164]
2026-01-06T17:18:13.677+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:13.682+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:18:13.684+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:15.819+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:15.820+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:15.822+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:18:15.822+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:18:15.835+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:15.834+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:15.835+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:18:15.838+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:15.838+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:15.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/29
2026-01-06T17:18:15.839+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:15.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:15.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:18:15.842+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:15.850+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:18:15.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:18:15.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:18:15.852+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:15.853+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:15.853+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:18:15.854+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.854+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/29
2026-01-06T17:18:15.854+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.857+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40d8c6e1] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.857+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.857+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:18:15.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c6661c4] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.859+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@673bb43] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.860+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:18:15.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:18:15.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1590164244 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:15.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1908123056 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:15.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@755209385 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:15.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.869+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:15.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:15.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:18:15.872+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f05a11] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:15.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:15.874+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:15.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@187204148 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:15.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:18:15.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:15.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40d8c6e1]
2026-01-06T17:18:15.887+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:18:15.889+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:18:15.891+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:15.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c6661c4]
2026-01-06T17:18:15.891+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.891+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@673bb43]
2026-01-06T17:18:15.892+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:15.892+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b9d4fbc] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.899+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:15.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1992829627 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:15.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:18:15.901+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b482c70] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.902+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:15.902+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f05a11]
2026-01-06T17:18:15.902+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:15.904+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924429892 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:15.904+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:15.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:18:15.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:15.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34fd991f] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.918+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@190858655 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:15.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:18:15.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:15.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:18:15.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:15.923+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b9d4fbc]
2026-01-06T17:18:15.923+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b482c70]
2026-01-06T17:18:15.926+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.930+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.930+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5451b207] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.930+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@223cb254] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.932+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@368113566 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:15.933+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1224548815 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:15.935+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:15.935+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:18:15.935+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:18:15.937+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:18:15.938+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34fd991f]
2026-01-06T17:18:15.938+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:15.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a57d55] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.948+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@415768895 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:15.950+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:18:15.951+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:18:15.952+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5451b207]
2026-01-06T17:18:15.953+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:15.954+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:18:15.954+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.955+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@223cb254]
2026-01-06T17:18:15.955+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd97cfa] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.963+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@901855980 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:15.963+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c161b4] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.963+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:15.965+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:18:15.965+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@86562218 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:15.966+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:15.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a57d55]
2026-01-06T17:18:15.968+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:18:15.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:15.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:15.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67124fa7] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:15.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@204921285 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:15.986+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:18:15.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:15.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:18:15.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:18:15.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd97cfa]
2026-01-06T17:18:15.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c161b4]
2026-01-06T17:18:15.992+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:15.997+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:18:15.992+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:16.002+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:16.003+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d5fe1bc] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:16.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@618324322 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:16.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:18:16.006+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:16.007+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67124fa7]
2026-01-06T17:18:16.007+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:16.007+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:16.008+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac4ace7] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:16.010+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1600037231 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:16.017+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:16.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:16.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:16.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d5fe1bc]
2026-01-06T17:18:16.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:16.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:18:16.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:16.024+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac4ace7]
2026-01-06T17:18:16.024+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:16.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:16.036+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:18:16.039+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:19.832+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:19.833+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:19.833+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:18:19.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:19.837+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:18:19.837+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:19.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:19.841+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:18:19.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:19.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:19.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:19.852+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:19.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:18:19.849+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:19.849+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:19.855+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:19.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:18:19.852+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:19.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:18:19.853+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:19.855+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:18:19.855+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:19.856+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:19.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:18:19.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:19.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:19.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:18:19.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:19.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:18:19.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:18:19.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:19.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:18:19.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:19.869+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:19.869+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:18:19.869+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4694fc5e] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.869+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.870+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:18:19.870+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:19.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.872+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:18:19.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10edd81b] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.875+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.875+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.875+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d549f1] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1665619582 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:19.882+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.883+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313b34c6] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.884+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3672282d] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.884+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:19.884+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4de3cc79] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1896855917 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:19.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1998469653 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:19.887+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1914350702 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:19.888+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2140794544 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:19.889+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:19.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:19.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:19.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:19.891+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:19.892+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:19.896+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056920439 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:19.897+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:19.898+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:19.898+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:19.898+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:19.898+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:19.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4694fc5e]
2026-01-06T17:18:19.903+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:19.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:19.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:19.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:19.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:18:19.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:18:19.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:19.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313b34c6]
2026-01-06T17:18:19.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d549f1]
2026-01-06T17:18:19.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10edd81b]
2026-01-06T17:18:19.909+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3672282d]
2026-01-06T17:18:19.911+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:19.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:19.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:19.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:18:19.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51a35f46] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:19.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@feee3e3] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207e8dcc] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4de3cc79]
2026-01-06T17:18:19.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@124970050 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:19.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:18:19.925+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:19.926+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1633731572 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:19.931+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1512619780 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:19.938+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:19.931+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.931+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:19.932+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:18:19.934+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:19.937+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:19.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:19.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b5f240b] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:19.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:18:19.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:19.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1167160964 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:19.955+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:19.955+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:19.948+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:18:19.950+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:18:19.956+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:19.956+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:19.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:19.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:18:19.961+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:18:19.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207e8dcc]
2026-01-06T17:18:19.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51a35f46]
2026-01-06T17:18:19.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@feee3e3]
2026-01-06T17:18:19.963+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:18:19.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5160b895] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.968+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.971+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.975+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1996038383 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:19.975+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3e988f] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.975+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fa0a98] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.976+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728c44b6] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.976+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:19.976+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54aa027d] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:19.982+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:18:19.984+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2038063113 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:19.985+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1936210862 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:19.986+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@176505087 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:19.986+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b5f240b]
2026-01-06T17:18:19.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1020685157 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:18:19.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:19.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:19.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:19.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:19.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:19.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:18:19.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:18:19.993+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:19.994+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:18:20.002+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:18:20.002+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5b4974] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.003+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:18:20.007+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:18:20.007+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:18:20.008+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5160b895]
2026-01-06T17:18:20.017+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1312182664 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:20.017+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fa0a98]
2026-01-06T17:18:20.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3e988f]
2026-01-06T17:18:20.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:20.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16ae550e] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:18:20.033+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:18:20.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54aa027d]
2026-01-06T17:18:20.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:20.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27f1e684] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b81dc11] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1113518942 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:20.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728c44b6]
2026-01-06T17:18:20.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:20.036+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1337431592 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:20.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1923269390 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:18:20.038+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:20.039+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.040+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:18:20.040+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:18:20.040+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:20.041+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:20.041+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:20.041+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46cdd115] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.041+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5b4974]
2026-01-06T17:18:20.042+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:20.042+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:20.049+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:20.050+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450480782 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:18:20.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:20.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e6fa68c] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.059+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:20.059+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@142167772 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:20.064+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:20.066+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:20.068+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:20.068+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:20.068+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:20.068+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:20.071+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46cdd115]
2026-01-06T17:18:20.071+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b81dc11]
2026-01-06T17:18:20.072+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:20.072+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16ae550e]
2026-01-06T17:18:20.072+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27f1e684]
2026-01-06T17:18:20.072+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:20.072+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:18:20.073+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.073+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.074+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:18:20.080+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:20.081+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c89d7d5] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.082+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a3474d1] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.083+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:20.103+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1215033711 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:20.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:20.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1926855893 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:20.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:20.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:18:20.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e6fa68c]
2026-01-06T17:18:20.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:20.118+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d57309a] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:18:20.137+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862250106 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:20.140+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:20.141+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:18:20.148+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:18:20.150+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c89d7d5]
2026-01-06T17:18:20.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.152+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:18:20.157+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6f9f73] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.158+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a3474d1]
2026-01-06T17:18:20.159+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:18:20.169+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@406505620 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:18:20.169+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.170+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d57309a]
2026-01-06T17:18:20.171+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:20.171+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7febb2d7] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.172+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.172+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:20.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@109101831 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:20.175+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a4beaf] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.176+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:20.184+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@64198945 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:20.189+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:20.192+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:18:20.203+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:18:20.203+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:20.207+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6f9f73]
2026-01-06T17:18:20.208+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:18:20.209+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:20.216+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7febb2d7]
2026-01-06T17:18:20.217+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.217+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bdd2264] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.217+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:18:20.217+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:18:20.218+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a4beaf]
2026-01-06T17:18:20.218+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030198466 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:20.219+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:20.219+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.220+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:20.224+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c54e72b] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.224+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:20.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@780629448 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:20.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:20.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:20.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:20.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bdd2264]
2026-01-06T17:18:20.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7754e563] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:20.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160259567 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:20.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c54e72b]
2026-01-06T17:18:20.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:20.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.238+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:18:20.238+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42676844] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.239+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1233236636 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:20.240+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:18:20.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:18:20.242+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:18:20.248+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7754e563]
2026-01-06T17:18:20.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:18:20.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@695d8cc] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42676844]
2026-01-06T17:18:20.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1446664832 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:18:20.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:18:20.253+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:20.253+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a4448d5] was not registered for synchronization because synchronization is not active
2026-01-06T17:18:20.254+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:20.254+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@51915409 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:18:20.255+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:18:20.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:18:20.257+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:20.258+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@695d8cc]
2026-01-06T17:18:20.264+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:20.267+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:18:20.270+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:18:20.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a4448d5]
2026-01-06T17:18:20.273+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:18:20.276+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:18:20.291+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:18:20.303+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:41.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:19:41.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:19:41.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:41.283+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:19:41.303+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:19:41.306+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:19:41.306+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:41.313+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:19:41.340+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/29
2026-01-06T17:19:41.353+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:19:41.353+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/29
2026-01-06T17:19:41.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:19:41.353+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:19:41.353+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:19:41.355+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:19:41.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.353+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:19:41.354+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:19:41.360+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:19:41.354+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:41.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c127126] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.357+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:19:41.362+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:19:41.363+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:19:41.365+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:19:41.365+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.386+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:19:41.387+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1331366779 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:19:41.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.387+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.389+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2510ebf] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:19:41.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3008615] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.399+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a5c378] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.406+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:19:41.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1423196486 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:19:41.424+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:19:41.432+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:19:41.437+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701733573 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:19:41.438+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@736812643 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:19:41.438+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:19:41.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:19:41.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:19:41.454+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:19:41.454+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c127126]
2026-01-06T17:19:41.455+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:19:41.455+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:19:41.456+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2510ebf]
2026-01-06T17:19:41.457+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.463+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f8aaa88] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e28cbd0] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1203306778 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:19:41.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1267054638 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:19:41.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:19:41.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:41.466+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:19:41.466+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:41.472+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:19:41.472+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:41.472+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:19:41.473+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:19:41.473+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f8aaa88]
2026-01-06T17:19:41.486+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e28cbd0]
2026-01-06T17:19:41.487+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3008615]
2026-01-06T17:19:41.487+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a5c378]
2026-01-06T17:19:41.488+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.488+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.488+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.488+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:41.489+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43c42520] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.489+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d70604] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.490+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373e01f5] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.490+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:19:41.499+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2040531258 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:19:41.501+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:19:41.499+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1105799845 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:19:41.501+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@694237123 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:19:41.502+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:41.503+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:19:41.504+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:19:41.506+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:19:41.516+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:19:41.517+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:19:41.531+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:19:41.532+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:19:41.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373e01f5]
2026-01-06T17:19:41.532+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:19:41.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d70604]
2026-01-06T17:19:41.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43c42520]
2026-01-06T17:19:41.534+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.534+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4143bd56] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.534+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.535+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72c0a2b8] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.535+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@112540962 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:19:41.536+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:19:41.535+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5044f6a1] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.536+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1125547458 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:19:41.540+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:19:41.540+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@843789484 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:19:41.549+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:41.550+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:19:41.552+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:41.553+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:19:41.556+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:19:41.557+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4143bd56]
2026-01-06T17:19:41.557+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.558+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dde1b26] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.563+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@28026054 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:19:41.564+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:19:41.566+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:19:41.587+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:19:41.587+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:41.588+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:19:41.589+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5044f6a1]
2026-01-06T17:19:41.590+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72c0a2b8]
2026-01-06T17:19:41.590+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dde1b26]
2026-01-06T17:19:41.590+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.592+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:41.599+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:41.600+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e766df6] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.600+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:19:41.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e0a6f22] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:41.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@972057447 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:19:41.602+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:41.606+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1931495662 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:19:41.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:41.613+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:41.618+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:41.619+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:41.631+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:41.632+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:41.633+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e766df6]
2026-01-06T17:19:41.633+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e0a6f22]
2026-01-06T17:19:41.633+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:41.633+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:41.634+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:19:41.634+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:19:41.636+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:41.639+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:43.824+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:43.824+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:19:43.835+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:19:43.835+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:43.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:19:43.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:19:43.844+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:43.845+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:19:43.862+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:43.863+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:19:43.869+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:19:43.870+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:43.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:19:43.894+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:19:43.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:19:43.888+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:19:43.888+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:19:43.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:19:43.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:19:43.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:43.913+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:19:43.914+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:19:43.914+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:19:43.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:19:43.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:43.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:19:43.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:19:43.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:19:43.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:19:43.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:19:43.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:19:43.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:19:43.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:19:43.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:19:43.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:19:43.917+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:19:43.918+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:19:43.918+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:43.918+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:19:43.918+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:43.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:43.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:43.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:43.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:43.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2c762b] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:43.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@476e98ef] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:43.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23828774] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:43.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31e02453] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:43.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60a8c4c] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:43.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41ada5db] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:43.923+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@362015501 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:19:43.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1805652542 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:19:43.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@990300875 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:19:43.932+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:19:43.932+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:43.933+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:19:43.937+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:19:43.934+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@910825666 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:19:43.934+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@106464888 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:19:43.935+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:19:43.935+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1589078093 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:19:43.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:43.938+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:19:43.938+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:19:43.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:43.940+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:19:43.942+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:19:43.945+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:19:43.945+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:43.946+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:19:43.946+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:43.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@476e98ef]
2026-01-06T17:19:43.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2c762b]
2026-01-06T17:19:43.948+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23828774]
2026-01-06T17:19:43.949+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:43.949+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:43.950+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:43.955+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d360736] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:43.956+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:19:43.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e924455] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:43.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:19:43.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:19:43.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:43.961+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1661633707 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:19:43.963+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:43.964+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@463786087 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:19:43.964+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41ada5db]
2026-01-06T17:19:43.965+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31e02453]
2026-01-06T17:19:43.966+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60a8c4c]
2026-01-06T17:19:43.966+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:43.968+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:43.968+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:43.968+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:43.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:43.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:43.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:43.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:43.971+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:19:43.971+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b1f747d] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:43.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:19:43.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775b151e] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:43.981+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450904887 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:19:43.981+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:43.982+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:43.973+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:43.979+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161627542 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:19:43.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:43.980+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:19:43.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:19:43.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:43.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:19:44.002+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:19:43.998+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:19:44.003+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.004+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:19:44.004+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@170dfc00] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.004+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:19:44.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@843701156 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:19:44.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:19:44.006+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.013+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ffcdab] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:19:44.015+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@782573889 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:19:44.016+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.016+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:19:44.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:19:44.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d360736]
2026-01-06T17:19:44.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e924455]
2026-01-06T17:19:44.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:19:44.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:19:44.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775b151e]
2026-01-06T17:19:44.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b1f747d]
2026-01-06T17:19:44.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12e83988] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.022+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f54b806] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@170dfc00]
2026-01-06T17:19:44.030+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:44.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:19:44.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.033+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a8b384f] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.024+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:19:44.024+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@268079956 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:19:44.029+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@868804437 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:19:44.032+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:44.036+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@894909925 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:19:44.036+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c199811] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ffcdab]
2026-01-06T17:19:44.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:19:44.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:19:44.038+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:19:44.040+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1283831155 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:19:44.040+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.045+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:19:44.047+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:19:44.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:19:44.049+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:19:44.049+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6007fa92] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:19:44.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1746792876 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:19:44.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:19:44.059+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:19:44.067+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:44.067+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12e83988]
2026-01-06T17:19:44.067+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f54b806]
2026-01-06T17:19:44.069+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:44.069+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.070+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.078+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2aafce] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.071+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:19:44.077+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c35b781] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.084+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@872723077 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:19:44.085+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a8b384f]
2026-01-06T17:19:44.086+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1069737974 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:19:44.088+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:44.090+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.091+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:44.091+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:19:44.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:44.105+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57592f5b] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:44.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c199811]
2026-01-06T17:19:44.107+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@349383871 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:19:44.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:44.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e7286f2] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.118+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:44.118+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1577799741 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:19:44.122+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:44.123+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.155+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6007fa92]
2026-01-06T17:19:44.156+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.156+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d79f36d] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.154+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:44.154+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.154+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.155+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.163+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@49627450 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:19:44.165+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2aafce]
2026-01-06T17:19:44.165+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c35b781]
2026-01-06T17:19:44.165+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57592f5b]
2026-01-06T17:19:44.178+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.179+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fad49f0] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.180+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1628476073 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:19:44.181+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:19:44.182+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:19:44.165+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:19:44.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.175+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:44.187+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:19:44.186+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:19:44.186+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fba109a] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.188+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:44.200+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@79003772 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:19:44.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:19:44.222+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:19:44.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e7286f2]
2026-01-06T17:19:44.224+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fad49f0]
2026-01-06T17:19:44.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:19:44.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:19:44.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:44.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d79f36d]
2026-01-06T17:19:44.254+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:19:44.254+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48f6339b] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.255+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:44.262+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1560351164 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:19:44.262+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41c5f160] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.267+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:19:44.270+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1404403886 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d9a1155] will not be managed by Spring
2026-01-06T17:19:44.271+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:19:44.271+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:44.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:44.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:19:44.283+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fba109a]
2026-01-06T17:19:44.289+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.301+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@452e33bd] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.302+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1243600194 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:19:44.330+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:19:44.339+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48f6339b]
2026-01-06T17:19:44.339+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.340+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9e627f] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.339+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:19:44.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1913516668 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:19:44.352+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:44.352+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:19:44.353+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:44.386+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.406+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41c5f160]
2026-01-06T17:19:44.406+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.406+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:44.408+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:19:44.411+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9e627f]
2026-01-06T17:19:44.411+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:19:44.411+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@452e33bd]
2026-01-06T17:19:44.412+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.413+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.413+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:44.414+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@152c72d8] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.415+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5353578a] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1842964376 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:19:44.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1733571974 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:19:44.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:19:44.423+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:44.424+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:44.423+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:19:44.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:19:44.472+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5353578a]
2026-01-06T17:19:44.473+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@152c72d8]
2026-01-06T17:19:44.473+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.474+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.477+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@396ee07e] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.478+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73063637] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.479+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1883770846 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:19:44.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@97132605 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:19:44.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:19:44.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:44.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:19:44.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:44.517+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:19:44.531+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@396ee07e]
2026-01-06T17:19:44.536+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.540+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:19:44.543+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73063637]
2026-01-06T17:19:44.545+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f95e160] was not registered for synchronization because synchronization is not active
2026-01-06T17:19:44.546+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:44.553+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@28739068 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:19:44.555+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:19:44.556+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:19:44.557+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:19:44.565+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:19:44.588+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:19:44.589+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f95e160]
2026-01-06T17:19:44.600+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:19:44.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:19:44.602+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:07.983+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:07.984+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:30:07.986+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:30:07.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:30:07.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:07.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:30:08.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:08.009+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:30:08.011+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:30:08.013+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:08.013+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:30:08.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:08.024+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:30:08.054+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:08.054+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:30:08.024+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:08.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:30:08.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:08.057+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:30:08.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:30:08.050+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:30:08.064+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/companies
2026-01-06T17:30:08.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:08.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:30:08.057+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:08.062+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:30:08.064+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:30:08.065+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:30:08.084+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:08.084+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:30:08.094+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:08.095+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:30:08.102+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:30:08.149+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:30:08.153+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:08.155+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:30:08.155+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:08.155+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:30:08.156+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:30:08.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:30:08.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.171+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.172+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:30:08.172+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.172+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c9610de] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.172+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4469009] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70a7cc0d] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.185+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4022aed1] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.199+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.199+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f627bbc] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.204+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30a582d5] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.213+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@503750697 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:08.213+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2105139925 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:08.213+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@304919051 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:08.216+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:08.217+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1815340128 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:08.218+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744847021 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:08.219+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:08.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:30:08.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:08.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:08.231+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:08.232+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:30:08.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:08.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:08.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2026-01-06T17:30:08.279+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:08.280+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:30:08.280+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:08.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:08.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-06T17:30:08.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70a7cc0d]
2026-01-06T17:30:08.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4469009]
2026-01-06T17:30:08.285+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4022aed1]
2026-01-06T17:30:08.286+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c9610de]
2026-01-06T17:30:08.286+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f627bbc]
2026-01-06T17:30:08.288+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1710689746 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:08.288+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:08.290+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.295+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.305+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:08.307+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:08.320+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:30:08.321+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:08.321+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2e17c5] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.322+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2346cb8e] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.322+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:08.322+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:30:08.339+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:08.397+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:08.429+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@286236097 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:08.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:08.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:08.438+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@30457362 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:08.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:08.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:08.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:08.453+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:08.515+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:08.454+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:30:08.468+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:30:08.488+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:08.489+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:30:08.512+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:08.520+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:30:08.522+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:30:08.523+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2e17c5]
2026-01-06T17:30:08.536+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30a582d5]
2026-01-06T17:30:08.537+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:08.537+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:30:08.573+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:30:08.583+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:08.587+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.588+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.635+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:08.646+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:30:08.699+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:30:08.712+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2346cb8e]
2026-01-06T17:30:08.724+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c94d178] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.730+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a3c51ae] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.730+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:08.731+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:30:08.745+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:30:08.746+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.747+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1715369232 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:08.755+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160917586 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:08.755+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.755+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.756+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.756+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390291f4] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.770+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:08.770+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:08.770+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f3e42bb] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.781+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb657bf] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.782+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13240bf7] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.782+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@747448289 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:08.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:30:08.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:08.786+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@242646370 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:08.797+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2022119006 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:08.802+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@587649800 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:08.805+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:08.815+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:08.818+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:30:08.820+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:08.821+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:30:08.821+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:08.822+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:08.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:08.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:08.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:08.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c94d178]
2026-01-06T17:30:08.823+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a3c51ae]
2026-01-06T17:30:08.834+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.835+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:08.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.840+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5039e0fc] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.839+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bfe4135] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.839+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390291f4]
2026-01-06T17:30:08.848+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2023778932 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:08.848+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@823875107 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:08.850+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:08.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:08.854+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:30:08.853+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402775cf] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.854+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:08.855+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1829228814 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:08.856+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:08.869+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:08.872+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:08.872+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:08.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:30:08.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:08.880+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13240bf7]
2026-01-06T17:30:08.881+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bfe4135]
2026-01-06T17:30:08.881+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb657bf]
2026-01-06T17:30:08.881+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f3e42bb]
2026-01-06T17:30:08.884+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:30:08.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.888+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:08.898+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.899+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:08.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5039e0fc]
2026-01-06T17:30:08.902+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16be652c] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.903+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:30:08.904+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53825c9e] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.904+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:08.904+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:08.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@973795035 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:08.913+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:08.914+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:08.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:08.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@173077246 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:08.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:08.912+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e1757] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:08.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:08.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@442444036 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:08.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:08.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:08.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:08.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:08.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:30:08.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:08.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402775cf]
2026-01-06T17:30:08.955+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:08.956+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:08.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:08.996+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:30:09.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:09.004+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.007+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16be652c]
2026-01-06T17:30:09.007+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53825c9e]
2026-01-06T17:30:09.013+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e1757]
2026-01-06T17:30:09.014+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:30:09.028+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:30:09.015+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:09.015+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@495a437e] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.017+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:09.028+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:30:09.029+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:09.030+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841539223 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:09.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f29c03e] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a2d30d9] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.038+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:30:09.047+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:09.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:09.050+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524323826 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:09.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1259006894 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:09.052+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:09.053+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@564be926] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.054+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:09.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:09.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:09.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@565917051 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:09.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ad290be] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.070+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:09.081+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:09.081+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:30:09.082+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:30:09.082+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1657246232 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:09.083+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:09.084+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:09.088+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:09.099+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:30:09.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:30:09.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:30:09.107+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:09.114+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:09.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@564be926]
2026-01-06T17:30:09.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a2d30d9]
2026-01-06T17:30:09.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f29c03e]
2026-01-06T17:30:09.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@495a437e]
2026-01-06T17:30:09.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@396a5aa4] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25865ab7] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@811701878 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:09.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17cb5f50] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ba54062] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1187912998 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:09.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:09.118+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:09.118+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1720866215 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:09.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1358932955 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:09.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:09.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:09.120+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:09.120+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:09.121+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:09.122+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:09.131+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:09.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ad290be]
2026-01-06T17:30:09.143+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:09.145+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:09.145+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:09.147+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:09.177+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:09.160+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:09.169+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:09.169+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@396a5aa4]
2026-01-06T17:30:09.170+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:09.187+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25865ab7]
2026-01-06T17:30:09.181+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:09.183+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:09.183+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17cb5f50]
2026-01-06T17:30:09.187+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ba54062]
2026-01-06T17:30:09.187+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b0b8903] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.212+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348426684 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:09.188+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:09.189+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:09.193+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:30:09.196+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.206+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.212+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:09.213+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:30:09.213+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:09.213+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16928fe] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.214+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d646dc] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.215+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:30:09.215+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:30:09.217+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:09.220+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1284888156 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:09.228+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@59882676 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:09.228+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:30:09.238+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f5d6cf0] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.239+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:09.245+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:09.246+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:30:09.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:30:09.258+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:30:09.254+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110323143 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:09.255+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:09.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:09.257+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b0b8903]
2026-01-06T17:30:09.261+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.262+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:09.265+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.270+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f54c390] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.267+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe8cb4b] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.270+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:09.279+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@149949672 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:09.280+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@847149975 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:09.281+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:09.281+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:30:09.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:09.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:09.291+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:09.303+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d646dc]
2026-01-06T17:30:09.303+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:09.303+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:09.303+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:09.304+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:30:09.305+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.305+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16928fe]
2026-01-06T17:30:09.305+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f54c390]
2026-01-06T17:30:09.306+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f5d6cf0]
2026-01-06T17:30:09.315+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe8cb4b]
2026-01-06T17:30:09.315+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@320fc63b] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.318+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.319+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:09.319+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:09.321+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.322+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@692bc6b5] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.322+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648334336 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:09.322+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:30:09.334+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:09.335+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f5318f] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.340+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@567098806 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:09.344+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:09.345+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:09.348+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:09.345+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:09.347+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2114848425 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:09.347+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:09.354+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:09.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:09.357+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:09.383+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:09.389+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@320fc63b]
2026-01-06T17:30:09.399+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:09.399+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:09.405+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.405+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f5318f]
2026-01-06T17:30:09.405+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@692bc6b5]
2026-01-06T17:30:09.406+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ee1f07] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.414+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.414+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.415+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1696348703 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:09.416+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a67a33] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.416+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f722b2d] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.417+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:09.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1522618977 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:09.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@945506840 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:09.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:09.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:09.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:09.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:30:09.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:09.430+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:09.430+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:30:09.430+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:09.437+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ee1f07]
2026-01-06T17:30:09.438+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a67a33]
2026-01-06T17:30:09.438+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f722b2d]
2026-01-06T17:30:09.438+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:09.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:30:09.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c82f4] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.477+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1997276980 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:09.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727e21cb] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:09.478+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:09.504+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:09.503+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1816872938 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:09.506+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:09.515+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:09.522+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:09.537+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c82f4]
2026-01-06T17:30:09.538+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:09.548+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:09.550+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727e21cb]
2026-01-06T17:30:09.551+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:30:09.552+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:09.553+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:09.554+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61ff48ad] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:09.555+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1644977440 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:09.573+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:09.574+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:09.621+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:09.643+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61ff48ad]
2026-01-06T17:30:09.644+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:09.734+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:30:09.736+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:21.283+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-06T17:30:21.286+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-06T17:30:21.293+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/logout
2026-01-06T17:30:21.294+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-06T17:30:21.296+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-06T17:30:21.297+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-06T17:30:21.298+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-06T17:30:21.301+09:00  INFO 8092 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=2
2026-01-06T17:30:21.303+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:21.304+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-06T17:30:21.305+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:24.321+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-06T17:30:24.324+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-06T17:30:24.324+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-06T17:30:24.325+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-06T17:30:24.325+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-06T17:30:24.325+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-06T17:30:24.326+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2026-01-06T17:30:24.326+09:00  INFO 8092 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2026-01-06T17:30:24.327+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:24.328+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@767293de] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:24.331+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@639803521 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:24.332+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-06T17:30:24.333+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2026-01-06T17:30:24.336+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-06T17:30:24.337+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@767293de]
2026-01-06T17:30:24.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:24.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ea1d12] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:24.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@11714235 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:24.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-06T17:30:24.421+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2026-01-06T17:30:24.423+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-06T17:30:24.424+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ea1d12]
2026-01-06T17:30:24.425+09:00  INFO 8092 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: USER, companyId: 2
2026-01-06T17:30:24.425+09:00  INFO 8092 --- [http-nio-8080-exec-6] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=USER
2026-01-06T17:30:24.426+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:24.426+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2026-01-06T17:30:24.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:24.836+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:30:24.839+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:30:24.843+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/companies
2026-01-06T17:30:24.846+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:30:24.846+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:30:24.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:30:24.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:24.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a7a3d0] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:24.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@45709959 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:24.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:30:24.854+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2026-01-06T17:30:24.856+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-06T17:30:24.857+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a7a3d0]
2026-01-06T17:30:24.860+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:24.862+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:30:24.864+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:24.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:24.992+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:30:25.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:30:25.001+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.001+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:30:25.002+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:30:25.033+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:25.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:30:25.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:30:25.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.033+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:30:25.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:30:25.046+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:25.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:30:25.046+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:30:25.047+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:25.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.053+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:25.052+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:30:25.052+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:30:25.052+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:25.053+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:25.053+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:30:25.054+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:30:25.054+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.062+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.063+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50f292b1] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.054+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:30:25.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.070+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@559b2972] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.073+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d9309d9] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.061+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:30:25.064+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:25.071+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:30:25.089+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:30:25.092+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:30:25.100+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:30:25.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.102+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@389c682e] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.081+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332066559 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:25.103+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:25.083+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.114+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:25.085+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@811020893 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:25.114+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@830003c] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1347547288 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:25.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:25.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1696292090 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:25.117+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:25.118+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:25.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:25.120+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:25.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1107180599 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:25.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d9309d9]
2026-01-06T17:30:25.121+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.121+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:30:25.123+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.123+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2b06a7] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.123+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:25.123+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.130+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:25.123+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:25.131+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@559b2972]
2026-01-06T17:30:25.126+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:25.130+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50f292b1]
2026-01-06T17:30:25.131+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:25.131+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:25.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.140+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5d7d27] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.143+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1936476507 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:25.144+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.138+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:30:25.139+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:25.146+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.147+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1466902307 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:25.147+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:25.147+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.148+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:30:25.149+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:25.149+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:30:25.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:30:25.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@389c682e]
2026-01-06T17:30:25.153+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@830003c]
2026-01-06T17:30:25.156+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:25.164+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:30:25.165+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:30:25.165+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5d7d27]
2026-01-06T17:30:25.165+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:30:25.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-06T17:30:25.168+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.168+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cfb00d5] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.169+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e7faf6] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.169+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:25.170+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:30:25.170+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-06T17:30:25.170+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30aa1829] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.171+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1461944545 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:25.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@629931870 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:25.171+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@447413291 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:25.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.171+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2b06a7]
2026-01-06T17:30:25.179+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:25.180+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:25.181+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:25.172+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.189+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb090bc] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.193+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@461502098 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:25.194+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:30:25.172+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:30:25.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.173+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:25.179+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.188+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.195+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:25.196+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.197+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.199+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:25.202+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:25.202+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbb1416] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.203+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:25.204+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@176137972 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:25.204+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:25.204+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.204+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:25.209+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.210+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.211+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe22f5a] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.213+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@544739801 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:25.216+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:25.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.221+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:30:25.222+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:25.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:25.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cfb00d5]
2026-01-06T17:30:25.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbb1416]
2026-01-06T17:30:25.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e7faf6]
2026-01-06T17:30:25.223+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb090bc]
2026-01-06T17:30:25.226+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30aa1829]
2026-01-06T17:30:25.227+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.228+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.230+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4851e87e] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.228+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.231+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f3fa98] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.228+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.229+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.229+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715c6948] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.231+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@227499718 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:25.232+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1825344602 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:25.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e4a78b] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c21ffd3] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@97858078 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:25.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.236+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:25.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1262216827 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:25.243+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@749395246 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:25.243+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:25.243+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:25.244+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.244+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:30:25.244+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.244+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.246+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:25.246+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe22f5a]
2026-01-06T17:30:25.246+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.248+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.248+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.248+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:30:25.249+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:25.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4851e87e]
2026-01-06T17:30:25.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:25.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f3fa98]
2026-01-06T17:30:25.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.255+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:25.255+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715c6948]
2026-01-06T17:30:25.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c21ffd3]
2026-01-06T17:30:25.256+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e4a78b]
2026-01-06T17:30:25.258+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:25.264+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33faa05e] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.264+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.265+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e8c5b4] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.265+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aa957f] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.265+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.276+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e78e77] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1949281351 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:25.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e6460b] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1546898443 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:25.273+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1136012766 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:25.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@205240351 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:25.279+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:25.281+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@862088534 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:25.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:25.283+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:25.285+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:25.285+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.285+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.287+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:25.287+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:30:25.295+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.308+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.311+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:25.312+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:30:25.317+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e8c5b4]
2026-01-06T17:30:25.318+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aa957f]
2026-01-06T17:30:25.319+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e78e77]
2026-01-06T17:30:25.320+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:25.320+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.321+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.321+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:30:25.321+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6242ac06] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.321+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12509ddd] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.323+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:25.323+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@907533404 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:25.328+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@644890070 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:25.330+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.331+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:25.337+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:25.337+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.338+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e6460b]
2026-01-06T17:30:25.338+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33faa05e]
2026-01-06T17:30:25.342+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:25.342+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.342+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.343+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.346+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d452c] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.346+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796730b2] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.347+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@370707858 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:25.347+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@528062352 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:25.347+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:25.347+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.348+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.348+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:25.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.348+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:25.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12509ddd]
2026-01-06T17:30:25.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6242ac06]
2026-01-06T17:30:25.350+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:25.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:30:25.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:25.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.352+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796730b2]
2026-01-06T17:30:25.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32c02a2] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.352+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d452c]
2026-01-06T17:30:25.352+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:25.354+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.355+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1962523741 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:25.357+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.355+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@183920e4] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.362+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761c6c26] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.362+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.363+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1486578161 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:25.363+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428291052 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:25.364+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:25.365+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:25.366+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:25.368+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:25.369+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.370+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32c02a2]
2026-01-06T17:30:25.370+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.370+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ef9298] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.371+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:25.372+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@901096437 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:25.372+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@183920e4]
2026-01-06T17:30:25.372+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:25.373+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.373+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:25.377+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761c6c26]
2026-01-06T17:30:25.376+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:25.376+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77a1d495] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.377+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.380+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@642708613 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:25.381+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff3ac67] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.383+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:25.384+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1780191971 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:25.386+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:25.387+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:25.387+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.387+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ef9298]
2026-01-06T17:30:25.388+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.388+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.389+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5311c901] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.394+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2042686121 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:25.397+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.397+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.398+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff3ac67]
2026-01-06T17:30:25.397+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:25.398+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.400+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.400+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77a1d495]
2026-01-06T17:30:25.402+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b89f7c9] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.403+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.403+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1769730635 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:25.403+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f1c70a] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.404+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.404+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:25.404+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@973973149 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:25.404+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5311c901]
2026-01-06T17:30:25.405+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:25.405+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:25.409+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.409+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:30:25.411+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:25.417+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.417+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:25.418+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f1c70a]
2026-01-06T17:30:25.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b89f7c9]
2026-01-06T17:30:25.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.420+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec848a] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.421+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b96cdd6] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1332271690 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:25.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1340425426 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:25.426+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:25.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.430+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:25.431+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:25.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec848a]
2026-01-06T17:30:25.437+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b96cdd6]
2026-01-06T17:30:25.438+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:25.438+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:25.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d3124e] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:25.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:30:25.445+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@561845994 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:25.446+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:25.446+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:25.447+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:25.468+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:25.483+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d3124e]
2026-01-06T17:30:25.485+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:25.486+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:30:25.488+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:26.941+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=100&status%5B%5D=WAIT&drafterName=test_user1
2026-01-06T17:30:26.949+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=100&status%5B%5D=WAIT&drafterName=test_user1
2026-01-06T17:30:26.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:30:26.971+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=100&status%5B%5D=WAIT&drafterName=test_user1
2026-01-06T17:30:26.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=100&status%5B%5D=WAIT&drafterName=test_user1", parameters={masked}
2026-01-06T17:30:26.974+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:30:26.982+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:26.983+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@687c3c2a] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:26.984+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030932346 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:26.985+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:26.985+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:26.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:26.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@687c3c2a]
2026-01-06T17:30:26.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:26.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78edb64e] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:26.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693217195 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:26.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:26.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:26.999+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:26.999+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78edb64e]
2026-01-06T17:30:26.999+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:27.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a74f5e4] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:27.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1606313250 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:27.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:27.002+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), WAIT(String), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:27.004+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2026-01-06T17:30:27.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a74f5e4]
2026-01-06T17:30:27.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:27.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@547bd093] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:27.006+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@961401901 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:27.006+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:27.007+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:27.011+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:27.011+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@547bd093]
2026-01-06T17:30:27.012+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:27.012+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c855734] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:27.013+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@116449663 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:27.013+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:27.013+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:30:27.015+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:30:27.015+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c855734]
2026-01-06T17:30:27.016+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:27.016+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7513eee3] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:27.016+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1393109890 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:27.016+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:27.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), WAIT(String), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:27.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2026-01-06T17:30:27.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7513eee3]
2026-01-06T17:30:27.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:27.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e3d2aca] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:27.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884192024 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:27.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:27.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:27.024+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:27.026+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e3d2aca]
2026-01-06T17:30:27.026+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:27.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dfda86] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:27.028+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1426311021 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:27.028+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:27.029+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:30:27.030+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:30:27.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dfda86]
2026-01-06T17:30:27.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:27.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ec4c62] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:27.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@679197587 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:27.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:27.032+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:27.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:27.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ec4c62]
2026-01-06T17:30:27.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:27.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:30:27.036+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:28.472+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=100&status%5B%5D=PAID&drafterName=test_user1
2026-01-06T17:30:28.479+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=100&status%5B%5D=PAID&drafterName=test_user1
2026-01-06T17:30:28.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:30:28.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=100&status%5B%5D=PAID&drafterName=test_user1
2026-01-06T17:30:28.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=100&status%5B%5D=PAID&drafterName=test_user1", parameters={masked}
2026-01-06T17:30:28.482+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:30:28.483+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:28.484+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@669a0b4b] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:28.522+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1271310449 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:28.529+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:28.530+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:28.532+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:28.532+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@669a0b4b]
2026-01-06T17:30:28.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:28.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@effbca5] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:28.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498888893 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:28.534+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:28.535+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:28.536+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:28.536+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@effbca5]
2026-01-06T17:30:28.537+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:28.537+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12facec7] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:28.538+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1628652201 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:28.538+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:28.540+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), PAID(String), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:28.545+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2026-01-06T17:30:28.547+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12facec7]
2026-01-06T17:30:28.549+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:28.550+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42fc8701] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:28.554+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@112522607 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:28.554+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:28.554+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:28.556+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:28.557+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42fc8701]
2026-01-06T17:30:28.561+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:28.564+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4558d082] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:28.565+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1664779175 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:28.565+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:28.565+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:30:28.567+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:30:28.567+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4558d082]
2026-01-06T17:30:28.569+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:28.569+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7037ad41] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:28.570+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1944628997 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:28.570+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:28.571+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), PAID(String), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:28.577+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2026-01-06T17:30:28.579+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7037ad41]
2026-01-06T17:30:28.579+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:28.580+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26f7c5c4] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:28.580+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1810315774 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:28.580+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:28.581+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:28.583+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:28.584+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26f7c5c4]
2026-01-06T17:30:28.585+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:28.586+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585726d1] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:28.586+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1075188218 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:28.587+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:28.588+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 28(Long)
2026-01-06T17:30:28.589+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:30:28.590+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585726d1]
2026-01-06T17:30:28.595+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:28.595+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466100a1] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:28.596+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@669107986 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:30:28.599+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:28.599+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:28.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:28.602+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466100a1]
2026-01-06T17:30:28.603+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:28.603+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:30:28.604+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:30.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:30.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:30:30.862+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:30:30.865+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:30.865+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:30:30.865+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:30:30.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:30.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:30:30.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:30:30.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:30.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:30:30.870+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:30:30.868+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:30.869+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:30:30.869+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:30:30.870+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:30:30.870+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:30.871+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:30:30.872+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:30:30.873+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:30.874+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.875+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:30:30.876+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.876+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e30964] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5204a7a1] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.878+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c6066c] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.879+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:30.880+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:30:30.881+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:30.884+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1911231450 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:30.884+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1895861345 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:30.884+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@324772367 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:30.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:30.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:30:30.886+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:30.887+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:30.888+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:30:30.889+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:30:30.894+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:30.897+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:30.898+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:30.898+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:30.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:30:30.904+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2026-01-06T17:30:30.904+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:30.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:30:30.907+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:30:30.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:30:30.906+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:30.909+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:30:30.911+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:30.912+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e30964]
2026-01-06T17:30:30.912+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:30.912+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:30:30.913+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.913+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:30:30.913+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5204a7a1]
2026-01-06T17:30:30.913+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.913+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c6066c]
2026-01-06T17:30:30.913+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:30:30.914+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@265f095b] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.914+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a72216] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:30.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@697cb2a9] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.915+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.916+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.918+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:30.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1228232548 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:30.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f9c6e2a] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@49115857 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:30.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1647765536 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:30.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52e94b0d] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:30.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:30.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693512660 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:30.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:30.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:30:30.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@915863686 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:30.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:30.923+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:30.925+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:30.927+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:30.928+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:30.931+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:30:30.928+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:30.929+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:30.933+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2026-01-06T17:30:30.934+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:30.934+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2026-01-06T17:30:30.935+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:30:30.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:30.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:30.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:30.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:30:30.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a72216]
2026-01-06T17:30:30.937+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@697cb2a9]
2026-01-06T17:30:30.938+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@265f095b]
2026-01-06T17:30:30.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f9c6e2a]
2026-01-06T17:30:30.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:30.939+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.945+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b802b24] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.942+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.945+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4df0e423] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.943+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:30.943+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7273896] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.944+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1354ac3c] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.944+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52e94b0d]
2026-01-06T17:30:30.945+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@296426541 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:30.951+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:30.946+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1091960526 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:30.946+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:30.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@467069798 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:30.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1158511976 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:30.949+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.951+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:30.951+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:30.952+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:30.953+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:30.953+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:30:30.954+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76e2986e] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.954+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:30:30.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1850410140 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:30.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:30.962+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:30:30.966+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:30.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:30.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:30.967+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b802b24]
2026-01-06T17:30:30.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:30:30.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:30.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:30:30.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d492e84] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.971+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:30:30.978+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1195045122 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:30.979+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:30:30.981+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:30.981+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:30:30.981+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:30:30.982+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:30.986+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:30.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76e2986e]
2026-01-06T17:30:30.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4df0e423]
2026-01-06T17:30:30.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1354ac3c]
2026-01-06T17:30:30.987+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7273896]
2026-01-06T17:30:30.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:30:30.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6baef339] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.988+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7f496] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:30.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:30.989+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1877791091 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:30.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d48887b] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.996+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1236064575 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:30:30.996+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:30:30.996+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79db5d99] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:30.997+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:30:30.997+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@252398676 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:30.997+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:30.998+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:31.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1191590332 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:31.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 2(Long)
2026-01-06T17:30:31.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:30:31.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:31.002+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:31.012+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:31.003+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:31.005+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d492e84]
2026-01-06T17:30:31.014+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 2
2026-01-06T17:30:31.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b640aa] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.015+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:31.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@581919734 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:30:31.019+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:31.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7f496]
2026-01-06T17:30:31.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6baef339]
2026-01-06T17:30:31.020+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:31.021+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:31.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:31.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.026+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d48887b]
2026-01-06T17:30:31.026+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:31.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:30:31.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43578b40] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.029+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1602002728 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:31.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:31.028+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.032+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12790ab7] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.029+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:31.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:31.031+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:31.032+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79db5d99]
2026-01-06T17:30:31.033+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@995836883 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:31.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:31.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b640aa]
2026-01-06T17:30:31.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:31.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:31.036+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4df60013] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.036+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:31.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:31.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:30:31.039+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851960225 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:31.040+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43578b40]
2026-01-06T17:30:31.043+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:31.047+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:31.047+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bc1610] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:31.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:31.049+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12790ab7]
2026-01-06T17:30:31.049+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@684624428 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:31.050+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.050+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41ac06af] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.050+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:31.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@467308703 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:31.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long)
2026-01-06T17:30:31.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:31.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:31.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4df60013]
2026-01-06T17:30:31.052+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:31.053+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.054+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4817c09d] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.055+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:30:31.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@891070228 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:31.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bc1610]
2026-01-06T17:30:31.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:31.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:31.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:31.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41ac06af]
2026-01-06T17:30:31.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5076d013] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.063+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.063+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac13c62] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.063+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1733120155 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:30:31.064+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@192532203 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:31.064+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:31.064+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:31.065+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:30:31.065+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:31.065+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4817c09d]
2026-01-06T17:30:31.066+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:30:31.066+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.066+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b423f82] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.067+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1571225951 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:31.068+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:31.069+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:31.069+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5076d013]
2026-01-06T17:30:31.071+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:31.072+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:31.072+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[ExpenseReportDto(expenseReportId=29, draf (truncated)...]
2026-01-06T17:30:31.073+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 3
2026-01-06T17:30:31.073+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac13c62]
2026-01-06T17:30:31.073+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:31.074+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:31.076+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.077+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b423f82]
2026-01-06T17:30:31.078+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ef31d6f] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.079+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.079+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e91872] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.079+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1836190463 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:31.080+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:31.080+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@946702722 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:31.081+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:31.082+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:31.085+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:31.087+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:31.088+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ef31d6f]
2026-01-06T17:30:31.089+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.089+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b994829] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.089+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:31.090+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2111254608 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:31.092+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e91872]
2026-01-06T17:30:31.092+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:30:31.093+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.096+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long)
2026-01-06T17:30:31.096+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@492d248c] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.097+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@55418707 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:30:31.097+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:31.097+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:31.098+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2026-01-06T17:30:31.099+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b994829]
2026-01-06T17:30:31.100+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:30:31.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:31.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642bc735] was not registered for synchronization because synchronization is not active
2026-01-06T17:30:31.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@492d248c]
2026-01-06T17:30:31.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@85070745 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:30:31.102+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:31.103+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:30:31.103+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:30:31.103+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-06T17:30:31.104+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:30:31.121+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:30:31.121+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642bc735]
2026-01-06T17:30:31.122+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:30:31.122+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:30:31.123+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:02.126+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-06T17:33:02.132+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-06T17:33:02.135+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/logout
2026-01-06T17:33:02.145+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-06T17:33:02.160+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-06T17:33:02.161+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-06T17:33:02.164+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-06T17:33:02.171+09:00  INFO 8092 --- [http-nio-8080-exec-7] SECURITY                                 : LOGOUT userId=2
2026-01-06T17:33:02.183+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:02.185+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-06T17:33:02.191+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:06.123+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-06T17:33:06.125+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-06T17:33:06.127+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-06T17:33:06.128+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-06T17:33:06.128+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-06T17:33:06.134+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-06T17:33:06.136+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_accountant, password=1234)]
2026-01-06T17:33:06.150+09:00  INFO 8092 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: test_accountant
2026-01-06T17:33:06.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e3476dc] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.158+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294082945 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:06.159+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-06T17:33:06.159+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_accountant(String)
2026-01-06T17:33:06.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-06T17:33:06.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e3476dc]
2026-01-06T17:33:06.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f3cdf3] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@912864753 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:06.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-06T17:33:06.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 10(Long)
2026-01-06T17:33:06.257+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-06T17:33:06.258+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f3cdf3]
2026-01-06T17:33:06.261+09:00  INFO 8092 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 10, role: ACCOUNTANT, companyId: 2
2026-01-06T17:33:06.262+09:00  INFO 8092 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=10 username=test_accountant role=ACCOUNTANT
2026-01-06T17:33:06.262+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:06.263+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=10, username=test_accountant, pa (truncated)...]
2026-01-06T17:33:06.264+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:06.507+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:33:06.513+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:33:06.514+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/companies
2026-01-06T17:33:06.515+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:33:06.516+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:33:06.516+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:33:06.517+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.517+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@758776e3] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.518+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2065759327 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:06.518+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:33:06.518+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 10(Long)
2026-01-06T17:33:06.522+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-06T17:33:06.524+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@758776e3]
2026-01-06T17:33:06.524+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:06.525+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:33:06.525+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:06.596+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.597+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:06.600+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-06T17:33:06.602+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-06T17:33:06.602+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.602+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.629+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.630+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:06.630+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-06T17:33:06.650+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:33:06.664+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-06T17:33:06.665+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-06T17:33:06.631+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.633+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-06T17:33:06.667+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:06.635+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.646+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:06.677+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.646+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:06.666+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:33:06.668+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:33:06.668+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.669+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:06.678+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:06.678+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:06.680+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-06T17:33:06.680+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.680+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:06.682+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.689+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:06.683+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:06.684+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:06.684+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-06T17:33:06.685+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2162fd05] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.685+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:06.690+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:06.691+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.691+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:06.691+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:33:06.692+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.694+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.694+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@243f4b7d] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.694+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.696+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.696+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ffd4309] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.697+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@123ffcf5] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.698+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@344e3469] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.698+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d72b6b] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.699+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1841515388 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:06.700+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1367547515 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:06.708+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.708+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1808704244 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:06.709+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:06.709+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.710+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@183781376 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:06.710+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@128421657 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:06.710+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1166917698 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:06.710+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:06.712+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:06.713+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:06.715+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:06.715+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.716+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:06.721+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:06.725+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:06.726+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.735+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2026-01-06T17:33:06.726+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2162fd05]
2026-01-06T17:33:06.727+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2026-01-06T17:33:06.735+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@123ffcf5]
2026-01-06T17:33:06.740+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2026-01-06T17:33:06.740+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.741+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ffd4309]
2026-01-06T17:33:06.741+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.741+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@243f4b7d]
2026-01-06T17:33:06.742+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:06.742+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd3ee75] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.743+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28daa002] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.744+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.744+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@344e3469]
2026-01-06T17:33:06.744+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d72b6b]
2026-01-06T17:33:06.745+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1734235680 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:06.745+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd857c0] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.748+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1746411612 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:06.750+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e3d9e6] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.751+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:06.759+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.759+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.761+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1757985401 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:06.761+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.762+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@391174202 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:06.762+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:06.762+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5f58d4] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.763+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.764+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.765+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.765+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:06.766+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1261970276 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:06.767+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.768+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.775+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.782+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.792+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd3ee75]
2026-01-06T17:33:06.784+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.785+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.792+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e3d9e6]
2026-01-06T17:33:06.793+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.795+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:06.795+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd857c0]
2026-01-06T17:33:06.795+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5f58d4]
2026-01-06T17:33:06.796+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28daa002]
2026-01-06T17:33:06.796+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.797+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@362e2838] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.798+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.798+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.799+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.799+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf75c0e] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.800+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149028558 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:06.800+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@629ffaa1] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.801+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-06T17:33:06.801+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@732fcc12] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.810+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149350747 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:06.802+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cf7c25d] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.803+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23502495 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:06.806+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:06.807+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025951589 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:06.810+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:06.812+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@30455665 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:06.812+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:06.814+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:06.814+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:06.816+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.818+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:06.818+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:06.824+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:33:06.825+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:33:06.832+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:06.833+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:33:06.835+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:06.843+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:06.845+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:06.845+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@362e2838]
2026-01-06T17:33:06.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:33:06.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:33:06.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:33:06.847+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:06.848+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:06.849+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.849+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cf7c25d]
2026-01-06T17:33:06.849+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf75c0e]
2026-01-06T17:33:06.850+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@629ffaa1]
2026-01-06T17:33:06.850+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@732fcc12]
2026-01-06T17:33:06.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a641382] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.851+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.852+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.852+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@223120670 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:06.861+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e45b5c2] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.858+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e899da5] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.859+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c93a9a] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.860+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c63dfc] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.860+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d9bcf05] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.863+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.864+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1221922385 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:06.864+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@204360451 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:06.864+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@660084097 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:06.865+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605127319 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:06.865+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1079629304 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:06.865+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:06.865+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.866+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:06.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.867+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2026-01-06T17:33:06.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d9bcf05]
2026-01-06T17:33:06.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.878+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a641382]
2026-01-06T17:33:06.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c93a9a]
2026-01-06T17:33:06.877+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c63dfc]
2026-01-06T17:33:06.878+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e45b5c2]
2026-01-06T17:33:06.879+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:06.878+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.879+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.879+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:06.879+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.879+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=29, drafterId= (truncated)...]
2026-01-06T17:33:06.880+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f422b5] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.880+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7995cd] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.880+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=29, drafterId= (truncated)...]
2026-01-06T17:33:06.880+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f1804c7] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.881+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@277095977 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:06.882+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:06.881+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:06.881+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@661354467 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:06.882+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217078595 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:06.882+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:06.883+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:06.883+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.883+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:06.883+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:06.883+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:06.890+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-06T17:33:06.893+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:33:06.894+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-06T17:33:06.894+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-06T17:33:06.892+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:06.898+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:33:06.899+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:06.899+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:06.899+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:06.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25f91fe4] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@737111294 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:06.900+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@169d0b3b] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.901+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.901+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@425068149 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:06.901+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.901+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:06.905+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:06.908+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.909+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e899da5]
2026-01-06T17:33:06.910+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:06.911+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=29, drafterId= (truncated)...]
2026-01-06T17:33:06.913+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:06.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:06.924+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@169d0b3b]
2026-01-06T17:33:06.925+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.925+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:06.926+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f1804c7]
2026-01-06T17:33:06.926+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:06.926+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.926+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:06.927+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235b4342] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.927+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:06.927+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7995cd]
2026-01-06T17:33:06.927+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814709714 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:06.928+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.928+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:06.928+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:06.928+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@410b876e] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.928+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.928+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:33:06.928+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f422b5]
2026-01-06T17:33:06.929+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25f91fe4]
2026-01-06T17:33:06.929+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1088271743 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:06.929+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:06.929+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.929+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.930+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43fdf14d] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.930+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:06.930+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a4d047d] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.931+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@781635817 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:06.932+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.932+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1745778187 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:06.932+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.932+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:06.934+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:06.942+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:06.943+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a4d047d]
2026-01-06T17:33:06.943+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.943+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b00ecf] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.944+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@58497128 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:06.944+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:33:06.944+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.945+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235b4342]
2026-01-06T17:33:06.945+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.945+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:06.945+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.946+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43fdf14d]
2026-01-06T17:33:06.946+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3536f927] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.946+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.946+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1284439440 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:06.946+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f825d4d] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:06.947+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1406774377 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:06.948+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:06.949+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:06.951+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:06.951+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@410b876e]
2026-01-06T17:33:06.951+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:06.952+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73895957] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:06.953+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1734333336 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:06.956+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:06.957+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:07.001+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:07.001+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:07.001+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:07.057+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3536f927]
2026-01-06T17:33:07.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b00ecf]
2026-01-06T17:33:07.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:07.057+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f825d4d]
2026-01-06T17:33:07.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:07.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:07.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73895957]
2026-01-06T17:33:07.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:07.059+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@439cfb59] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:07.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@145dcbbc] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:07.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=29, drafterId= (truncated)...]
2026-01-06T17:33:07.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:07.059+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@773434962 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:07.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:07.059+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@901409166 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:07.059+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147e69df] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:07.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:07.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:07.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:07.061+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@763677158 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:07.061+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:07.061+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:07.061+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:07.114+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:07.114+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:07.114+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:07.131+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@439cfb59]
2026-01-06T17:33:07.131+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@145dcbbc]
2026-01-06T17:33:07.132+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147e69df]
2026-01-06T17:33:07.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:07.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:07.134+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:07.134+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7adcff4f] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:07.140+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aa92ef] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:07.141+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aaa0c4e] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:07.141+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581159806 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:07.142+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2026940717 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:07.142+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1836956757 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:07.143+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:07.143+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:07.143+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:07.144+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:07.145+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:07.146+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:07.197+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:07.197+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:07.197+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:07.212+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aa92ef]
2026-01-06T17:33:07.215+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aaa0c4e]
2026-01-06T17:33:07.216+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7adcff4f]
2026-01-06T17:33:07.218+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:07.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:07.225+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:07.226+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:33:07.226+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:33:07.227+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62fc5c6a] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:07.228+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:07.231+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:07.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2143810045 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:07.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:07.244+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:07.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:07.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62fc5c6a]
2026-01-06T17:33:07.258+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:07.259+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1b1f17] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:07.260+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1585711026 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:07.264+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:07.264+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:07.267+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:07.268+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1b1f17]
2026-01-06T17:33:07.269+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:07.276+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b1128b7] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:07.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@225738085 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:07.279+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:07.280+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:07.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:07.283+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b1128b7]
2026-01-06T17:33:07.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:07.292+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f2fd173] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:07.293+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@226038961 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:07.294+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:07.297+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:07.308+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:07.310+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f2fd173]
2026-01-06T17:33:07.311+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:07.312+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:33:07.313+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:10.190+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:10.190+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:10.192+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:33:10.193+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:10.193+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:10.194+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:33:10.197+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:10.199+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:10.200+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:10.201+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:10.205+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:33:10.209+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:10.210+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:10.213+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:33:10.219+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:10.229+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:10.230+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:33:10.231+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:10.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:10.240+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:33:10.242+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:10.242+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:10.247+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:33:10.248+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:10.249+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:10.249+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:33:10.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:10.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:10.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:33:10.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:10.257+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:10.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:10.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:33:10.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:10.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:10.252+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:33:10.261+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.261+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:10.275+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:33:10.277+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.279+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2241431b] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.277+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45c459b6] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.279+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.279+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.281+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a854d8b] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72c9818a] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.283+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2018273066 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:10.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c243cb1] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1453415919 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:10.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7f57d2] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.290+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:10.292+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:10.294+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:10.295+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:10.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2118774438 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:10.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@522667909 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:10.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2026-01-06T17:33:10.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1999350149 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:10.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1192342478 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:10.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:10.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2241431b]
2026-01-06T17:33:10.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:10.303+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45c459b6]
2026-01-06T17:33:10.301+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:10.301+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.301+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:10.302+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.302+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.310+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a952da1] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.307+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:10.307+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:10.307+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.309+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:10.311+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1027245433 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:10.313+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:10.315+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.315+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a854d8b]
2026-01-06T17:33:10.319+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:10.315+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.316+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:10.317+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72c9818a]
2026-01-06T17:33:10.318+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.318+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2026-01-06T17:33:10.324+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:10.324+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.326+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:10.327+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.327+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7f57d2]
2026-01-06T17:33:10.327+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c243cb1]
2026-01-06T17:33:10.328+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:10.331+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:10.331+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aa843c4] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.333+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.334+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.343+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16061bfb] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.340+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:10.340+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:10.342+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1303549324 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:10.342+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a64c4b] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.344+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1664952187 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:10.345+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:10.345+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:10.347+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.348+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.348+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1934041563 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:10.348+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.348+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:10.348+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:10.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a952da1]
2026-01-06T17:33:10.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:10.349+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.350+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.351+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:10.352+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.358+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aa843c4]
2026-01-06T17:33:10.352+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a4cd64c] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.352+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73eea2ed] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.359+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@15032596 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:10.357+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.358+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.358+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.360+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367929a3] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.359+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@846017828 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:10.359+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16061bfb]
2026-01-06T17:33:10.359+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:10.360+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d7afe5f] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.360+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a64c4b]
2026-01-06T17:33:10.360+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@251128523 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:10.360+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:10.361+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.361+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:33:10.361+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@599843352 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:10.363+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.363+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:10.364+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:10.364+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71eed914] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.365+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:10.365+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc4d526] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.366+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:33:10.366+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:10.367+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1460784401 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:10.369+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:10.370+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2025065697 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:10.372+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73eea2ed]
2026-01-06T17:33:10.373+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:10.374+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:10.375+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.375+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:33:10.376+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2026-01-06T17:33:10.376+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:10.377+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:10.377+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:10.380+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694faa04] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.381+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a4cd64c]
2026-01-06T17:33:10.381+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d7afe5f]
2026-01-06T17:33:10.383+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367929a3]
2026-01-06T17:33:10.383+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:33:10.386+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71eed914]
2026-01-06T17:33:10.384+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865450506 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:10.385+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.385+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:10.385+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.385+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:10.388+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.389+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef7308f] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:10.391+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58753832] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.391+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc4d526]
2026-01-06T17:33:10.391+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@124a30d1] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.392+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.392+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1389717931 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:10.392+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@658388654 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:10.393+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:10.393+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.394+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@359362037 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:10.395+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.399+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.395+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.398+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1882b9ae] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.399+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.400+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.400+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694faa04]
2026-01-06T17:33:10.400+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.401+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:10.400+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1921331837 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:10.403+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.400+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.402+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=29, drafterId= (truncated)...]
2026-01-06T17:33:10.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.408+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58753832]
2026-01-06T17:33:10.409+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:10.411+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef7308f]
2026-01-06T17:33:10.416+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.411+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.422+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41ca60f9] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.418+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13f63901] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.425+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814707802 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:10.425+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615645368 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:10.425+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:10.426+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:10.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:10.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:33:10.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@124a30d1]
2026-01-06T17:33:10.428+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:10.428+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=29, drafterId= (truncated)...]
2026-01-06T17:33:10.430+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:10.434+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.434+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1882b9ae]
2026-01-06T17:33:10.435+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.435+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25a8cc57] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@686448261 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:10.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:33:10.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:10.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13f63901]
2026-01-06T17:33:10.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:10.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153587c] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@600790886 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:10.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:10.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41ca60f9]
2026-01-06T17:33:10.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112a5e8] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332251291 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:10.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:10.445+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:10.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:10.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25a8cc57]
2026-01-06T17:33:10.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153587c]
2026-01-06T17:33:10.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:10.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3767a89d] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=29, drafterId= (truncated)...]
2026-01-06T17:33:10.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016829233 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:10.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:10.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:10.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:10.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112a5e8]
2026-01-06T17:33:10.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:10.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.456+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b77480d] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.457+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1071551854 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:10.458+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.458+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.462+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.463+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:10.463+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b77480d]
2026-01-06T17:33:10.463+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3767a89d]
2026-01-06T17:33:10.463+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@409b93ec] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ee2d74] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1362988242 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:10.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1548178548 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:10.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:10.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.466+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:10.466+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.468+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.468+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:10.468+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ee2d74]
2026-01-06T17:33:10.468+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@409b93ec]
2026-01-06T17:33:10.469+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.469+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.469+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15784dce] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.469+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6104cb] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.474+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@844781464 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:10.474+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@385479320 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:10.475+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.475+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:10.475+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.476+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:10.478+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.478+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:10.478+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6104cb]
2026-01-06T17:33:10.478+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15784dce]
2026-01-06T17:33:10.479+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:10.479+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:10.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5026a645] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:10.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:33:10.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@124229554 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:10.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:10.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:10.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:10.485+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:10.490+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5026a645]
2026-01-06T17:33:10.491+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:10.492+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:33:10.494+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:14.343+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:14.344+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:14.356+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:33:14.364+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:33:14.383+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:14.384+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:14.385+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:33:14.390+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:14.407+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:14.408+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:33:14.410+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:14.411+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:14.410+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:33:14.410+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:14.413+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:14.411+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:33:14.412+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:14.413+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:33:14.414+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:14.415+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:33:14.415+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.415+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:33:14.415+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.417+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44020446] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.416+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:33:14.416+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c60736e] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.417+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:33:14.418+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:33:14.426+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.426+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@997345159 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:14.428+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@311828045 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:14.428+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57328527] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.428+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7891a264] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.428+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:14.428+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:14.430+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:14.431+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:14.432+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1968447308 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:14.433+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:33:14.432+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@362065283 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:14.434+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:14.434+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:14.435+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:33:14.435+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2026-01-06T17:33:14.436+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44020446]
2026-01-06T17:33:14.439+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:14.440+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c60736e]
2026-01-06T17:33:14.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:14.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46d8ff1f] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:14.443+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:33:14.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:33:14.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1741582941 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:14.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7891a264]
2026-01-06T17:33:14.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:14.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57328527]
2026-01-06T17:33:14.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:14.446+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.447+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:14.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16666d4d] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@205566b1] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@559283249 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:14.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1534920879 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:14.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:33:14.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:33:14.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:14.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:14.458+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:14.459+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46d8ff1f]
2026-01-06T17:33:14.460+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.461+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:33:14.461+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c4f2aef] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.461+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@205566b1]
2026-01-06T17:33:14.461+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:33:14.462+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567491710 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:14.462+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.462+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16666d4d]
2026-01-06T17:33:14.462+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:14.463+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cff5448] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.463+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long)
2026-01-06T17:33:14.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@395630984 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:14.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f1e553] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:33:14.467+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1138290885 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:14.467+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:14.467+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:33:14.469+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:14.472+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2026-01-06T17:33:14.475+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c4f2aef]
2026-01-06T17:33:14.476+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:33:14.476+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.477+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cff5448]
2026-01-06T17:33:14.477+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fccba3b] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.477+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:33:14.477+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.477+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794242943 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:14.478+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f1e553]
2026-01-06T17:33:14.479+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e6e1fa] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.479+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:14.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@56472602 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:14.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:14.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487af5d2] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:33:14.483+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@566778611 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:14.483+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:14.483+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:33:14.483+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:14.484+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:14.484+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fccba3b]
2026-01-06T17:33:14.485+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:14.485+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:33:14.491+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=29, drafterId= (truncated)...]
2026-01-06T17:33:14.491+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e6e1fa]
2026-01-06T17:33:14.492+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:33:14.492+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.494+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2a77ea] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.492+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487af5d2]
2026-01-06T17:33:14.492+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:14.495+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@152155204 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:14.495+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:14.499+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:14.499+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482f24ac] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:14.500+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:14.500+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1466207262 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:14.500+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:14.502+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:14.503+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:14.507+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2a77ea]
2026-01-06T17:33:14.508+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:14.512+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:14.513+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:33:14.513+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482f24ac]
2026-01-06T17:33:14.514+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:14.516+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:14.516+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:33:14.517+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:18.272+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29/approve
2026-01-06T17:33:18.277+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/29/approve
2026-01-06T17:33:18.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/29/approve
2026-01-06T17:33:18.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/29/approve
2026-01-06T17:33:18.279+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/29/approve", parameters={}
2026-01-06T17:33:18.280+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#approveExpense(Long, ApprovalLineDto)
2026-01-06T17:33:18.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ApprovalLineDto(approvalLineId=null, expenseReportId=null, approverId=10, stepOrder=null, status=nul (truncated)...]
2026-01-06T17:33:18.374+09:00  INFO 8092 --- [http-nio-8080-exec-4] c.i.b.controller.ExpenseController       : 결재 승인 요청 - expenseId: 29, approverId: 10
2026-01-06T17:33:18.381+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:18.396+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4]
2026-01-06T17:33:18.401+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@724675080 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will be managed by Spring
2026-01-06T17:33:18.401+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:33:18.410+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:18.417+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:33:18.417+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4]
2026-01-06T17:33:18.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4] from current transaction
2026-01-06T17:33:18.419+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.updateApprovalLine             : ==>  Preparing: UPDATE approval_line_tb SET status = 'APPROVED', signature_data = ?, approval_date = NOW() WHERE expense_report_id = ? AND approver_id = ? AND company_id = ?
2026-01-06T17:33:18.426+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.updateApprovalLine             : ==> Parameters: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAADICAYAAADFjnuPAAAPQklEQVR4Aezdvatc1RoG8M0tgoWFoKggqCAhWIiohVbaJFZWKVKpVf4EBRsrsbWwEkmlFmJhIVam0iaIpZVEUBHBQiGFhRyEe/Oce+a4Z5+ZM98za+31E8fZ3/tdvzc8Z7POOPnP0dHRf70Y+DPgz4A/A+X9GfhP5x8CBAgQKFJAQBfZFkURILBQoIEDBHQDTTZEAgTqFBDQdfZN1QQINCAgoBtosiG2KGDMYxAQ0GPoojEQIDBKAQE9yrYaFAECYxAQ0GPoojGsKuB4AlUICOgq2qRIAgRaFBDQLXbdmAkQqEJAQFfRpv0W6W4ECJQhIKDL6IMqCBAgcEZAQJ8hsYEAAQJlCAjoVfvgeAIECOxJQEDvCdptCBAgsKqAgF5VzPEECBDYk8CWA3pPVbsNAQIEGhAQ0A002RAJEKhTQEDX2TdVEyCwZYESLyegS+yKmggQIHBXQEDfRfAvAQIEShQQ0CV2RU0EShNQz0EEBPRB2N2UAAECiwUE9GIjRxAgQOAgAgL6IOxuOi4BoyGwGwEBvRtXVyVAgMDGAgJ6Y0IXIECAwG4EBPRuXF31XwFLBAisKSCg14RzGgECBHYtIKB3Lez6BAgQWFNAQK8Jt63TXIcAAQLzBAT0PBnbCRAgcGABAX3gBrg9AQIE5gmUHdDzqradAAECDQgI6AaabIgECNQpIKDr7JuqCRAoW2Ar1QnorTC6CAECBLYvIKC3b+qKBAgQ2IqAgN4Ko4sQILCKgGOXExDQyzk5igABAnsXENB7J3dDAgQILCcgoJdzchSB/Qm4E4ETAQF9AuGNAAECpQkI6NI6oh4CBAicCAjoEwhvtQiok0A7AgK6nV4bKQEClQkI6MoaplwCBNoRENDj6rXRECAwIgEBPaJmGgoBAuMSENDj6qfRECAwIoGmAnpEfTMUAgQaEBDQDTTZEAkQqFNAQNfZN1UTINCAwL8B3cBgDZEAAQI1CQjomrqlVgIEmhIQ0E2122AJjFJgtIMS0KNtrYERIFC7gICuvYPqJ0BgtAICerStNTAC/xfw33oFBHS9vVM5AQIjFxDQI2+w4REgUK+AgK63dyrfhoBrEChYQEAX3BylESDQtoCAbrv/Rk+AQMECArrg5hy+NBUQIHBIAQF9SH33JkCAwDkCAvocHLsIECBwSAEBvb6+MwkQILBTAQG9U14XJ0CAwPoCAnp9O2cSIEBgpwI7C+idVu3iBAgQaEBAQDfQZEMkQKBOAQFdZ99UTYDAzgTKubCALqcXKiFAgMCUgICe4rBCgACBcgQEdDm9UAmBpQV++eWXpY/d8oEut0cBAb1HbLcisKpAgvjrr7/u3nvvve6dd97prl+/3l24cKG7ePHi8fujjz7affTRR12OW/Xaji9fQECX3yMVNiSQoE3g9oP4ypUr3VtvvXUc0NnX5/j999+PQ/vy5ctdgry/z3L9AgK6/h4aQUEC65aSYE4oP/nkk8eBOwziRdfN+QnyvLK86Hj76xAQ0HX0SZUjFUiYJlQzZZFQ/ueff5Ya6aVLl2Yel6foPE3nujMPsLEqAQFdVbsUOxaBBGjmlBPMCdXhuB577LHu7bff7m7cuNHdvHmz++STT46Xb9++3R0dHXXff//98fYcNzw3107YD7dbr09AQNfXs3orbrzyBGdCefLEnOUhyUsvvdQlhPNKQL/++utdtl27dq3Lcj+Qs31yXH97rplrC+lI1P0S0HX3T/WFC0xCefLJiwTnvCfmPCnnNQzbRUNMkOdJe3jeG2+84dMdi/AK3y+gC2+Q8uoUSDDnl36ZwkgozxtFQjUBmyfhPBHPO27R9pybJ+z+cXfu3Dn+CF5/m+W6BAR0Mf1SyFgEMrWQYM77vDE98sgj3Ztvvnk8nZGAnnfcKttznXvuuWfqlNSQHxZTG61UIyCgq2mVQksXyNRFgjlPzsNaJ0/KmcLIL/l++umn7t133x0etvF6Qr9/EeHc16hvWUDX1zMVFyiQaYz88m8YiAnmzA9nCiNPuJmK2GX5uUfu2b9HfnD01y3XI1BLQNcjqtLmBDKNkIAeDjxzwgnmvA/37XN9+ENjn/d2r80EBPRmfs5uXCDBPJzSyFNygjlPzo3zGP6GAgJ6Q0CntyuQJ9MEdF8g4Zx55uE0Q/8Yy40JbDBcAb0BnlPbFUg45xeCfYFMZSSc+9tKWPbDooQurFeDgF7PzVmNC7zwwgtTAnlyLmVK4+GHH56q7Y8//phat1KPgICup1cqLUQg0xp//vnnaTUPPPDA8fdinG448MLVq1enKkh9UxuKWlHMeQIC+jwd+wjMEMinNvqbb9261V89+PKzzz47VcPHH388tW6lHgEBXU+vVFqAQOae85qUMutzx5N9h3rPdEt/3jmfg+7XfKi63Hd1AQG9upkzGhb4+eef9zn6te+VkO6fPHzq7++zXK6AgC63NyorUGD4JNp/Ui2p3Ndee22qnG+++WZq3UodAgK6jj6pslCB4ZNqKWWmrv4PD9McpXRmtToE9Gpeji5IQCnnCzz33HNTB/z2229T61bKFxDQ5fdIhQUJ9J9KCyprZinPP//81PYff/xxat1K+QICuvweqbAggccff3yqmkwdTG0oaOX++++fqsY89BRHFSsCuoo2rVGkU3YikCfovCYXLzn0+nWm3uEvOLPNq2wBAV12f1RXoEB+ATcpq+TQG9Y2DOzJGLyXKyCgy+2NygoV6AddpjiGQVho2V2/7lJrVNe0QKMBPY1gjcAqAi+++OLU4d9+++3Ueikrwy9JunPnTimlqWNJAQG9JJTDCEwEMsXR/8tZf/jhh8muot6HX5J03333FVWfYhYLCOjFRo4gcEag/xG2Un9ROJx6Ga6fGZQNxQnMCujiilQQgdIE+tMcpc5DD+ecBXRpf4oW1yOgFxs5gsAZgeG32JX4ZUTDgM4PkjMDsaFoAQFddHsUV7JA5qIn9eVL/Et7Qh3+TzWTWkf9PrLBCeiRNdRw9ifQn+bIXUv7NMeHH36YsrwqFhDQFTdP6YcVyF8S2/80x1dffXXYggZ3/+yzz6a2PPHEE1PrVsoXENDl90iFBQtcu3bttLpSpjhSx5UrV7q8nxZ3d+GDDz64+1//1iQgoGvqllqLE+h/MX5+CZfXIYvM/S9evNjlvV9HfmHYnzPv77NcroCALrc3KqtAIKGX8JuUev369TNPrpN9u35/5ZVXujw5z7rPjRs3Zm22rXABAV14g5S3N4G1b5S56MnJmVZ4//33J6t7ec9H/C5cuNDNmwO/efNmlx8keynGTbYqIKC3yuliLQrkM9GXLl06HfoXX3xxZorhdOeWFvKDIB/ty3RGntpnXTZP9sJ5lkw92wR0Pb1SacECX3755Wl1Cc+EZt5PN25xIcH81FNPdXmfd4+nn366u337tifnLbof4lIC+hDqFd5TyecL5Gl1ONVx+fLl809acW8COVMZef/777/nnp0n+u+++27ufjvqERDQ9fRKpYULJBgT1JMy83SbKYi8T7at855AznXyft75mWfOU3PqOO84++oREND19EqlhQsknIeflkg4P/PMM13+p5EsLzuEHJtAfvDBB8+dynjooYe6BHKCOfPNqWHZeziufAEBvY0euQaBE4HJU+zJ6vHbX3/91b366qvnBm0OnIRyPio3eWKe9yX7k/v8+uuvxwEtmCM4vpeAHl9PjejAAgnLPNEOvzA/H4dL8OZ9WGLCOfvy1Dz8n0z6x+baeVLOK8v9fZbHJyCgx9dTIypAIOF569atLlMQw3LyCY88JSeUJ/tmhfZkX95znUyfJPjz9JxtXuMX2ENAjx/RCAnMEkhIZwpiVqDmKTlPzAnqLN97772zLnH8Mbk8Lec6/U+JzDzYxtEJCOjRtdSAShNIwM4L14RzQvrzzz/vJn+NVoI9v/g7Ojrqcu6sgC9tjOrZjYCA3o2rqxKYEsj0REI34Tu142Ql3yWdV/5i13zRfv6ew3zmOU/ZeWVu+uRQb3sUOPStBPShO+D+zQgkoBPU5z0R51MbearOKzCZp85r0Rx1jvUan4CAHl9PjahggYRzpi3yyvK8J+oMIfvyynEJ92zzaktAQLfVb6MtRCChm5DOpzLyVH316tXu5Zdf7jJXnTDO9skrx2V7IaX/W4alnQsI6J0TuwGB8wUSvp9++mmXL1xKWCeg8+R8/ln2tiAgoFvosjESIFClgICusm2KLl9AhQQ2FxDQmxu6AgECBHYiIKB3wuqiBAgQ2FxAQG9u6AqrCziDAIElBAT0EkgOIUCAwCEEBPQh1N2TAAECSwgI6CWQ9n2I+xEgQCACAjoKXgQIEChQQEAX2BQlESBAIAL1BXSq9iJAgEADAgK6gSYbIgECdQoI6Dr7pmoCBOoTWLliAb0ymRMIECCwHwEBvR9ndyFAgMDKAgJ6ZTInECCwCwHXPCsgoM+a2EKAAIEiBAR0EW1QBAECBM4KCOizJrYQKE9ARU0KCOgm227QBAjUICCga+iSGgkQaFJAQDfZ9rEN2ngIjFNAQI+zr0ZFgMAIBAT0CJpoCAQIjFNAQI+zr/1RWSZAoFIBAV1p45RNgMD4BQT0+HtshAQIVCrQfEBX2jdlEyDQgICAbqDJhkiAQJ0CArrOvqmaAIEGBM4P6AYADJEAAQKlCgjoUjujLgIEmhcQ0M3/EQBAYJQCoxiUgB5FGw2CAIExCgjoMXbVmAgQGIWAgB5FGw2CwGoCjq5DQEDX0SdVEiDQoICAbrDphkyAQB0CArqOPqlynwLuRaAQAQFdSCOUQYAAgaGAgB6KWCdAgEAhAgK6kEbUU4ZKCRDYl4CA3pe0+xAgQGBFAQG9IpjDCRAgsC8BAb1daVcjQIDA1gQE9NYoXYgAAQLbFRDQ2/V0NQIECGxNYK8BvbWqXYgAAQINCAjoBppsiAQI1CkgoOvsm6oJENirwGFuJqAP4+6uBAgQWCggoBcSOYAAAQKHERDQh3F3VwJjEjCWHQkI6B3BuiwBAgQ2FRDQmwo6nwABAjsSENA7gnVZAhMB7wTWFRDQ68o5jwABAjsWENA7BnZ5AgQIrCsgoNeVc952BFyFAIG5AgJ6Lo0dBAgQOKyAgD6sv7sTIEBgroCAnktTwg41ECDQsoCAbrn7xk6AQNECArro9iiOAIGWBWoO6Jb7ZuwECDQgIKAbaLIhEiBQp4CArrNvqiZAoGaBJWsX0EtCOYwAAQL7FvgfAAAA//+rbeTTAAAABklEQVQDAHgVM1HqA4bUAAAAAElFTkSuQmCC(String), 29(Long), 10(Long), 2(Long)
2026-01-06T17:33:18.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.updateApprovalLine             : <==    Updates: 1
2026-01-06T17:33:18.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4]
2026-01-06T17:33:18.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4] from current transaction
2026-01-06T17:33:18.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:33:18.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:18.461+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:33:18.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4]
2026-01-06T17:33:18.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4] from current transaction
2026-01-06T17:33:18.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:33:18.466+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:18.469+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:33:18.477+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4]
2026-01-06T17:33:18.483+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4] from current transaction
2026-01-06T17:33:18.493+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.updateExpenseReportStatus      : ==>  Preparing: UPDATE expense_report_tb SET status = ? WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:33:18.497+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.updateExpenseReportStatus      : ==> Parameters: PAID(String), 29(Long), 2(Long)
2026-01-06T17:33:18.509+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.updateExpenseReportStatus      : <==    Updates: 1
2026-01-06T17:33:18.511+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4]
2026-01-06T17:33:18.511+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4]
2026-01-06T17:33:18.513+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4]
2026-01-06T17:33:18.514+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad19b4]
2026-01-06T17:33:18.591+09:00  INFO 8092 --- [http-nio-8080-exec-4] c.i.b.controller.ExpenseController       : 결재 승인 완료 - expenseId: 29
2026-01-06T17:33:18.591+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:18.591+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결제 승인 완료, data=null)]
2026-01-06T17:33:18.592+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:20.925+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:20.926+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:20.958+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:33:20.930+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:33:20.930+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:33:20.930+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:20.931+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:20.960+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:20.961+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:20.964+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:33:20.974+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:20.969+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:33:20.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:33:20.972+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:20.974+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:20.974+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:20.974+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:33:20.975+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/companies
2026-01-06T17:33:20.975+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:33:20.976+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:20.976+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:20.984+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:20.984+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:33:20.984+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:33:20.984+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:33:20.992+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:20.993+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:20.994+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:21.009+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:33:21.009+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:33:21.009+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:33:21.010+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:21.012+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:21.014+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff69f7] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.015+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:33:21.025+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.016+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:33:21.016+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:33:21.017+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.017+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:21.026+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b0c6e4] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.030+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.033+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@292d7472] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.033+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77680347] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3285b242] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@760c5aed] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.035+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160989002 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:21.046+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1122595400 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:21.046+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1918644231 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:21.049+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@15893003 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:21.050+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:21.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:33:21.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:21.052+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1029943728 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:21.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:33:21.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:21.060+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.061+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:21.061+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:33:21.061+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 10(Long)
2026-01-06T17:33:21.062+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2049367795 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:21.075+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.077+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:21.078+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:21.081+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:33:21.098+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff69f7]
2026-01-06T17:33:21.099+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:21.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:21.099+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-06T17:33:21.099+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:33:21.100+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:33:21.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@292d7472]
2026-01-06T17:33:21.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:33:21.111+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77680347]
2026-01-06T17:33:21.111+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3285b242]
2026-01-06T17:33:21.114+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:21.112+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b0c6e4]
2026-01-06T17:33:21.112+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:21.113+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:33:21.114+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:21.114+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:33:21.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:21.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@760c5aed]
2026-01-06T17:33:21.122+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:21.124+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f552719] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.125+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c280f93] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.128+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:21.129+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:21.129+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:21.130+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@392566466 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:21.131+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:21.131+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@188448841 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:21.144+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:33:21.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:33:21.152+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:21.156+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:33:21.157+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:21.159+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.159+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:21.164+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:21.164+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:21.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/29
2026-01-06T17:33:21.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:21.184+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/29
2026-01-06T17:33:21.184+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:21.184+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:21.185+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.195+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/29
2026-01-06T17:33:21.195+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:21.196+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:21.197+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:33:21.198+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:33:21.214+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c280f93]
2026-01-06T17:33:21.215+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.215+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7218ae] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.216+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@581619300 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:21.216+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:33:21.208+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b141013] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.209+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/29
2026-01-06T17:33:21.229+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/29", parameters={}
2026-01-06T17:33:21.209+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:21.212+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:21.214+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f552719]
2026-01-06T17:33:21.217+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.218+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1169502497 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:21.230+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:33:21.230+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:21.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.232+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:21.232+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.233+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:21.237+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:33:21.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:21.234+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7851d53] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:21.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b8e5fa0] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.238+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:21.240+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7218ae]
2026-01-06T17:33:21.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.241+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@705206635 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:21.242+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.242+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1829096487 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:21.243+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.247+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf8f823] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.247+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:21.247+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-06T17:33:21.247+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66651c29] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.247+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:33:21.247+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f590ed1] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.248+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1835062398 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:21.248+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b141013]
2026-01-06T17:33:21.248+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:21.249+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@238240847 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:21.249+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.249+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2092080999 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:21.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:21.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:21.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:21.257+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:33:21.259+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-06T17:33:21.259+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:21.260+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:21.260+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:21.261+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.261+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7851d53]
2026-01-06T17:33:21.263+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:33:21.267+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.275+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:33:21.276+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b8e5fa0]
2026-01-06T17:33:21.276+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b3c6fbc] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.276+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf8f823]
2026-01-06T17:33:21.276+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.276+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1954323981 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:21.277+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:21.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:33:21.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:21.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b765801] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-06T17:33:21.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66651c29]
2026-01-06T17:33:21.279+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f590ed1]
2026-01-06T17:33:21.279+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:33:21.280+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1123840912 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:21.280+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.280+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:21.281+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.282+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:21.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:33:21.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:21.284+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e71d23] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.294+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.295+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:21.295+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1177530440 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:21.298+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-06T17:33:21.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:21.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b3c6fbc]
2026-01-06T17:33:21.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:21.301+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.302+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@630b83a0] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.303+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1534214642 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:21.307+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-06T17:33:21.307+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:33:21.312+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.312+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b765801]
2026-01-06T17:33:21.313+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.313+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:21.314+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b49ac6b] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.314+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e71d23]
2026-01-06T17:33:21.314+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1383481683 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:21.315+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:21.315+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:21.316+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:33:21.316+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-06T17:33:21.318+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:21.319+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:21.324+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@630b83a0]
2026-01-06T17:33:21.332+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.334+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d38bbf0] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.362+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1645294964 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:21.363+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-06T17:33:21.364+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 29(Long), 2(Long)
2026-01-06T17:33:21.425+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:21.442+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b49ac6b]
2026-01-06T17:33:21.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:21.445+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:33:21.446+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-06T17:33:21.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d38bbf0]
2026-01-06T17:33:21.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:21.464+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:21.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570455af] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:21.468+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@331060384 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:21.498+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:21.499+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:21.509+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:21.510+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570455af]
2026-01-06T17:33:21.511+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:21.513+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=29, drafterId=2, r (truncated)...]
2026-01-06T17:33:21.519+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:22.968+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:22.968+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:22.981+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:22.971+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:33:22.974+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:22.976+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:22.976+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:33:22.983+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:33:22.997+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:22.997+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:22.998+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:33:23.017+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:22.998+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:22.999+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:23.000+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:33:23.015+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:23.017+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:33:23.018+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:23.023+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:23.024+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:23.025+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:23.025+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:33:23.026+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:33:23.026+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:23.026+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:23.027+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:23.047+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:23.047+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:33:23.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:33:23.052+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:33:23.048+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:23.050+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:23.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:23.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:23.051+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:33:23.056+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.057+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.057+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:23.057+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:23.058+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.065+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:33:23.065+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18fda70a] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.066+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78167c5c] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.067+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.068+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.071+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@689ce639] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.081+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.083+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ea8ff84] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.083+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@722b9821] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.093+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b2e8e5b] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.099+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@632780426 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:23.099+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1800192026 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:33:23.099+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:23.099+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:23.100+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:23.100+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:23.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722519910 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:23.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@677670134 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:23.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@444135415 wrapping com.mysql.cj.jdbc.ConnectionImpl@710fc6ab] will not be managed by Spring
2026-01-06T17:33:23.101+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1723878036 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:23.102+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:23.103+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:23.103+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:23.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:23.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:23.106+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:23.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:23.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78167c5c]
2026-01-06T17:33:23.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18fda70a]
2026-01-06T17:33:23.108+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:23.110+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:23.110+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:23.113+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.113+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:23.115+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e51c8a9] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.116+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:23.118+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1889908693 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:23.118+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:33:23.118+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:23.119+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:23.123+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:23.124+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ea8ff84]
2026-01-06T17:33:23.125+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b2e8e5b]
2026-01-06T17:33:23.127+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:23.127+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:23.128+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:23.128+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.132+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:33:23.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:33:23.133+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76c002f2] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.134+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=10
2026-01-06T17:33:23.141+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:23.141+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:33:23.148+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:23.149+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1569286200 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:23.159+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:23.150+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:23.150+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=10", parameters={masked}
2026-01-06T17:33:23.150+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@722b9821]
2026-01-06T17:33:23.151+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@689ce639]
2026-01-06T17:33:23.157+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:33:23.160+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:23.160+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e51c8a9]
2026-01-06T17:33:23.161+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:33:23.161+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:23.161+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:23.162+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:33:23.163+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.163+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.164+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:23.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:33:23.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:33:23.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a84242f] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.166+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a3b69e] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.167+09:00 DEBUG 8092 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:23.169+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:23.176+09:00 DEBUG 8092 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:23.177+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:33:23.178+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@441498454 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:23.179+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1667138636 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:33:23.193+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76c002f2]
2026-01-06T17:33:23.198+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:33:23.199+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:23.200+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:33:23.201+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.206+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.249+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb819] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1533125767 wrapping com.mysql.cj.jdbc.ConnectionImpl@177a5f0e] will not be managed by Spring
2026-01-06T17:33:23.250+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:33:23.251+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:33:23.213+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:23.215+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:33:23.235+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d5341a] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.261+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1324643936 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:23.278+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:23.281+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:23.289+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:33:23.290+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:33:23.290+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:23.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb819]
2026-01-06T17:33:23.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a3b69e]
2026-01-06T17:33:23.299+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a84242f]
2026-01-06T17:33:23.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:23.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:23.300+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.310+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:33:23.311+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:33:23.312+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6de71bad] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.313+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:23.315+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:23.316+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:23.323+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@372895586 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:23.324+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d5341a]
2026-01-06T17:33:23.332+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:23.346+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.347+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:23.347+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29cd2779] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.348+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@942252990 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:23.358+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:23.359+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:23.368+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:23.375+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6de71bad]
2026-01-06T17:33:23.375+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:23.380+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.381+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29cd2779]
2026-01-06T17:33:23.382+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bae0107] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.384+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.385+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@784418732 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:23.392+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd8335c] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.393+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:23.394+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@502145393 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:23.395+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:23.396+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:23.409+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:23.416+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:23.432+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bae0107]
2026-01-06T17:33:23.434+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.435+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:23.444+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfb8656] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.445+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd8335c]
2026-01-06T17:33:23.447+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@374737623 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:23.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:23.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21481b64] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:23.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1033281218 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:23.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:33:23.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:33:23.466+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:23.473+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfb8656]
2026-01-06T17:33:23.474+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.474+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@120bc799] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.475+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1401105080 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:23.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:33:23.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:23.480+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21481b64]
2026-01-06T17:33:23.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:23.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.482+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430b94e7] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.482+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@578368729 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:23.494+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:23.497+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:23.500+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:23.508+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@120bc799]
2026-01-06T17:33:23.509+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:23.509+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.509+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430b94e7]
2026-01-06T17:33:23.510+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f37dfc] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.511+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.512+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2097693524 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:23.514+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d6c95] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.514+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:23.515+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@457075791 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:23.515+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:23.516+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:33:23.516+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:33:23.517+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:23.518+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:33:23.518+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d6c95]
2026-01-06T17:33:23.518+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f37dfc]
2026-01-06T17:33:23.519+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.523+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:33:23.524+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e7d3c02] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.524+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc1bad8] was not registered for synchronization because synchronization is not active
2026-01-06T17:33:23.525+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1154195628 wrapping com.mysql.cj.jdbc.ConnectionImpl@64addec7] will not be managed by Spring
2026-01-06T17:33:23.526+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:23.525+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@843549745 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:33:23.526+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:23.526+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:33:23.527+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:33:23.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:23.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:33:23.533+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e7d3c02]
2026-01-06T17:33:23.534+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc1bad8]
2026-01-06T17:33:23.535+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:23.536+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:33:23.541+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:33:23.542+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:33:23.543+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:33:23.544+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:41:47.398+09:00 DEBUG 8092 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:41:47.398+09:00 DEBUG 8092 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-06T17:41:47.399+09:00 DEBUG 8092 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-06T17:41:47.400+09:00 DEBUG 8092 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:41:47.421+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:41:47.427+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-06T17:41:47.428+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-06T17:41:47.430+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:41:47.441+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:41:47.446+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:41:47.447+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/my-approvals
2026-01-06T17:41:47.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-06T17:41:47.448+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:41:47.451+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:41:47.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:41:47.449+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-06T17:41:47.450+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-06T17:41:47.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:41:47.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:41:47.452+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-06T17:41:47.453+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-06T17:41:47.453+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:41:47.469+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.470+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fcc067d] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:41:47.465+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:41:47.470+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public com.innersignature.backend.dto.ApiResponse<com.innersignature.backend.dto.ExpenseReportDto> com.innersignature.backend.controller.ExpenseController.getExpenseDetail(java.lang.Long): Method parameter 'expenseId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "my-approvals"
2026-01-06T17:41:47.479+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.479+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.479+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f791a36] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.481+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112e3770] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.482+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleRuntimeException(RuntimeException, HttpServletRequest)
2026-01-06T17:41:47.487+09:00 ERROR 8092 --- [http-nio-8080-exec-4] c.i.b.exception.GlobalExceptionHandler   : 런타임 예외 발생

org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'expenseId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "my-approvals"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:301) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:136) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.lang.NumberFormatException: For input string: "my-approvals"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67) ~[na:na]
	at java.base/java.lang.Long.parseLong(Long.java:711) ~[na:na]
	at java.base/java.lang.Long.valueOf(Long.java:1163) ~[na:na]
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:204) ~[spring-core-6.2.14.jar:6.2.14]
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:439) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:412) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:161) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:80) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:867) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:293) ~[spring-web-6.2.14.jar:6.2.14]
	... 113 common frames omitted

2026-01-06T17:41:47.496+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@260453256 wrapping com.mysql.cj.jdbc.ConnectionImpl@4979fdad] will not be managed by Spring
2026-01-06T17:41:47.496+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149773453 wrapping com.mysql.cj.jdbc.ConnectionImpl@24d10921] will not be managed by Spring
2026-01-06T17:41:47.496+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1325655742 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:41:47.571+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:41:47.576+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:41:47.576+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:41:47.577+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:41:47.578+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=서버 오류가 발생했습니다: Method parameter 'expenseId': Failed to convert va (truncated)...]
2026-01-06T17:41:47.581+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:41:47.586+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:41:47.586+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:41:47.601+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'expenseId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "my-approvals"]
2026-01-06T17:41:47.686+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:41:47.686+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:41:47.697+09:00 DEBUG 8092 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2026-01-06T17:41:47.697+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112e3770]
2026-01-06T17:41:47.698+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fcc067d]
2026-01-06T17:41:47.699+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:41:47.699+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:41:47.717+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:41:47.718+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:41:47.719+09:00 DEBUG 8092 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:41:47.720+09:00 DEBUG 8092 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:41:47.733+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:41:47.750+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f791a36]
2026-01-06T17:41:47.762+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.763+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6780c3] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.776+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@832235454 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:41:47.787+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:41:47.799+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:41:47.839+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:41:47.869+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6780c3]
2026-01-06T17:41:47.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.885+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4872d541] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.887+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@240465172 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:41:47.893+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:41:47.898+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:41:47.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:41:47.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4872d541]
2026-01-06T17:41:47.919+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.920+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fe685b9] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@828411353 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:41:47.921+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:41:47.922+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:41:47.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:41:47.936+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fe685b9]
2026-01-06T17:41:47.937+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.937+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ac1faf8] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.938+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@22116180 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:41:47.938+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:41:47.944+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:41:47.948+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:41:47.948+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ac1faf8]
2026-01-06T17:41:47.949+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.950+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750ad858] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.950+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@541715003 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:41:47.951+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:41:47.952+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:41:47.955+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:41:47.956+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750ad858]
2026-01-06T17:41:47.961+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.962+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fc0663a] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.963+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1823195010 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:41:47.964+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:41:47.964+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:41:47.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:41:47.970+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fc0663a]
2026-01-06T17:41:47.976+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.979+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f0dff8e] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.981+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598783459 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:41:47.984+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:41:47.985+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:41:47.990+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:41:47.995+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f0dff8e]
2026-01-06T17:41:47.995+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:41:47.995+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ad3f94] was not registered for synchronization because synchronization is not active
2026-01-06T17:41:47.996+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1968983840 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a4f68f] will not be managed by Spring
2026-01-06T17:41:48.013+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:41:48.014+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:41:48.029+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:41:48.034+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ad3f94]
2026-01-06T17:41:48.036+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:41:48.037+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:41:48.044+09:00 DEBUG 8092 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:43:44.804+09:00  INFO 12236 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 12236 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2026-01-06T17:43:44.819+09:00 DEBUG 12236 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2026-01-06T17:43:44.831+09:00  INFO 12236 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2026-01-06T17:43:46.978+09:00 DEBUG 12236 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2026-01-06T17:43:46.979+09:00 DEBUG 12236 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2026-01-06T17:43:47.312+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2026-01-06T17:43:47.316+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2026-01-06T17:43:47.318+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2026-01-06T17:43:47.318+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2026-01-06T17:43:47.320+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyCardMapper.class]
2026-01-06T17:43:47.320+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2026-01-06T17:43:47.321+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2026-01-06T17:43:47.322+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseCategoryMapper.class]
2026-01-06T17:43:47.323+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2026-01-06T17:43:47.324+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2026-01-06T17:43:47.325+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2026-01-06T17:43:47.328+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2026-01-06T17:43:47.330+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2026-01-06T17:43:47.331+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2026-01-06T17:43:47.332+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserApproverMapper.class]
2026-01-06T17:43:47.333+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserCardMapper.class]
2026-01-06T17:43:47.336+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2026-01-06T17:43:47.350+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2026-01-06T17:43:47.367+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2026-01-06T17:43:47.368+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2026-01-06T17:43:47.372+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2026-01-06T17:43:47.380+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyCardMapper' and 'com.innersignature.backend.mapper.CompanyCardMapper' mapperInterface
2026-01-06T17:43:47.382+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2026-01-06T17:43:47.384+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2026-01-06T17:43:47.385+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseCategoryMapper' and 'com.innersignature.backend.mapper.ExpenseCategoryMapper' mapperInterface
2026-01-06T17:43:47.391+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2026-01-06T17:43:47.393+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2026-01-06T17:43:47.394+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2026-01-06T17:43:47.396+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2026-01-06T17:43:47.397+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2026-01-06T17:43:47.398+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2026-01-06T17:43:47.399+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userApproverMapper' and 'com.innersignature.backend.mapper.UserApproverMapper' mapperInterface
2026-01-06T17:43:47.405+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userCardMapper' and 'com.innersignature.backend.mapper.UserCardMapper' mapperInterface
2026-01-06T17:43:47.407+09:00 DEBUG 12236 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2026-01-06T17:43:48.360+09:00  INFO 12236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-06T17:43:48.394+09:00  INFO 12236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-06T17:43:48.407+09:00  INFO 12236 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-06T17:43:48.549+09:00  INFO 12236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-06T17:43:48.550+09:00  INFO 12236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3582 ms
2026-01-06T17:43:48.683+09:00 DEBUG 12236 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2026-01-06T17:43:48.686+09:00 DEBUG 12236 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2026-01-06T17:43:49.205+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2026-01-06T17:43:49.223+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2026-01-06T17:43:49.263+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2026-01-06T17:43:49.315+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2026-01-06T17:43:49.345+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyCardMapper.xml]'
2026-01-06T17:43:49.380+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2026-01-06T17:43:49.425+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2026-01-06T17:43:49.478+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseCategoryMapper.xml]'
2026-01-06T17:43:49.568+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2026-01-06T17:43:49.618+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2026-01-06T17:43:49.649+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2026-01-06T17:43:49.691+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2026-01-06T17:43:49.731+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2026-01-06T17:43:49.742+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2026-01-06T17:43:49.815+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserApproverMapper.xml]'
2026-01-06T17:43:49.956+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserCardMapper.xml]'
2026-01-06T17:43:50.141+09:00 DEBUG 12236 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2026-01-06T17:43:51.942+09:00 DEBUG 12236 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 148 mappings in 'requestMappingHandlerMapping'
2026-01-06T17:43:52.146+09:00 DEBUG 12236 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-06T17:43:52.246+09:00  WARN 12236 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 6b116236-56c4-456c-a8ab-bc95d9101364

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-06T17:43:52.375+09:00  INFO 12236 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-06T17:43:52.695+09:00 DEBUG 12236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-06T17:43:52.946+09:00 DEBUG 12236 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-06T17:43:53.065+09:00 DEBUG 12236 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-06T17:43:53.095+09:00 DEBUG 12236 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-06T17:43:53.426+09:00  INFO 12236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-06T17:43:53.451+09:00  INFO 12236 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 9.635 seconds (process running for 10.287)
2026-01-06T17:44:02.161+09:00  INFO 12236 --- [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-06T17:44:02.162+09:00  INFO 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-06T17:44:02.163+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-06T17:44:02.164+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-06T17:44:02.194+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-01-06T17:44:02.218+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7d4d65f5
2026-01-06T17:44:02.233+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@574ebdaf
2026-01-06T17:44:02.244+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-06T17:44:02.247+09:00  INFO 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 84 ms
2026-01-06T17:44:02.291+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-06T17:44:02.291+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-06T17:44:02.291+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-06T17:44:02.291+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:44:02.291+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:44:02.291+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:44:02.374+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-06T17:44:02.375+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-06T17:44:02.377+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:44:02.383+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-06T17:44:02.384+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-06T17:44:02.429+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-06T17:44:02.460+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:44:02.460+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:44:02.461+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:44:02.465+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-06T17:44:02.466+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-06T17:44:02.494+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:44:02.497+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-06T17:44:02.729+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:44:02.729+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/my-approvals
2026-01-06T17:44:02.730+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:44:02.729+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:44:02.729+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:44:02.729+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:44:02.760+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:44:02.747+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:44:02.747+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-06T17:44:02.747+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-06T17:44:02.747+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:44:02.756+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-06T17:44:02.768+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:44:02.765+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:44:02.765+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-06T17:44:02.765+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:44:02.782+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:44:02.766+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-06T17:44:02.768+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-06T17:44:02.781+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:44:02.781+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:44:02.782+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:44:02.794+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-06T17:44:02.796+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:44:02.841+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:02.841+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:02.842+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:02.907+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:02.911+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:02.913+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:02.923+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f7d977] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:02.923+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3a2b67] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:02.924+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e614a] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:02.924+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54df0c0] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:02.924+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664fcd7b] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:02.924+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7abeb150] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:02.946+09:00  INFO 12236 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-06T17:44:03.273+09:00  INFO 12236 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f4486e3
2026-01-06T17:44:03.276+09:00  INFO 12236 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-06T17:44:03.285+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@537922740 wrapping com.mysql.cj.jdbc.ConnectionImpl@1f4486e3] will not be managed by Spring
2026-01-06T17:44:03.299+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:44:03.301+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1159476210 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:03.309+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:44:03.358+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:44:03.359+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:44:03.396+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:44:03.396+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:44:03.417+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664fcd7b]
2026-01-06T17:44:03.417+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54df0c0]
2026-01-06T17:44:03.446+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489012992 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:03.495+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:44:03.500+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:44:03.494+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@631778214 wrapping com.mysql.cj.jdbc.ConnectionImpl@1f4486e3] will not be managed by Spring
2026-01-06T17:44:03.515+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:03.517+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:03.518+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:03.532+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:44:03.532+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:44:03.533+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:03.575+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:03.582+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:03.592+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-06T17:44:03.610+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:44:03.617+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses
2026-01-06T17:44:03.627+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:44:03.629+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-06T17:44:03.630+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-06T17:44:03.630+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:44:03.630+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-06T17:44:03.631+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:44:03.633+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.649+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 5
2026-01-06T17:44:03.657+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:44:03.659+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:03.662+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31eb6713] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.662+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3a2b67]
2026-01-06T17:44:03.665+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.666+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f7d977]
2026-01-06T17:44:03.668+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.668+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@105966298 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:03.672+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d463ac] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.674+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.674+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@944675211 wrapping com.mysql.cj.jdbc.ConnectionImpl@1f4486e3] will not be managed by Spring
2026-01-06T17:44:03.675+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7513158a] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.677+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:44:03.679+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c628c5] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.693+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:44:03.696+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:44:03.698+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:44:03.705+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@810900840 wrapping com.mysql.cj.jdbc.ConnectionImpl@52961296] will not be managed by Spring
2026-01-06T17:44:03.709+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:03.712+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:44:03.715+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:44:03.717+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:03.717+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e614a]
2026-01-06T17:44:03.717+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7abeb150]
2026-01-06T17:44:03.727+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:03.727+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1561560998 wrapping com.mysql.cj.jdbc.ConnectionImpl@1f4486e3] will not be managed by Spring
2026-01-06T17:44:03.730+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@739301142 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:03.730+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:03.730+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:44:03.734+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:44:03.734+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:03.735+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:44:03.740+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:03.746+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:03.741+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:44:03.744+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:03.757+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-06T17:44:03.757+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-06T17:44:03.765+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/companies
2026-01-06T17:44:03.765+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:44:03.772+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:03.778+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:44:03.784+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-06T17:44:03.784+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-06T17:44:03.784+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31eb6713]
2026-01-06T17:44:03.785+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d463ac]
2026-01-06T17:44:03.790+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-06T17:44:03.793+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:03.794+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-06T17:44:03.794+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.794+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1709702703 wrapping com.mysql.cj.jdbc.ConnectionImpl@52961296] will not be managed by Spring
2026-01-06T17:44:03.796+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:03.796+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-06T17:44:03.796+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7513158a]
2026-01-06T17:44:03.799+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:44:03.801+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5330a5b1] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.811+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:03.814+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:44:03.816+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.817+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.826+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5f222] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.817+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.818+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@827330531 wrapping com.mysql.cj.jdbc.ConnectionImpl@1f4486e3] will not be managed by Spring
2026-01-06T17:44:03.824+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:03.825+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:03.825+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41860124] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.832+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1645ddf0] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.832+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:03.834+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1329723236 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:03.847+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:03.849+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-06T17:44:03.850+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-06T17:44:03.858+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:03.866+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/my-approvals
2026-01-06T17:44:03.867+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c628c5]
2026-01-06T17:44:03.867+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 10(Long)
2026-01-06T17:44:03.868+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@482195072 wrapping com.mysql.cj.jdbc.ConnectionImpl@18823148] will not be managed by Spring
2026-01-06T17:44:03.868+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:03.872+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-06T17:44:03.873+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450411144 wrapping com.mysql.cj.jdbc.ConnectionImpl@52961296] will not be managed by Spring
2026-01-06T17:44:03.874+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.875+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:44:03.875+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5330a5b1]
2026-01-06T17:44:03.882+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.876+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-06T17:44:03.876+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:44:03.877+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@170a9020] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.882+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:44:03.883+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5efb2bc0] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.884+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-06T17:44:03.888+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long), 22(Long), 21(Long)
2026-01-06T17:44:03.900+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@931251634 wrapping com.mysql.cj.jdbc.ConnectionImpl@1f4486e3] will not be managed by Spring
2026-01-06T17:44:03.909+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:03.923+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:44:03.923+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ac5f87] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:03.926+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:44:03.928+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-06T17:44:03.931+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41860124]
2026-01-06T17:44:03.940+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:03.940+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2000174633 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:03.941+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:44:03.949+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1645ddf0]
2026-01-06T17:44:03.964+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:03.949+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:44:03.955+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2026-01-06T17:44:03.965+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762033538 wrapping com.mysql.cj.jdbc.ConnectionImpl@18823148] will not be managed by Spring
2026-01-06T17:44:03.966+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:44:04.035+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:44:04.050+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:44:04.066+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5efb2bc0]
2026-01-06T17:44:04.059+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:04.063+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2026-01-06T17:44:04.066+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:44:04.067+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:04.067+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.075+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:44:04.093+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5f222]
2026-01-06T17:44:04.109+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:44:04.112+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-06T17:44:04.115+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d6f168] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.123+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:44:04.126+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.131+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:44:04.132+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@916104613 wrapping com.mysql.cj.jdbc.ConnectionImpl@1f4486e3] will not be managed by Spring
2026-01-06T17:44:04.133+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:44:04.139+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:44:04.181+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 5
2026-01-06T17:44:04.183+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f617f83] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.192+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-06T17:44:04.193+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:04.194+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:44:04.194+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@170a9020]
2026-01-06T17:44:04.195+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147912840 wrapping com.mysql.cj.jdbc.ConnectionImpl@52961296] will not be managed by Spring
2026-01-06T17:44:04.195+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ac5f87]
2026-01-06T17:44:04.195+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-06T17:44:04.202+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:44:04.208+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.196+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:04.196+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:44:04.211+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.198+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.213+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@339f4d5d] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.199+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:04.200+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.209+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61adc7e9] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.212+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d582c8f] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.215+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@258892066 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:04.215+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:04.215+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ea09bb1] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.216+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1756144357 wrapping com.mysql.cj.jdbc.ConnectionImpl@18823148] will not be managed by Spring
2026-01-06T17:44:04.230+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@155149112 wrapping com.mysql.cj.jdbc.ConnectionImpl@58804bb4] will not be managed by Spring
2026-01-06T17:44:04.232+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:04.232+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:04.248+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:44:04.250+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:44:04.250+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d6f168]
2026-01-06T17:44:04.277+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.278+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5efb16ef] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.250+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:04.253+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:04.267+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:44:04.268+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:44:04.278+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1482910793 wrapping com.mysql.cj.jdbc.ConnectionImpl@1f4486e3] will not be managed by Spring
2026-01-06T17:44:04.281+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f617f83]
2026-01-06T17:44:04.295+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:04.299+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:04.300+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@752148969 wrapping com.mysql.cj.jdbc.ConnectionImpl@52961296] will not be managed by Spring
2026-01-06T17:44:04.300+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:04.307+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:04.307+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@339f4d5d]
2026-01-06T17:44:04.310+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.311+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f3764c] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.308+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:44:04.332+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90828973 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:04.333+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:44:04.333+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:44:04.335+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:44:04.341+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=29, drafterI (truncated)...]
2026-01-06T17:44:04.349+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:44:04.349+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:44:04.358+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d582c8f]
2026-01-06T17:44:04.393+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:04.359+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61adc7e9]
2026-01-06T17:44:04.391+09:00 DEBUG 12236 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:04.394+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:44:04.406+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:44:04.407+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:04.412+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:04.414+09:00 DEBUG 12236 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-06T17:44:04.417+09:00 DEBUG 12236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:04.420+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:44:04.427+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f3764c]
2026-01-06T17:44:04.428+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ea09bb1]
2026-01-06T17:44:04.444+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.429+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:44:04.438+09:00 DEBUG 12236 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-06T17:44:04.442+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5efb16ef]
2026-01-06T17:44:04.443+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.447+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46d9ce60] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.448+09:00 DEBUG 12236 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:04.458+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.459+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e783950] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.460+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1812899865 wrapping com.mysql.cj.jdbc.ConnectionImpl@1f4486e3] will not be managed by Spring
2026-01-06T17:44:04.463+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727bc475] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.466+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1006079990 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:04.480+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:44:04.468+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-06T17:44:04.469+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-06T17:44:04.476+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:44:04.477+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1949427899 wrapping com.mysql.cj.jdbc.ConnectionImpl@52961296] will not be managed by Spring
2026-01-06T17:44:04.482+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:44:04.484+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/pending-approvals
2026-01-06T17:44:04.494+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: ACCOUNTANT, companyId: 2, uri: /api/expenses/tax/revision-requests
2026-01-06T17:44:04.494+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 29(Long), 28(Long), 23(Long), 22(Long), 21(Long)
2026-01-06T17:44:04.496+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-06T17:44:04.500+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-06T17:44:04.501+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-06T17:44:04.515+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-06T17:44:04.515+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), test_accountant(String), 2147483647(Integer), 0(Integer)
2026-01-06T17:44:04.515+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-06T17:44:04.516+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-06T17:44:04.518+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-06T17:44:04.524+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.525+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.525+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e85eb9a] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.526+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3114e841] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.545+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1048294321 wrapping com.mysql.cj.jdbc.ConnectionImpl@58804bb4] will not be managed by Spring
2026-01-06T17:44:04.547+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-06T17:44:04.526+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1606927545 wrapping com.mysql.cj.jdbc.ConnectionImpl@18823148] will not be managed by Spring
2026-01-06T17:44:04.558+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-06T17:44:04.560+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), 2(Long)
2026-01-06T17:44:04.533+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2026-01-06T17:44:04.564+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46d9ce60]
2026-01-06T17:44:04.534+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:44:04.549+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 2(Long), 10(Long)
2026-01-06T17:44:04.566+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.567+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e783950]
2026-01-06T17:44:04.599+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-06T17:44:04.614+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e85eb9a]
2026-01-06T17:44:04.609+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fae7679] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.610+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.615+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:04.617+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1468799266 wrapping com.mysql.cj.jdbc.ConnectionImpl@1f4486e3] will not be managed by Spring
2026-01-06T17:44:04.617+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cea7ea5] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.617+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-06T17:44:04.618+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:04.619+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-06T17:44:04.625+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:04.623+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572845293 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:04.625+09:00 DEBUG 12236 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:04.625+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3114e841]
2026-01-06T17:44:04.626+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:04.634+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:04.635+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:04.640+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:04.641+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2026-01-06T17:44:04.642+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-06T17:44:04.644+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fae7679]
2026-01-06T17:44:04.644+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727bc475]
2026-01-06T17:44:04.645+09:00 DEBUG 12236 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:04.648+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:04.649+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.651+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=29, drafterI (truncated)...]
2026-01-06T17:44:04.653+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73d591f4] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.661+09:00 DEBUG 12236 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:04.662+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@536863933 wrapping com.mysql.cj.jdbc.ConnectionImpl@52961296] will not be managed by Spring
2026-01-06T17:44:04.665+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:04.666+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:04.668+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:04.675+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cea7ea5]
2026-01-06T17:44:04.678+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.680+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b19e66] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.682+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@211929059 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:04.682+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:04.683+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:44:04.683+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73d591f4]
2026-01-06T17:44:04.684+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:44:04.692+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.693+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6525d331] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.701+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@975221840 wrapping com.mysql.cj.jdbc.ConnectionImpl@52961296] will not be managed by Spring
2026-01-06T17:44:04.705+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:44:04.711+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-06T17:44:04.711+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b19e66]
2026-01-06T17:44:04.713+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 22(Long), 21(Long)
2026-01-06T17:44:04.715+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.716+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c448d8] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.717+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774392541 wrapping com.mysql.cj.jdbc.ConnectionImpl@69826aa2] will not be managed by Spring
2026-01-06T17:44:04.718+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:04.726+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:04.727+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-06T17:44:04.728+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6525d331]
2026-01-06T17:44:04.729+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-06T17:44:04.731+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70bb59c4] was not registered for synchronization because synchronization is not active
2026-01-06T17:44:04.732+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:04.734+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2038803771 wrapping com.mysql.cj.jdbc.ConnectionImpl@52961296] will not be managed by Spring
2026-01-06T17:44:04.734+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c448d8]
2026-01-06T17:44:04.741+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-06T17:44:04.745+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:04.745+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2026-01-06T17:44:04.748+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:44:04.766+09:00 DEBUG 12236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-06T17:44:04.793+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-06T17:44:04.800+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70bb59c4]
2026-01-06T17:44:04.809+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-06T17:44:04.824+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-06T17:44:04.840+09:00 DEBUG 12236 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
