2025-12-18T09:14:15.045+09:00  INFO 31564 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 31564 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-18T09:14:15.123+09:00 DEBUG 31564 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-18T09:14:15.125+09:00  INFO 31564 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-18T09:14:18.038+09:00 DEBUG 31564 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-18T09:14:18.048+09:00 DEBUG 31564 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-18T09:14:18.718+09:00 DEBUG 31564 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-18T09:14:18.725+09:00 DEBUG 31564 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-18T09:14:18.735+09:00 DEBUG 31564 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-18T09:14:18.747+09:00 DEBUG 31564 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-18T09:14:18.756+09:00 DEBUG 31564 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-18T09:14:18.776+09:00 DEBUG 31564 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-18T09:14:18.813+09:00 DEBUG 31564 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-18T09:14:18.818+09:00 DEBUG 31564 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-18T09:14:20.635+09:00  INFO 31564 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-18T09:14:20.709+09:00  INFO 31564 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-18T09:14:20.720+09:00  INFO 31564 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-18T09:14:20.895+09:00  INFO 31564 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-18T09:14:20.897+09:00  INFO 31564 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5587 ms
2025-12-18T09:14:21.126+09:00 DEBUG 31564 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-18T09:14:21.139+09:00 DEBUG 31564 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-18T09:14:22.562+09:00 DEBUG 31564 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-18T09:14:22.683+09:00 DEBUG 31564 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-18T09:14:22.761+09:00 DEBUG 31564 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-18T09:14:22.795+09:00 DEBUG 31564 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-18T09:14:24.233+09:00 DEBUG 31564 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 58 mappings in 'requestMappingHandlerMapping'
2025-12-18T09:14:24.578+09:00 DEBUG 31564 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-18T09:14:24.652+09:00  WARN 31564 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: b90c671c-5fc4-4df4-9d6c-da6533ccc7d3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-18T09:14:24.737+09:00  INFO 31564 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-18T09:14:25.290+09:00 DEBUG 31564 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-18T09:14:25.833+09:00 DEBUG 31564 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-18T09:14:26.038+09:00 DEBUG 31564 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-18T09:14:26.084+09:00 DEBUG 31564 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-18T09:14:26.524+09:00  INFO 31564 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-18T09:14:26.583+09:00  INFO 31564 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 13.121 seconds (process running for 13.824)
2025-12-18T09:14:38.064+09:00  INFO 31564 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-18T09:14:38.066+09:00  INFO 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-18T09:14:38.068+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-18T09:14:38.069+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-18T09:14:38.071+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-18T09:14:38.094+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3bf3a87d
2025-12-18T09:14:38.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6d328a97
2025-12-18T09:14:38.099+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-18T09:14:38.100+09:00  INFO 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 32 ms
2025-12-18T09:14:38.181+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-18T09:14:38.297+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T09:14:38.305+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:14:38.316+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T09:14:38.325+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T09:14:38.330+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T09:14:38.441+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ksu14044, password=khs1704!)]
2025-12-18T09:14:38.452+09:00  INFO 31564 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: ksu14044
2025-12-18T09:14:38.469+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T09:14:38.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e58ba1b] was not registered for synchronization because synchronization is not active
2025-12-18T09:14:38.495+09:00  INFO 31564 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-18T09:14:39.655+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e58ba1b]
2025-12-18T09:14:39.659+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleRuntimeException(RuntimeException, HttpServletRequest)
2025-12-18T09:14:39.660+09:00 ERROR 31564 --- [http-nio-8080-exec-1] c.i.b.exception.GlobalExceptionHandler   : 런타임 예외 발생

org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]
### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:101) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy86.selectOne(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:154) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy88.findByUsername(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.UserService.authenticate(UserService.java:27) ~[classes/:na]
	at com.innersignature.backend.controller.UserController.login(UserController.java:44) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.UserController$$SpringCGLIB$$0.login(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]
### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:156) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:75) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 130 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:77) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:64) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	... 138 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:165) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:55) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:840) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:416) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:180) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-6.3.3.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.2.14.jar:6.2.14]
	... 148 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:52) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:95) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:140) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:156) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:79) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:142) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:964) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	... 161 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:144) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:53) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	... 164 common frames omitted

2025-12-18T09:14:39.753+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T09:14:39.758+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=서버 오류가 발생했습니다: <EOL><EOL>### Error querying database.  Cause: org.springf (truncated)...]
2025-12-18T09:14:39.780+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.mybatis.spring.MyBatisSystemException: <EOL><EOL>### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection<EOL><EOL>### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]<EOL><EOL>### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername<EOL><EOL>### The error occurred while executing a query<EOL><EOL>### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection]
2025-12-18T09:14:39.787+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-18T09:15:07.593+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/index.html
2025-12-18T09:15:07.597+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:07.599+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/index.html
2025-12-18T09:15:07.606+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.html", parameters={}
2025-12-18T09:15:07.616+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-18T09:15:07.669+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T09:15:07.716+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/index.css
2025-12-18T09:15:07.719+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-18T09:15:07.730+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-18T09:15:07.731+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-initializer.js
2025-12-18T09:15:07.733+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-18T09:15:07.739+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:07.740+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:07.744+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui.css
2025-12-18T09:15:07.755+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:07.756+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:07.758+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:07.760+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/index.css
2025-12-18T09:15:07.761+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-18T09:15:07.768+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:07.792+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui.css
2025-12-18T09:15:07.799+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-18T09:15:07.770+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-18T09:15:07.771+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-initializer.js
2025-12-18T09:15:07.774+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.css", parameters={}
2025-12-18T09:15:07.778+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-18T09:15:07.802+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-18T09:15:07.806+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-18T09:15:07.807+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-18T09:15:07.808+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-18T09:15:07.810+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-18T09:15:07.821+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-18T09:15:07.831+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T09:15:07.833+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-18T09:15:07.848+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T09:15:07.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T09:15:07.931+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui.css.map
2025-12-18T09:15:07.938+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:07.938+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T09:15:07.940+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui.css.map
2025-12-18T09:15:07.940+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T09:15:07.941+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css.map", parameters={}
2025-12-18T09:15:07.948+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-18T09:15:07.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T09:15:08.224+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/favicon-32x32.png
2025-12-18T09:15:08.225+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /v3/api-docs/swagger-config
2025-12-18T09:15:08.229+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:08.230+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:08.237+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/favicon-32x32.png
2025-12-18T09:15:08.242+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /v3/api-docs/swagger-config
2025-12-18T09:15:08.244+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-18T09:15:08.246+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs/swagger-config", parameters={}
2025-12-18T09:15:08.249+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-18T09:15:08.250+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-18T09:15:08.255+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T09:15:08.258+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2025-12-18T09:15:08.269+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-18T09:15:08.286+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T09:15:08.312+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /v3/api-docs
2025-12-18T09:15:08.315+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:08.317+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /v3/api-docs
2025-12-18T09:15:08.318+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs", parameters={}
2025-12-18T09:15:08.318+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-18T09:15:10.297+09:00  INFO 31564 --- [http-nio-8080-exec-10] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1972 ms
2025-12-18T09:15:10.438+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-18T09:15:10.504+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-18T09:15:10.550+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T09:15:29.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/ping
2025-12-18T09:15:29.070+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:45.121+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T09:15:45.124+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:15:45.171+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T09:15:45.173+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T09:15:45.176+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T09:15:45.197+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ksu14044, password=khs1704!)]
2025-12-18T09:15:45.203+09:00  INFO 31564 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: ksu14044
2025-12-18T09:15:45.204+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T09:15:45.204+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2f462c] was not registered for synchronization because synchronization is not active
2025-12-18T09:15:45.205+09:00  INFO 31564 --- [http-nio-8080-exec-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-18T09:15:46.226+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2f462c]
2025-12-18T09:15:46.229+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleRuntimeException(RuntimeException, HttpServletRequest)
2025-12-18T09:15:46.235+09:00 ERROR 31564 --- [http-nio-8080-exec-8] c.i.b.exception.GlobalExceptionHandler   : 런타임 예외 발생

org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]
### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:101) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy86.selectOne(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:154) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy88.findByUsername(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.UserService.authenticate(UserService.java:27) ~[classes/:na]
	at com.innersignature.backend.controller.UserController.login(UserController.java:44) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.UserController$$SpringCGLIB$$0.login(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]
### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:156) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:75) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 130 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:77) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:64) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	... 138 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:165) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:55) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:840) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:416) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:180) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-6.3.3.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.2.14.jar:6.2.14]
	... 148 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:52) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:95) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:140) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:156) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:79) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:142) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:964) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	... 161 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:144) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:53) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	... 164 common frames omitted

2025-12-18T09:15:46.434+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T09:15:46.435+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=서버 오류가 발생했습니다: <EOL><EOL>### Error querying database.  Cause: org.springf (truncated)...]
2025-12-18T09:15:46.437+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.mybatis.spring.MyBatisSystemException: <EOL><EOL>### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection<EOL><EOL>### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]<EOL><EOL>### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername<EOL><EOL>### The error occurred while executing a query<EOL><EOL>### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection]
2025-12-18T09:15:46.441+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-18T09:20:29.587+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-18T09:20:29.593+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T09:20:29.595+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:20:29.595+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T09:20:29.596+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T09:20:29.597+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T09:20:29.599+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ksu14044, password=khs1704!)]
2025-12-18T09:20:29.600+09:00  INFO 31564 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: ksu14044
2025-12-18T09:20:29.601+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T09:20:29.601+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38cf7ec2] was not registered for synchronization because synchronization is not active
2025-12-18T09:20:29.602+09:00  INFO 31564 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-18T09:20:30.614+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38cf7ec2]
2025-12-18T09:20:30.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleRuntimeException(RuntimeException, HttpServletRequest)
2025-12-18T09:20:30.616+09:00 ERROR 31564 --- [http-nio-8080-exec-1] c.i.b.exception.GlobalExceptionHandler   : 런타임 예외 발생

org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]
### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:101) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy86.selectOne(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:154) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy88.findByUsername(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.UserService.authenticate(UserService.java:27) ~[classes/:na]
	at com.innersignature.backend.controller.UserController.login(UserController.java:44) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.UserController$$SpringCGLIB$$0.login(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]
### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:156) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:75) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 130 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:77) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:64) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	... 138 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:165) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:55) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:840) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:416) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:180) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-6.3.3.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.2.14.jar:6.2.14]
	... 148 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:52) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:95) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:140) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:156) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:79) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:142) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:964) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	... 161 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:144) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:53) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	... 164 common frames omitted

2025-12-18T09:20:30.669+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T09:20:30.672+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=서버 오류가 발생했습니다: <EOL><EOL>### Error querying database.  Cause: org.springf (truncated)...]
2025-12-18T09:20:30.674+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.mybatis.spring.MyBatisSystemException: <EOL><EOL>### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection<EOL><EOL>### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]<EOL><EOL>### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername<EOL><EOL>### The error occurred while executing a query<EOL><EOL>### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection]
2025-12-18T09:20:30.676+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-18T09:20:51.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-18T09:20:51.004+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:21:37.187+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /?format=json
2025-12-18T09:21:37.190+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:21:46.122+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /geoserver/web/
2025-12-18T09:21:46.124+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:22:27.412+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-18T09:22:27.548+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T09:22:27.566+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:22:27.572+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T09:22:27.573+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T09:22:27.577+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T09:22:27.588+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ksu14044, password=khs1704!)]
2025-12-18T09:22:27.595+09:00  INFO 31564 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: ksu14044
2025-12-18T09:22:27.632+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T09:22:27.743+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f3a138b] was not registered for synchronization because synchronization is not active
2025-12-18T09:22:27.933+09:00  INFO 31564 --- [http-nio-8080-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-18T09:22:29.006+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f3a138b]
2025-12-18T09:22:29.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleRuntimeException(RuntimeException, HttpServletRequest)
2025-12-18T09:22:29.007+09:00 ERROR 31564 --- [http-nio-8080-exec-5] c.i.b.exception.GlobalExceptionHandler   : 런타임 예외 발생

org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]
### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:101) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy86.selectOne(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:154) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy88.findByUsername(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.UserService.authenticate(UserService.java:27) ~[classes/:na]
	at com.innersignature.backend.controller.UserController.login(UserController.java:44) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.UserController$$SpringCGLIB$$0.login(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]
### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:156) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:75) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 130 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:77) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:64) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	... 138 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:165) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:55) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:840) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:416) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:180) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-6.3.3.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.2.14.jar:6.2.14]
	... 148 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:52) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:95) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:140) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:156) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:79) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:142) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:964) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	... 161 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:144) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:53) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	... 164 common frames omitted

2025-12-18T09:22:29.072+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T09:22:29.073+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=서버 오류가 발생했습니다: <EOL><EOL>### Error querying database.  Cause: org.springf (truncated)...]
2025-12-18T09:22:29.074+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.mybatis.spring.MyBatisSystemException: <EOL><EOL>### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection<EOL><EOL>### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]<EOL><EOL>### The error may involve com.innersignature.backend.mapper.UserMapper.findByUsername<EOL><EOL>### The error occurred while executing a query<EOL><EOL>### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection]
2025-12-18T09:22:29.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-18T09:40:52.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-18T09:40:52.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:40:56.276+09:00  INFO 31564 --- [http-nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xee0x010x000x000xea0x030x03]0x840x95trVN0xf4 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:402) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-18T09:40:56.719+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-18T09:40:56.728+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:41:01.903+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/security.txt
2025-12-18T09:41:01.905+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T09:59:53.440+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-18T09:59:53.440+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T10:12:42.277+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-18T10:12:42.281+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T10:16:28.320+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /ip
2025-12-18T10:16:28.323+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:20:03.292+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_ceo
2025-12-18T11:20:03.297+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:20:03.298+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_ceo
2025-12-18T11:20:03.300+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_ceo", parameters={masked}
2025-12-18T11:20:03.310+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-18T11:20:03.312+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:03.313+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63b41380] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:03.314+09:00  INFO 31564 --- [http-nio-8080-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-18T11:20:03.553+09:00  INFO 31564 --- [http-nio-8080-exec-6] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2aa5c68
2025-12-18T11:20:03.559+09:00  INFO 31564 --- [http-nio-8080-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-18T11:20:03.566+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1982001524 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:03.575+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T11:20:03.616+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo(String)
2025-12-18T11:20:03.675+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T11:20:03.694+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63b41380]
2025-12-18T11:20:03.701+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:03.728+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-18T11:20:03.782+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:12.249+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-18T11:20:12.253+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-18T11:20:12.254+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:20:12.255+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-18T11:20:12.256+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-18T11:20:12.258+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-18T11:20:12.271+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo, password=1234, koreanName=test_ceo, email=, positi (truncated)...]
2025-12-18T11:20:12.397+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_ceo, koreanName: test_ceo, role: CEO
2025-12-18T11:20:12.398+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:12.399+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69fc1b67] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:12.402+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1299814734 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:12.409+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T11:20:12.412+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo(String)
2025-12-18T11:20:12.416+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T11:20:12.423+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69fc1b67]
2025-12-18T11:20:12.542+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:12.542+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@508a820c] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:12.543+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@30755489 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:12.544+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-18T11:20:12.546+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_ceo(String), $2a$10$tu7rGxHQXAOpr6cda0V84erpr1QHZjIeKEZuQZLygCd97yrEvXfqm(String), test_ceo(String), null, 대표(String), CEO(String), null, true(Boolean), APPROVED(String)
2025-12-18T11:20:12.560+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-18T11:20:12.560+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@508a820c]
2025-12-18T11:20:12.560+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_ceo, role: CEO
2025-12-18T11:20:12.562+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:12.562+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입이 완료되었습니다., data=null)]
2025-12-18T11:20:12.563+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:17.488+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-18T11:20:17.492+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T11:20:17.492+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:20:17.493+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T11:20:17.493+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T11:20:17.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T11:20:17.496+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-18T11:20:17.497+09:00  INFO 31564 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-18T11:20:17.498+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:17.502+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12b19cfb] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:17.510+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119825401 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:17.512+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T11:20:17.515+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-18T11:20:17.522+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T11:20:17.528+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12b19cfb]
2025-12-18T11:20:17.737+09:00  INFO 31564 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: null
2025-12-18T11:20:17.739+09:00  INFO 31564 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-18T11:20:17.740+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:17.746+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-18T11:20:17.748+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:17.794+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T11:20:17.797+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:20:17.846+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/companies
2025-12-18T11:20:17.847+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:20:17.847+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:20:17.847+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:20:17.850+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:17.861+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:17.863+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:17.865+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20a8e277] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:17.866+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@817871745 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:17.866+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:20:17.867+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:20:17.874+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-18T11:20:17.874+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20a8e277]
2025-12-18T11:20:17.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:17.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:20:17.878+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:18.428+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T11:20:18.431+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:18.431+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:20:18.431+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T11:20:18.431+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T11:20:18.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/companies
2025-12-18T11:20:18.432+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:18.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T11:20:18.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:20:18.449+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:20:18.451+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:20:18.454+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:18.457+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:20:18.458+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:20:18.464+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T11:20:18.465+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T11:20:18.465+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T11:20:18.466+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:18.468+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:18.470+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:20:18.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:20:18.471+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:20:18.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:18.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:20:18.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:20:18.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:20:18.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:18.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:20:18.479+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:18.480+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:18.479+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:20:18.479+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe69f32] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:18.480+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fd4bed] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:18.481+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:18.482+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:18.489+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:18.489+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775cba06] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:18.490+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a5bde1f] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:18.490+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@154427783 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:18.490+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@822602503 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:18.491+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:20:18.492+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:20:18.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), null
2025-12-18T11:20:18.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:20:18.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558682021 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:18.499+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:20:18.500+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:20:18.514+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-18T11:20:18.515+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:20:18.516+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:20:18.519+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe69f32]
2025-12-18T11:20:18.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fd4bed]
2025-12-18T11:20:18.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a5bde1f]
2025-12-18T11:20:18.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:18.530+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:18.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:18.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:20:18.532+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:20:18.534+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:20:18.544+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:18.546+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:18.547+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:18.556+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@37369449 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:18.562+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:18.564+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:18.565+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T11:20:18.572+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T11:20:18.575+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:18.576+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:20:18.577+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:20:18.578+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:20:18.578+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:18.579+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:18.579+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39ffec49] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:18.580+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775cba06]
2025-12-18T11:20:18.582+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@673510695 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:18.583+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:18.585+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T11:20:18.587+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:20:18.589+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd0c092] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:18.591+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), null
2025-12-18T11:20:18.590+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:20:18.593+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@590796976 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:18.594+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:20:18.594+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:18.596+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:20:18.597+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T11:20:18.597+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:20:18.597+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:18.598+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39ffec49]
2025-12-18T11:20:18.600+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:18.602+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:18.604+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:18.605+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd0c092]
2025-12-18T11:20:18.606+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:18.608+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:20:18.608+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@462b5795] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:18.609+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:18.609+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@392644095 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:18.609+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:18.610+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:20:18.614+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:20:18.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:20:18.618+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:18.619+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:20:18.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@462b5795]
2025-12-18T11:20:18.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:20:18.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:18.628+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:20:18.631+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:18.631+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T11:20:18.634+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:20:18.637+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:20:18.641+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:20:18.644+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:18.644+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3078ec] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:18.645+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@20328065 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:18.646+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:18.647+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T11:20:18.650+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:18.659+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3078ec]
2025-12-18T11:20:18.660+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:18.661+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@493d168f] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:18.661+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@539222108 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:18.662+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:18.674+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T11:20:18.682+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:18.687+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@493d168f]
2025-12-18T11:20:18.691+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:18.702+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:20:18.708+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:20.866+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/stats
2025-12-18T11:20:20.872+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:20.872+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/status-stats
2025-12-18T11:20:20.878+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio
2025-12-18T11:20:20.872+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio
2025-12-18T11:20:20.873+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/stats
2025-12-18T11:20:20.874+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:20.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/status-stats
2025-12-18T11:20:20.895+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-18T11:20:20.897+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:20.898+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-18T11:20:20.903+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:20.903+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:20.910+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:20.911+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-18T11:20:20.915+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-18T11:20:20.925+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-18T11:20:20.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:20.926+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:20.926+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-18T11:20:20.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:20.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-18T11:20:20.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-18T11:20:20.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-18T11:20:20.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-18T11:20:20.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-18T11:20:20.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-18T11:20:20.929+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-18T11:20:20.929+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:20.929+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:20.930+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:20.932+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:20.932+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:20.933+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:20.933+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:20.937+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:20.942+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:20.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:20.949+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424df30a] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:20.947+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:20.948+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:20.948+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7690088a] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:20.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5937e8a9] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:20.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1775115814 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:20.956+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1ffe04] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:20.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-18T11:20:20.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-18T11:20:20.965+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@114990234 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:20.965+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1923997720 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:20.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@101258887 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:20.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-18T11:20:20.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-18T11:20:20.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-18T11:20:20.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-18T11:20:20.969+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-18T11:20:20.971+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-18T11:20:20.972+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-18T11:20:20.972+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424df30a]
2025-12-18T11:20:20.974+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:20.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-18T11:20:20.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-18T11:20:20.976+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-18T11:20:20.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7690088a]
2025-12-18T11:20:20.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:20.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1ffe04]
2025-12-18T11:20:20.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-18T11:20:20.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:20.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:20.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5937e8a9]
2025-12-18T11:20:20.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-18T11:20:20.998+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:20.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-18T11:20:20.990+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:21.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-18T11:20:20.996+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-18T11:20:20.998+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:21.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:21.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:21.008+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:21.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-18T11:20:21.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:21.012+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:21.015+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-18T11:20:21.021+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-18T11:20:21.021+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:21.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-18T11:20:21.072+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-18T11:20:21.087+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:21.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:21.091+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-18T11:20:21.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-18T11:20:21.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-18T11:20:21.089+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.090+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-18T11:20:21.094+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.133+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-18T11:20:21.134+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.135+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-18T11:20:21.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.143+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-18T11:20:21.144+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:21.144+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.145+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:21.147+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585d28e2] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:21.146+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648079574 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:21.146+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69ce0d53] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:21.147+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.150+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:21.164+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3498ade0] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:21.165+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1351818940 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:21.166+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-18T11:20:21.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.149+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-18T11:20:21.150+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@751603214 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:21.173+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-18T11:20:21.170+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-18T11:20:21.171+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:21.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-18T11:20:21.175+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-18T11:20:21.179+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25197800] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:21.181+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@936567297 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:21.186+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-18T11:20:21.187+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-18T11:20:21.188+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-18T11:20:21.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-18T11:20:21.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-18T11:20:21.193+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69ce0d53]
2025-12-18T11:20:21.193+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3498ade0]
2025-12-18T11:20:21.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:21.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-18T11:20:21.193+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585d28e2]
2025-12-18T11:20:21.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:21.197+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:21.200+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:21.200+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-18T11:20:21.204+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-18T11:20:21.206+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:21.206+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-18T11:20:21.207+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:21.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25197800]
2025-12-18T11:20:21.212+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:21.213+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-18T11:20:21.213+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:21.368+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-18T11:20:21.369+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:21.374+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-18T11:20:21.369+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:21.371+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:21.374+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:21.376+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-18T11:20:21.390+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-18T11:20:21.391+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-18T11:20:21.379+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-18T11:20:21.387+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-18T11:20:21.389+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:21.392+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.393+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:21.396+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-18T11:20:21.397+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-18T11:20:21.393+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:21.398+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-18T11:20:21.398+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-18T11:20:21.399+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.395+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-18T11:20:21.395+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.409+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:21.409+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f20444] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:21.397+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.409+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-18T11:20:21.410+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1486012318 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:21.411+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.411+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:21.412+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.412+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-18T11:20:21.413+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:21.414+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15004882] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:21.415+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:21.418+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@828027633 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:21.423+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-18T11:20:21.417+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-18T11:20:21.417+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585579d5] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:21.418+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:21.424+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-18T11:20:21.426+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@365031111 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:21.426+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278e8d53] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:21.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-18T11:20:21.429+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-18T11:20:21.431+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1325586480 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:21.433+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-18T11:20:21.433+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f20444]
2025-12-18T11:20:21.433+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-18T11:20:21.434+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:21.437+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-18T11:20:21.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-18T11:20:21.440+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:21.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-18T11:20:21.446+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15004882]
2025-12-18T11:20:21.448+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-18T11:20:21.448+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:21.448+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585579d5]
2025-12-18T11:20:21.449+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-18T11:20:21.449+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-18T11:20:21.449+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:21.450+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278e8d53]
2025-12-18T11:20:21.451+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:21.455+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-18T11:20:21.456+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:21.458+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:21.459+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-18T11:20:21.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:26.394+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T11:20:26.397+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/companies
2025-12-18T11:20:26.399+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/companies
2025-12-18T11:20:26.399+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/companies
2025-12-18T11:20:26.402+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/companies", parameters={}
2025-12-18T11:20:26.403+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#createCompany(CompanyCreateRequest)
2025-12-18T11:20:26.406+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CompanyController.CompanyCreateRequest(companyName=test_company)]
2025-12-18T11:20:26.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:26.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:26.410+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.b.controller.CompanyController       : 회사 생성 시도 - companyName: test_company, userId: 1
2025-12-18T11:20:26.426+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:26.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e41cd1]
2025-12-18T11:20:26.430+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@32624188 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will be managed by Spring
2025-12-18T11:20:26.430+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.existsByCode  : ==>  Preparing: SELECT COUNT(*) > 0 FROM company_tb WHERE company_code = ?
2025-12-18T11:20:26.431+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.existsByCode  : ==> Parameters: A7BW5H(String)
2025-12-18T11:20:26.433+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.existsByCode  : <==      Total: 1
2025-12-18T11:20:26.434+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e41cd1]
2025-12-18T11:20:26.435+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e41cd1] from current transaction
2025-12-18T11:20:26.438+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.backend.mapper.CompanyMapper.insert  : ==>  Preparing: INSERT INTO company_tb (company_code, company_name, created_by, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-12-18T11:20:26.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.backend.mapper.CompanyMapper.insert  : ==> Parameters: A7BW5H(String), test_company(String), 1(Long), true(Boolean), 2025-12-18T11:20:26.434576600(LocalDateTime), 2025-12-18T11:20:26.434576600(LocalDateTime)
2025-12-18T11:20:26.447+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.backend.mapper.CompanyMapper.insert  : <==    Updates: 1
2025-12-18T11:20:26.450+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e41cd1]
2025-12-18T11:20:26.450+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.backend.service.CompanyService       : 회사 생성 완료 - companyId: 1, companyName: test_company, createdBy: 1
2025-12-18T11:20:26.451+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e41cd1]
2025-12-18T11:20:26.451+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e41cd1]
2025-12-18T11:20:26.455+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e41cd1]
2025-12-18T11:20:26.463+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:26.464+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36101206] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:26.464+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1880165888 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:26.465+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:20:26.465+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:20:26.467+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:20:26.468+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36101206]
2025-12-18T11:20:26.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:26.474+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c0bf1ef] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:26.474+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@985485898 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:26.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-18T11:20:26.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_ceo(String), null, 대표(String), CEO(String), true(Boolean), 1(Long), APPROVED(String), 1(Long)
2025-12-18T11:20:26.481+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-18T11:20:26.481+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c0bf1ef]
2025-12-18T11:20:26.482+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.b.controller.CompanyController       : 회사 생성 완료 - companyId: 1, companyName: test_company, userId: 1
2025-12-18T11:20:26.483+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:26.484+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=회사가 등록되었습니다., data=CompanyDto(companyId=1, companyCode=A7BW5H, com (truncated)...]
2025-12-18T11:20:26.485+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:27.815+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-18T11:20:27.816+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:27.824+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-18T11:20:27.818+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:27.818+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:27.829+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:27.830+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-18T11:20:27.833+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-18T11:20:27.841+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-18T11:20:27.844+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:20:27.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:27.846+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-18T11:20:27.847+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:27.848+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:27.851+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/companies
2025-12-18T11:20:27.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-18T11:20:27.862+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:20:27.857+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-18T11:20:27.860+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-18T11:20:27.861+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-18T11:20:27.862+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-18T11:20:27.863+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:20:27.867+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.868+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-18T11:20:27.868+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-18T11:20:27.872+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.874+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:20:27.874+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.875+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:27.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:27.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.878+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:27.879+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:27.879+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1daa0140] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:27.880+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:27.881+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12171fdc] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:27.880+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:27.880+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c282c6] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:27.881+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:27.882+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc4e93a] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:27.883+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1289974081 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:27.884+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7122c0e9] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:27.886+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@41653693 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:27.890+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1911181049 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:27.891+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-18T11:20:27.892+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1097460476 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:27.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-18T11:20:27.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-18T11:20:27.894+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-18T11:20:27.895+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-18T11:20:27.895+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-18T11:20:27.895+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1089253165 wrapping com.mysql.cj.jdbc.ConnectionImpl@62cb665b] will not be managed by Spring
2025-12-18T11:20:27.895+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-18T11:20:27.896+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-18T11:20:27.897+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:20:27.898+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-18T11:20:27.898+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:20:27.899+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1daa0140]
2025-12-18T11:20:27.900+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-18T11:20:27.902+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:27.907+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12171fdc]
2025-12-18T11:20:27.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-18T11:20:27.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:27.910+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-18T11:20:27.910+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-18T11:20:27.915+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c282c6]
2025-12-18T11:20:27.911+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:27.915+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-18T11:20:27.915+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc4e93a]
2025-12-18T11:20:27.920+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:27.916+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:20:27.916+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:27.920+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:27.926+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-18T11:20:27.925+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7122c0e9]
2025-12-18T11:20:27.925+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-18T11:20:27.926+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-18T11:20:27.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:27.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-18T11:20:27.930+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:27.931+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:27.932+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:20:27.932+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-18T11:20:27.933+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:27.933+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:27.938+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:27.945+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:27.945+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-18T11:20:27.948+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-18T11:20:27.949+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:27.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-18T11:20:27.953+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-18T11:20:27.954+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:27.955+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:27.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:27.959+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:20:27.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-18T11:20:27.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-18T11:20:27.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-18T11:20:27.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-18T11:20:27.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.977+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-18T11:20:27.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-18T11:20:27.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/companies
2025-12-18T11:20:27.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:27.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:20:27.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.986+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d15761d] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:27.989+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:27.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:27.990+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:27.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:20:27.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:27.996+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46e2a010] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:27.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@186352706 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:27.997+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-18T11:20:27.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50e7b437] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:27.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78db99f3] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:27.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:20:27.997+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@867088517 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:28.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-18T11:20:27.998+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-18T11:20:27.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@63983469 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:28.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129582362 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:28.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:28.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-18T11:20:28.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-18T11:20:28.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-18T11:20:28.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:28.012+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-18T11:20:28.013+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-18T11:20:28.015+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-18T11:20:28.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d15761d]
2025-12-18T11:20:28.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-18T11:20:28.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26802de4] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.024+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46e2a010]
2025-12-18T11:20:28.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-18T11:20:28.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1167589253 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:28.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-18T11:20:28.031+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.032+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50e7b437]
2025-12-18T11:20:28.032+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:20:28.033+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-18T11:20:28.033+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-18T11:20:28.040+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-18T11:20:28.041+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.041+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:20:28.042+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78db99f3]
2025-12-18T11:20:28.044+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.046+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-18T11:20:28.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-18T11:20:28.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.057+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-18T11:20:28.051+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:28.053+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:20:28.056+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26802de4]
2025-12-18T11:20:28.057+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-18T11:20:28.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-18T11:20:28.065+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.065+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-18T11:20:28.072+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:28.077+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:28.078+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:28.080+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:20:28.081+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-18T11:20:28.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-18T11:20:28.091+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-18T11:20:28.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:28.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:28.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-18T11:20:28.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-18T11:20:28.085+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.090+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-18T11:20:28.094+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:28.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-18T11:20:28.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22206b1d] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-18T11:20:28.116+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@521390801 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:28.116+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6cb0f2] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.116+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.120+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.124+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-18T11:20:28.125+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c39f923] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.125+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1231616196 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:28.125+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.126+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-18T11:20:28.126+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1139696510 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:28.126+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-18T11:20:28.127+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.128+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-18T11:20:28.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-18T11:20:28.132+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19552df] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.132+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-18T11:20:28.133+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@301159281 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:28.133+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-18T11:20:28.139+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22206b1d]
2025-12-18T11:20:28.139+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-18T11:20:28.139+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-18T11:20:28.139+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-18T11:20:28.140+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6cb0f2]
2025-12-18T11:20:28.140+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.140+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-18T11:20:28.140+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c39f923]
2025-12-18T11:20:28.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-18T11:20:28.142+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-18T11:20:28.143+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.145+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-18T11:20:28.151+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-18T11:20:28.154+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-18T11:20:28.157+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:28.157+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.158+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19552df]
2025-12-18T11:20:28.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-18T11:20:28.168+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:28.178+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-18T11:20:28.179+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.179+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-18T11:20:28.180+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:28.181+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-18T11:20:28.181+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-18T11:20:28.182+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:28.183+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-18T11:20:28.185+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-18T11:20:28.185+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.187+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:28.188+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-18T11:20:28.190+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:28.191+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.193+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-18T11:20:28.194+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-18T11:20:28.201+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.202+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-18T11:20:28.203+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.205+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:28.206+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.209+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-18T11:20:28.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32944d44] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.212+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.213+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c1527] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.213+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-18T11:20:28.214+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@62324665 wrapping com.mysql.cj.jdbc.ConnectionImpl@62cb665b] will not be managed by Spring
2025-12-18T11:20:28.215+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.216+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1723771495 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:28.216+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.219+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-18T11:20:28.221+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d4b2e52] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.228+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-18T11:20:28.226+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-18T11:20:28.227+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.229+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1861938123 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:28.231+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-18T11:20:28.237+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.239+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-18T11:20:28.247+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-18T11:20:28.244+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430537d3] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.250+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774796680 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:28.253+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-18T11:20:28.259+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-18T11:20:28.261+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32944d44]
2025-12-18T11:20:28.263+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-18T11:20:28.263+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-18T11:20:28.263+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.264+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-18T11:20:28.264+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d4b2e52]
2025-12-18T11:20:28.265+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-18T11:20:28.266+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c1527]
2025-12-18T11:20:28.267+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.269+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.271+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.272+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-18T11:20:28.275+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-18T11:20:28.275+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.276+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.281+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-18T11:20:28.282+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430537d3]
2025-12-18T11:20:28.284+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.290+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-18T11:20:28.292+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.317+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-18T11:20:28.318+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:28.318+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:28.323+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:28.325+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-18T11:20:28.325+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-18T11:20:28.327+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:28.328+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-18T11:20:28.328+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-18T11:20:28.329+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-18T11:20:28.330+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-18T11:20:28.330+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-18T11:20:28.331+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-18T11:20:28.332+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-18T11:20:28.332+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-18T11:20:28.341+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-18T11:20:28.334+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-18T11:20:28.334+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-18T11:20:28.345+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-18T11:20:28.340+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-18T11:20:28.342+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.344+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.345+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.347+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.347+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.348+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.348+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.349+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:20:28.349+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.350+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.357+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@636c712c] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba1c22d] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.357+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733c213b] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@451417984 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:28.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1048929394 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:28.361+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694137f2] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1819018681 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:28.363+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1333943872 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:28.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-18T11:20:28.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-18T11:20:28.363+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-18T11:20:28.363+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-18T11:20:28.365+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-18T11:20:28.364+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-18T11:20:28.364+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-18T11:20:28.365+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-18T11:20:28.374+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-18T11:20:28.375+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-18T11:20:28.376+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694137f2]
2025-12-18T11:20:28.377+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@636c712c]
2025-12-18T11:20:28.378+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.377+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-18T11:20:28.378+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-18T11:20:28.377+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-18T11:20:28.379+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba1c22d]
2025-12-18T11:20:28.378+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.378+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733c213b]
2025-12-18T11:20:28.379+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.379+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.381+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-18T11:20:28.381+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.383+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.383+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-18T11:20:28.383+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-18T11:20:28.387+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.389+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.844+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:20:28.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:28.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:20:28.847+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T11:20:28.848+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T11:20:28.849+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:20:28.848+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T11:20:28.848+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:20:28.849+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:20:28.849+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:28.850+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:20:28.850+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:20:28.850+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:20:28.850+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:20:28.855+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:28.857+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:20:28.859+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.859+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63903218] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.860+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1220056863 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:28.858+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.862+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c1720a0] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.859+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:28.864+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.862+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:20:28.864+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2146712800 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:28.867+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:28.865+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69820f6d] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.866+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), null
2025-12-18T11:20:28.873+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T11:20:28.878+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@97322859 wrapping com.mysql.cj.jdbc.ConnectionImpl@62cb665b] will not be managed by Spring
2025-12-18T11:20:28.878+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:20:28.878+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:28.878+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:20:28.879+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63903218]
2025-12-18T11:20:28.880+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c1720a0]
2025-12-18T11:20:28.880+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:20:28.881+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.882+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.883+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:20:28.884+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c811ff9] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.887+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.888+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2034641129 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:28.889+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:20:28.892+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:28.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:28.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69820f6d]
2025-12-18T11:20:28.894+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T11:20:28.895+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.896+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cceea37] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.896+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T11:20:28.896+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1207839298 wrapping com.mysql.cj.jdbc.ConnectionImpl@62cb665b] will not be managed by Spring
2025-12-18T11:20:28.897+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:28.897+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:28.897+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:20:28.897+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:20:28.899+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c811ff9]
2025-12-18T11:20:28.900+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:20:28.900+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:20:28.900+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.902+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.903+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:20:28.904+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:20:28.904+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77896aa0] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.904+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.906+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cceea37]
2025-12-18T11:20:28.907+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332719037 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:28.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:20:28.909+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.909+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:20:28.910+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:20:28.913+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.911+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T11:20:28.912+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), null
2025-12-18T11:20:28.916+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:20:28.917+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:20:28.918+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:20:28.922+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:20:28.922+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T11:20:28.931+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3955be40] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.931+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:20:28.933+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:20:28.934+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:20:28.935+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:20:28.937+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:28.939+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77896aa0]
2025-12-18T11:20:28.941+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:28.941+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319769407 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:28.941+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.942+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.942+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:28.942+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:20:28.942+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23612cb4] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.943+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T11:20:28.943+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1236286628 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:28.948+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:20:28.948+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:20:28.949+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:28.949+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3955be40]
2025-12-18T11:20:28.951+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.953+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba32aab] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.955+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@352487886 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:28.956+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:28.957+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:20:28.957+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23612cb4]
2025-12-18T11:20:28.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T11:20:28.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:28.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c032061] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:28.959+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@908962777 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:28.959+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:20:28.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:20:28.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:28.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba32aab]
2025-12-18T11:20:28.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:20:28.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c032061]
2025-12-18T11:20:28.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:20:28.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:28.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:20:28.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:28.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:30.545+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-18T11:20:30.559+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-18T11:20:30.567+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/logout
2025-12-18T11:20:30.567+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-18T11:20:30.575+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-18T11:20:30.578+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-18T11:20:30.583+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-18T11:20:30.592+09:00  INFO 31564 --- [http-nio-8080-exec-6] SECURITY                                 : LOGOUT userId=1
2025-12-18T11:20:30.596+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:30.599+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-18T11:20:30.603+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:33.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T11:20:33.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:20:33.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T11:20:33.361+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T11:20:33.361+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T11:20:33.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-18T11:20:33.362+09:00  INFO 31564 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-18T11:20:33.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.363+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38edca41] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.365+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@351353694 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:33.368+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T11:20:33.370+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-18T11:20:33.372+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T11:20:33.374+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38edca41]
2025-12-18T11:20:33.457+09:00  INFO 31564 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2025-12-18T11:20:33.457+09:00  INFO 31564 --- [http-nio-8080-exec-10] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-18T11:20:33.458+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:33.458+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-18T11:20:33.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:33.487+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T11:20:33.491+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:20:33.493+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:20:33.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:20:33.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:20:33.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:20:33.496+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:33.496+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:33.497+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.497+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4731f6dd] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.499+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@694122267 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:33.500+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:20:33.501+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:20:33.505+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:20:33.506+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4731f6dd]
2025-12-18T11:20:33.507+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:33.508+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:20:33.509+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:33.599+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:20:33.599+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:20:33.600+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:33.603+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:20:33.606+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:20:33.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:20:33.616+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:20:33.608+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:20:33.610+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:20:33.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:20:33.616+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:20:33.619+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:20:33.620+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:33.622+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:20:33.623+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:20:33.620+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:20:33.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:20:33.621+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:20:33.622+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:20:33.623+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.630+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:20:33.625+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:33.629+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:33.630+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3afab213] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.631+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.632+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@607043f2] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.631+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:20:33.632+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:33.633+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.643+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d0cfd2] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.634+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.644+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ddaac2] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.644+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981779232 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:20:33.645+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:20:33.646+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1393028539 wrapping com.mysql.cj.jdbc.ConnectionImpl@54adae9a] will not be managed by Spring
2025-12-18T11:20:33.646+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@88128215 wrapping com.mysql.cj.jdbc.ConnectionImpl@62cb665b] will not be managed by Spring
2025-12-18T11:20:33.649+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:33.647+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:20:33.649+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:20:33.650+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:20:33.657+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@239272958 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:33.660+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:20:33.663+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:20:33.664+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:20:33.665+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:20:33.667+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ddaac2]
2025-12-18T11:20:33.667+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:20:33.667+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:33.672+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:33.672+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:20:33.673+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3afab213]
2025-12-18T11:20:33.673+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@607043f2]
2025-12-18T11:20:33.675+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:20:33.675+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d0cfd2]
2025-12-18T11:20:33.675+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:33.677+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.678+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:33.678+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:33.678+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:20:33.679+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192e9b51] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.680+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:20:33.682+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:20:33.684+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:33.685+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2042692859 wrapping com.mysql.cj.jdbc.ConnectionImpl@62cb665b] will not be managed by Spring
2025-12-18T11:20:33.690+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:33.690+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:20:33.691+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:33.697+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:20:33.694+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:20:33.698+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:20:33.700+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:20:33.700+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:33.708+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:33.710+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:20:33.710+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:20:33.711+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.711+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:20:33.711+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:33.712+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a67fa7] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.714+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:20:33.715+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192e9b51]
2025-12-18T11:20:33.715+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@329467194 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c48e5a9] will not be managed by Spring
2025-12-18T11:20:33.716+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:20:33.717+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:33.723+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.717+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:20:33.723+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:20:33.724+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a0ddce] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.725+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:20:33.726+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:33.728+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1103007919 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:33.733+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:20:33.731+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:20:33.741+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:20:33.747+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:20:33.749+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:20:33.750+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:20:33.756+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:20:33.757+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a67fa7]
2025-12-18T11:20:33.757+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:20:33.758+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:33.759+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:20:33.760+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.761+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:20:33.762+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a0ddce]
2025-12-18T11:20:33.762+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1fc25e] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.763+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:33.765+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:33.769+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:20:33.777+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:33.766+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794875647 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:33.781+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:33.784+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:20:33.792+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:33.793+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1fc25e]
2025-12-18T11:20:33.793+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:20:33.794+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ad8fee] was not registered for synchronization because synchronization is not active
2025-12-18T11:20:33.794+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@14858455 wrapping com.mysql.cj.jdbc.ConnectionImpl@2aa5c68] will not be managed by Spring
2025-12-18T11:20:33.794+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:20:33.797+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:20:33.799+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:20:33.800+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ad8fee]
2025-12-18T11:20:33.800+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:20:33.801+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:20:33.802+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:20:52.870+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-18T11:20:52.872+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:46:25.354+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:46:25.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:46:25.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:46:25.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:46:25.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:46:25.361+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:46:25.365+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:46:25.365+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:46:25.368+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:46:25.367+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:46:25.368+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:46:25.368+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:46:25.370+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:46:25.371+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:46:25.369+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:46:25.373+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:46:25.370+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:46:25.377+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:46:25.371+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:46:25.372+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:25.373+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:46:25.383+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:25.388+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:46:25.390+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d4bc4d] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:25.391+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:46:25.392+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31670f85] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:25.404+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:46:25.406+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:25.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:46:25.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16f16b3b] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:25.410+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@313759892 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:46:25.411+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264001749 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:46:25.415+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:46:25.417+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:46:25.411+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:25.415+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:46:25.419+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@225f07ec] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:25.421+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:46:25.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:46:25.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:46:25.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1102358614 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:46:25.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1713843927 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:46:25.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31670f85]
2025-12-18T11:46:25.428+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d4bc4d]
2025-12-18T11:46:25.429+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:46:25.429+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:46:25.436+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:25.437+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:25.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:46:25.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:46:25.440+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a418b41] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:25.440+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:46:25.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@391473612 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:46:25.447+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:25.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:46:25.454+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:46:25.458+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:46:25.459+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16f16b3b]
2025-12-18T11:46:25.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:25.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:46:25.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:46:25.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@225f07ec]
2025-12-18T11:46:25.463+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:25.467+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:25.469+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:46:25.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:46:25.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a418b41]
2025-12-18T11:46:25.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:25.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:25.479+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:46:25.488+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:25.647+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:46:25.649+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:46:25.650+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:46:25.651+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:46:25.651+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:46:25.653+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:46:25.653+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:46:25.653+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:46:25.654+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:46:25.656+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:25.656+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:46:25.658+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1217e906] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:25.659+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:25.659+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1128195679 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:46:25.659+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14818842] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:25.660+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:46:25.660+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@940783084 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:46:25.661+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:46:25.661+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:46:25.670+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:46:25.673+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:46:25.675+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1217e906]
2025-12-18T11:46:25.677+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:25.677+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fdf129f] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:25.678+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1118669243 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:46:25.686+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:46:25.681+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:46:25.687+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:46:25.687+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14818842]
2025-12-18T11:46:25.688+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:25.693+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:46:25.694+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:25.704+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:46:25.708+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fdf129f]
2025-12-18T11:46:25.709+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:25.710+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:46:25.711+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:25.724+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:46:25.726+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:46:25.727+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:46:25.727+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:46:25.728+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:46:25.728+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:46:25.729+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:46:25.734+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:25.734+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a0caf6] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:25.735+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@865790367 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:46:25.735+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:46:25.736+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:46:25.739+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:46:25.740+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a0caf6]
2025-12-18T11:46:25.741+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:25.742+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:46:25.743+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:25.751+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:46:25.753+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:46:25.755+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:46:25.755+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:46:25.756+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:46:25.758+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:46:25.760+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:46:25.769+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:25.770+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@163d6e30] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:25.771+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1514681437 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:46:25.771+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:46:25.772+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:46:25.781+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:46:25.787+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@163d6e30]
2025-12-18T11:46:25.790+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:25.791+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:46:25.795+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:26.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:46:26.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:46:26.357+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:46:26.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:46:26.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:46:26.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:46:26.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:46:26.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:46:26.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:46:26.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:46:26.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:46:26.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:46:26.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:46:26.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:46:26.361+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:46:26.363+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:26.370+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:26.372+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201e9224] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:26.371+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:46:26.372+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd6fba0] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:26.375+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:46:26.378+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:26.378+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1099060621 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:46:26.379+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36065b39] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:26.386+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:46:26.386+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@123222886 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:46:26.388+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:46:26.388+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1979098879 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:46:26.388+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:46:26.390+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:46:26.391+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:46:26.392+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:46:26.392+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:46:26.393+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201e9224]
2025-12-18T11:46:26.395+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:26.397+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:46:26.403+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:46:26.404+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd6fba0]
2025-12-18T11:46:26.404+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:46:26.405+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36065b39]
2025-12-18T11:46:26.405+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:26.405+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:26.406+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:26.406+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e95c3a9] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:26.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:46:26.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1613242940 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:46:26.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:46:26.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:26.409+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:46:26.421+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:46:26.423+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e95c3a9]
2025-12-18T11:46:26.423+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:26.424+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:46:26.425+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:26.429+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:46:26.430+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:46:26.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:46:26.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:46:26.446+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:46:26.448+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:46:26.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:46:26.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:46:26.453+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:46:26.454+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:46:26.455+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:46:26.456+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:26.456+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:46:26.457+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29defa23] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:26.458+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:26.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fcdff50] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:26.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1984297650 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:46:26.466+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:46:26.470+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:46:26.472+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2132038156 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:46:26.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:46:26.474+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:46:26.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:46:26.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fcdff50]
2025-12-18T11:46:26.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:46:26.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:26.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29defa23]
2025-12-18T11:46:26.480+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:26.479+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:46:26.484+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a1710c] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:26.486+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:26.487+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@12951079 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:46:26.488+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:46:26.490+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:46:26.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:46:26.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a1710c]
2025-12-18T11:46:26.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:26.496+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:46:26.502+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:26.508+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:46:26.510+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:46:26.510+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:46:26.511+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:46:26.511+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:46:26.512+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:26.517+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f3599be] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:26.517+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1501036698 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:46:26.519+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:46:26.521+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:46:26.526+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:46:26.527+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f3599be]
2025-12-18T11:46:26.527+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:26.528+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:46:26.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:26.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:46:26.537+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:46:26.538+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:46:26.538+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:46:26.538+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:46:26.539+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:46:26.539+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:46:26.540+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:46:26.541+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:46:26.542+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:46:26.542+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:26.542+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:46:26.542+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4012e1f2] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:26.543+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:46:26.543+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1481220650 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:46:26.543+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:46:26.544+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:46:26.544+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:46:26.545+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:46:26.545+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9e25c5] was not registered for synchronization because synchronization is not active
2025-12-18T11:46:26.545+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:46:26.546+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@767726563 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffb6285] will not be managed by Spring
2025-12-18T11:46:26.554+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:46:26.556+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:46:26.558+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:46:26.559+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4012e1f2]
2025-12-18T11:46:26.560+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:26.561+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:46:26.562+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:46:26.565+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:46:26.571+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9e25c5]
2025-12-18T11:46:26.573+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:46:26.574+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:46:26.575+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:53:11.301+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:53:11.307+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:53:11.308+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:53:11.309+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:53:11.310+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:53:11.313+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:53:11.314+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d146b6] was not registered for synchronization because synchronization is not active
2025-12-18T11:53:11.344+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@335652451 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:53:11.345+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:53:11.346+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:53:11.350+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:53:11.350+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d146b6]
2025-12-18T11:53:11.351+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:53:11.352+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@200ee413] was not registered for synchronization because synchronization is not active
2025-12-18T11:53:11.352+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1605470999 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:53:11.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:53:11.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:53:11.365+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:53:11.368+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@200ee413]
2025-12-18T11:53:11.369+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:53:11.369+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:53:11.374+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:53:11.382+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:53:11.384+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:53:11.385+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:53:11.385+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:53:11.386+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:53:11.386+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:53:11.389+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d82d6d] was not registered for synchronization because synchronization is not active
2025-12-18T11:53:11.394+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179735950 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:53:11.402+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:53:11.402+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:53:11.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:53:11.409+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:53:11.410+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:53:11.410+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:53:11.412+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:53:11.413+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:53:11.414+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:53:11.415+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d82d6d]
2025-12-18T11:53:11.419+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:53:11.423+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:53:11.417+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:53:11.425+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:53:11.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:53:11.430+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@738e1e30] was not registered for synchronization because synchronization is not active
2025-12-18T11:53:11.434+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@549501766 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:53:11.435+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:53:11.436+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:53:11.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:53:11.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@738e1e30]
2025-12-18T11:53:11.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:53:11.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:53:11.446+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:53:11.451+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:53:11.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:53:11.454+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:53:11.458+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:53:11.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:53:11.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:53:11.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:53:11.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:53:11.463+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:53:11.463+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:53:11.464+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:53:11.465+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:53:11.468+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:53:11.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:53:11.469+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@638d1432] was not registered for synchronization because synchronization is not active
2025-12-18T11:53:11.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f83631] was not registered for synchronization because synchronization is not active
2025-12-18T11:53:11.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@885486784 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:53:11.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732145401 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:53:11.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:53:11.479+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:53:11.481+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:53:11.482+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:53:11.502+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:53:11.503+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:53:11.511+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f83631]
2025-12-18T11:53:11.511+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@638d1432]
2025-12-18T11:53:11.513+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:53:11.517+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:53:11.518+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:53:11.519+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a811cbb] was not registered for synchronization because synchronization is not active
2025-12-18T11:53:11.520+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:53:11.523+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1906752349 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:53:11.524+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:53:11.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:53:11.536+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T11:53:11.539+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a811cbb]
2025-12-18T11:53:11.541+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:53:11.543+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T11:53:11.544+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:53:11.549+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:53:11.561+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:53:11.562+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:53:11.562+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:53:11.563+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:53:11.563+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:53:11.563+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b41a64b] was not registered for synchronization because synchronization is not active
2025-12-18T11:53:11.564+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1225927981 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:53:11.564+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:53:11.565+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:53:11.566+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:53:11.568+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:53:11.568+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:53:11.569+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b41a64b]
2025-12-18T11:53:11.569+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:53:11.572+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:53:11.574+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:53:11.574+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:53:11.574+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:53:11.575+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:53:11.575+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:53:11.576+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:53:11.577+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:53:11.577+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbeb3f3] was not registered for synchronization because synchronization is not active
2025-12-18T11:53:11.578+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1063992776 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:53:11.579+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:53:11.580+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:53:11.583+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:53:11.584+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbeb3f3]
2025-12-18T11:53:11.586+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:53:11.592+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:53:11.593+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:53:11.603+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:53:11.610+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:53:11.611+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:53:11.612+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:53:11.612+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:53:11.613+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:53:11.613+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:53:11.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:53:11.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db91f5e] was not registered for synchronization because synchronization is not active
2025-12-18T11:53:11.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@366436852 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:53:11.616+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:53:11.616+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:53:11.625+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:53:11.625+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db91f5e]
2025-12-18T11:53:11.627+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:53:11.630+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:53:11.631+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:56:49.923+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-18T11:56:49.923+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-18T11:56:50.180+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-18T11:56:50.269+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/admins
2025-12-18T11:56:50.295+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-18T11:56:50.433+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-18T11:56:50.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-18T11:56:50.483+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:50.508+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fdc3155] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:50.519+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1999924150 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:56:50.523+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-18T11:56:50.594+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-18T11:56:50.680+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 1
2025-12-18T11:56:50.684+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fdc3155]
2025-12-18T11:56:50.686+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:56:50.688+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-18T11:56:50.690+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:56:50.744+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-18T11:56:50.754+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/admins
2025-12-18T11:56:50.756+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-18T11:56:50.756+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-18T11:56:50.758+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-18T11:56:50.759+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:50.759+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4f9466] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:50.769+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1357742158 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:56:50.770+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-18T11:56:50.770+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-18T11:56:50.774+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 1
2025-12-18T11:56:50.774+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4f9466]
2025-12-18T11:56:50.774+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:56:50.775+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-18T11:56:50.777+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:56:57.052+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/create
2025-12-18T11:56:57.056+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/create
2025-12-18T11:56:57.057+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/create
2025-12-18T11:56:57.058+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/create
2025-12-18T11:56:57.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/create", parameters={}
2025-12-18T11:56:57.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#createExpense(ExpenseReportDto)
2025-12-18T11:56:57.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=1, reportDate=2025-12-18, title=test, totalAmount=1 (truncated)...]
2025-12-18T11:56:57.107+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.b.controller.ExpenseController       : 지출결의서 생성 요청 - drafterId: 1, currentUserId: 1, title: test, totalAmount: 10000
2025-12-18T11:56:57.121+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:57.121+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc71425]
2025-12-18T11:56:57.122+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@918036297 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will be managed by Spring
2025-12-18T11:56:57.122+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:56:57.123+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:56:57.125+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:56:57.127+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc71425]
2025-12-18T11:56:57.128+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc71425] from current transaction
2025-12-18T11:56:57.128+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.insertExpenseReport            : ==>  Preparing: INSERT INTO expense_report_tb ( drafter_id, report_date, title, total_amount, status, payment_req_date, is_secret, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-18T11:56:57.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.insertExpenseReport            : ==> Parameters: 1(Long), 2025-12-18(LocalDate), test(String), 10000(Long), WAIT(String), null, false(Boolean), 1(Long)
2025-12-18T11:56:57.144+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.insertExpenseReport            : <==    Updates: 1
2025-12-18T11:56:57.145+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc71425]
2025-12-18T11:56:57.146+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.backend.service.ExpenseService       : 상세 항목 저장 시작 - 항목 수: 1
2025-12-18T11:56:57.146+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc71425] from current transaction
2025-12-18T11:56:57.147+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-18T11:56:57.149+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 1(Long), 식대(String), (String), 10000(Long), (String), 1(Long)
2025-12-18T11:56:57.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-18T11:56:57.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc71425]
2025-12-18T11:56:57.173+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.backend.service.ExpenseService       : 상세 항목 저장 완료
2025-12-18T11:56:57.175+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.backend.service.ExpenseService       : 지출결의서 생성 완료 - expenseReportId: 1
2025-12-18T11:56:57.176+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc71425]
2025-12-18T11:56:57.179+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc71425]
2025-12-18T11:56:57.185+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc71425]
2025-12-18T11:56:57.205+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.b.controller.ExpenseController       : 지출결의서 생성 완료 - expenseId: 1
2025-12-18T11:56:57.207+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:56:57.209+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=기안서 저장 성공, data=1)]
2025-12-18T11:56:57.215+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:56:57.220+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/1/approval-lines
2025-12-18T11:56:57.227+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/1/approval-lines
2025-12-18T11:56:57.230+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/1/approval-lines
2025-12-18T11:56:57.236+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/1/approval-lines
2025-12-18T11:56:57.238+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/1/approval-lines", parameters={}
2025-12-18T11:56:57.329+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#setApprovalLines(Long, ApprovalLineRequest)
2025-12-18T11:56:57.554+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseController.ApprovalLineRequest(approvalLines=[ApprovalLineDto(approvalLineId=null, expenseRep (truncated)...]
2025-12-18T11:56:57.593+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:57.596+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f]
2025-12-18T11:56:57.597+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@84683409 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will be managed by Spring
2025-12-18T11:56:57.603+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:56:57.610+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:56:57.623+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:56:57.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f]
2025-12-18T11:56:57.625+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f] from current transaction
2025-12-18T11:56:57.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.selectUsersByRole     : ==>  Preparing: SELECT * FROM user_tb WHERE role = ? AND company_id = ? ORDER BY user_id
2025-12-18T11:56:57.627+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.selectUsersByRole     : ==> Parameters: ACCOUNTANT(String), 1(Long)
2025-12-18T11:56:57.630+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.selectUsersByRole     : <==      Total: 0
2025-12-18T11:56:57.630+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f]
2025-12-18T11:56:57.635+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f] from current transaction
2025-12-18T11:56:57.637+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f]
2025-12-18T11:56:57.638+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f] from current transaction
2025-12-18T11:56:57.638+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-18T11:56:57.640+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 1(Long), 1(Long), 1(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-18T11:56:57.663+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-18T11:56:57.667+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f]
2025-12-18T11:56:57.667+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f]
2025-12-18T11:56:57.668+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f]
2025-12-18T11:56:57.669+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b585e0f]
2025-12-18T11:56:57.682+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:56:57.685+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재 라인 설정 성공, data=null)]
2025-12-18T11:56:57.686+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:56:58.602+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/1
2025-12-18T11:56:58.602+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/1
2025-12-18T11:56:58.606+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:56:58.607+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/1
2025-12-18T11:56:58.608+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:56:58.609+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:56:58.610+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:56:58.611+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:58.612+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ab427d] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:58.616+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@888230789 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:56:58.622+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:56:58.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:56:58.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:56:58.628+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ab427d]
2025-12-18T11:56:58.630+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:58.631+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@395cc7a9] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:58.637+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@415575395 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:56:58.638+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:56:58.656+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:56:58.705+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:56:58.727+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@395cc7a9]
2025-12-18T11:56:58.772+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:58.774+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c77faf] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:58.793+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1593414065 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:56:58.806+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:56:58.810+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:56:58.823+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:56:58.837+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c77faf]
2025-12-18T11:56:58.839+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:58.839+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a92529b] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:58.839+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@919646755 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:56:58.840+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:56:58.841+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:56:58.846+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T11:56:58.860+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a92529b]
2025-12-18T11:56:58.862+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:58.863+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66a14c0a] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:58.864+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@509594831 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:56:58.868+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:56:58.870+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:56:58.873+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:56:58.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66a14c0a]
2025-12-18T11:56:58.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:56:58.878+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:56:58.881+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:56:58.916+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:56:58.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/1
2025-12-18T11:56:58.930+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:56:58.935+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:56:58.943+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:56:58.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:58.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369299ab] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:58.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@844176143 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:56:58.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:56:58.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:56:59.012+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:56:59.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369299ab]
2025-12-18T11:56:59.039+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:59.040+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6419068] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:59.044+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@972947163 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:56:59.056+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:56:59.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:56:59.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:56:59.104+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6419068]
2025-12-18T11:56:59.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:59.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47e25946] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:59.144+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294615298 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:56:59.168+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:56:59.176+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:56:59.221+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:56:59.228+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47e25946]
2025-12-18T11:56:59.231+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:59.233+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68d675ff] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:59.234+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1034627530 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:56:59.239+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:56:59.240+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:56:59.259+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T11:56:59.261+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68d675ff]
2025-12-18T11:56:59.270+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:56:59.271+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26bb193] was not registered for synchronization because synchronization is not active
2025-12-18T11:56:59.279+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1497974188 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:56:59.280+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:56:59.293+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:56:59.316+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:56:59.326+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26bb193]
2025-12-18T11:56:59.342+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:56:59.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:56:59.397+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:01.432+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/1/approve
2025-12-18T11:57:01.438+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/1/approve
2025-12-18T11:57:01.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/1/approve
2025-12-18T11:57:01.440+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/1/approve
2025-12-18T11:57:01.440+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/1/approve", parameters={}
2025-12-18T11:57:01.441+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#approveExpense(Long, ApprovalLineDto)
2025-12-18T11:57:01.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ApprovalLineDto(approvalLineId=null, expenseReportId=null, approverId=1, stepOrder=null, status=null (truncated)...]
2025-12-18T11:57:01.447+09:00  INFO 31564 --- [http-nio-8080-exec-7] c.i.b.controller.ExpenseController       : 결재 승인 요청 - expenseId: 1, approverId: 1
2025-12-18T11:57:01.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:01.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955]
2025-12-18T11:57:01.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1495096922 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will be managed by Spring
2025-12-18T11:57:01.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:57:01.463+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:01.472+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:57:01.472+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955]
2025-12-18T11:57:01.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955] from current transaction
2025-12-18T11:57:01.474+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : ==>  Preparing: UPDATE approval_line_tb SET status = 'APPROVED', signature_data = ?, approval_date = NOW() WHERE expense_report_id = ? AND approver_id = ? AND company_id = ?
2025-12-18T11:57:01.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : ==> Parameters: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAADICAYAAADFjnuPAAAOVklEQVR4Aezdr48cdR8H8AkpCIIgwUEImOr6ilLRWkgaFKKqFkHAVjUINLaqmBoMtghKQg1/QkkAgYAQgiLkIHmevqfMdXPXu9u9ndn9/ng94XuzOzP7nc/39WnenUy3fV44ODj4n8HArwG/BvwaKO/XwAuD/xEgQIBAkQICusi2KIoAgTMFOjhBQHfQZEskQKBOAQFdZ99UTYBABwICuoMmW2KPAtbcgoCAbqGL1kCAQJMCArrJtloUAQItCAjoFrpoDZsKOJ9AFQICuoo2KZIAgR4FBHSPXbdmAgSqEBDQVbRpt0W6GgECZQgI6DL6oAoCBAgcExDQx0jsIECAQBkCAnrTPjifAAECOxIQ0DuCdhkCBAhsKiCgNxVzPgECBHYkMHNA76hqlyFAgEAHAgK6gyZbIgECdQoI6Dr7pmoCBGYWKHE6AV1iV9REgACBJwIC+gmC/wgQIFCigIAusStqIlCagHr2IiCg98LuogQIEDhbQECfbeQMAgQI7EVAQO+F3UXbErAaAssICOhlXM1KgACBrQUE9NaEJiBAgMAyAgJ6GVezPhPwigCBcwoI6HPC+RgBAgSWFhDQSwubnwABAucUENDnhJvrY+YhQIDASQIC+iQZ+wkQILBnAQG95wa4PAECBE4SKDugT6rafgIECHQgIKA7aLIlEiBQp4CArrNvqiZAoGyBWaoT0LMwmoQAAQLzCwjo+U3NSIAAgVkEBPQsjCYhQGATAeeuJyCg13NyFgECBHYuIKB3Tu6CBAgQWE9AQK/n5CwCuxNwJQL/CQjo/yBsCBAgUJqAgC6tI+ohQIDAfwIC+j8Im1oE1EmgHwEB3U+vrZQAgcoEBHRlDVMuAQL9CAjotnptNQQINCQgoBtqpqUQINCWgIBuq59WQ4BAQwJdBXRDfbMUAgQ6EBDQHTTZEgkQqFNAQNfZN1UTINCBwLOA7mCxlkiAAIGaBAR0Td1SKwECXQkI6K7abbEEmhRodlECutnWWhgBArULCOjaO6h+AgSaFRDQzbbWwgg8FfCzXgEBXW/vVE6AQOMCArrxBlseAQL1Cgjoenun8jkEzEGgYAEBXXBzlEaAQN8CArrv/ls9AQIFCwjogpuz/9JUQIDAPgUE9D71XZsAAQKnCAjoU3AcIkCAwD4FBPT59X2SAAECiwoI6EV5TU6AAIHzCwjo89v5JAECBBYVWCygF63a5AQIEOhAQEB30OR1lvjzzz8Pd+7cORz37t0bMh4+fDjk2DQyV/atjunYtJ3OyeensTr36uv3339/uHXr1nD9+vVx5HWOP3r0KNMYBLoWENBdt38YPv744+HixYvjSDBOI0GZkeCcjmf78ssvj0Ga/dPI/tUxnZPPT2Oa9+j2q6++OvyNIKGfQM85V69ePawpwd95myx/pwLlXExAl9OLnVaSIHz99deHzz//fLxDXvfi//7775mnrnPOmZM8OSHBnLC+du3aeJedAH+y238EuhEQ0N20+tlCc+ebO9vff//9cOdbb7013Lx5cxy3b98e3nnnnXFkf0ZOzL5XX311eOONN4bsm0b2Z+R9tq+88kpOn20kqPMbSurOnXpqF9az8ZqoYAEBXXBzlijtaLjduHFjePz48Tju3r07ZCSgHzx4MGRMxw4ODsb3v/322/Djjz+O50/Hcl5G3mf7xx9/DDk/Y9qX/Zl7deTYN998M86b43mf7WeffTakhoR9xqrD0bAW1Ks6O3ntIjsUENA7xN73paZwm+pIGN6/f3+8G572zb2d7qoTtNMd+rTNscuXL4936jme99l+9NFHY0CnvowEd4I9x1bry3oyVvd5TaAlAQHdUjfPWEue506nTHeo0/uStwnuhPpqWOd9Ajuj5NrVRmAbAQG9jV5Fn82dZp7jpuQEXgI6r2sbqT3hnDvqBHbel7QGtRCYU0BAz6lZ8FxTOKfEBFy2BgECZQsI6LL7M1t133777eFcV65cOXztBQEC5QoI6HJ7M1tlebzx3XffjfPlK3J7e247VuAHAQLrCgjodaUqPi+PN6a/PPLBBx9UvBKlE+hLQEA33u/cPa9+e+PTTz9tfMWWR6AdAQFdTC+XKSR3z9PMtX5zY6rflkBvAgK64Y4fvXv27Y2Gm21pTQoI6Cbb+nRRq3fP+b5wxtMjfhIgUINALQFdg2VxNa4GtMcbxbVHQQTOFBDQZxLVeUIeb2Sk+tw5e7wRCYNAXQICuq5+rV3t6t2zcF6bzYkE5hfYYkYBvQVeyR+d7p5To785GAWDQH0CArq+nq1V8WpA+5uDa5E5iUBxAgK6uJZsX1DCefqH7PP8efsZzUBgKQHzniYgoE/TqfjYhQsXxurffffdcesHAQL1CQjo+np2ZsW5e57+7Y1Lly6deb4TCBAoU0BAl9mXrarKI45pAs+fJ4kqt4ruXEBAN/gLYPq3n/P8OaPBJVoSgS4EBHSDbf7pp58aXJUlEehPQEA32PPpEcfbb7/d4OqeLckrAq0LCOjGOjyFc5bl8UYUDAL1Cgjoent3ZuUC+kwiJxAoWkBAF92ezYvLV+zGTz35IaCfIPiPQMUCArri5j2v9NVQXn3c8bxz7SNAoGwBAV12f1RHgEDHAp0GdB8dX72b7mPFVkmgLQEB3VY/B1+ta6yhltO1gIDuuv0WT4BAyQLPC+iS61XbBgIecWyA5VQCBQoI6AKbsk1Jv/zyy+HHX3zxxcPXXhAgUJ+AgK6vZ6dW/MMPPxwe/+effw5fe0GgC4HGFimgG2vo6j8v6g8MG2uu5XQnIKAba7l/ya6xhlpO1wICurH2+9uDjTV01uWYrDYBAV1bx86odzWgfYvjDCyHCRQuIKALb9Cm5U0BLZw3lXM+gfIEBHR5PVHRfgRclUBxAgK6uJZsV9B0B73dLD5NgEAJAgK6hC4sUIOv2C2AakoCOxYQ0DsGX/pyS33Nbum6zU+AwHEBAX3cpOo9052zPySsuo2KJzAKCOiRob0fnkW311Mr6k9AQM/Rc3MQIEBgAQEBvQDqPqecHm14Fr3PLrg2gXkEBPQ8jsXMcuXKlcNaPOY4pPCCQJUCOwjoKl2qLXq6g/7111+rXYPCCRB4KiCgnzo09/Pvv/8ePOZorq0W1JmAgG6s4av/HrRHHI0113J2LrDvCwrofXdggetPjzkE9AK4piSwQwEBvUPsXV1quosW0LsSdx0CywgI6GVc9zrrdAf98OHDvdbh4o0LWN7iAgJ6ceLdX2AK6NxBZ+y+AlckQGAOAQE9h2Jhc0wBnbLcRUfBIFCngICus2+nVp1n0FNIf/HFF6ee6+BSAuYlsL2AgN7esMgZbt68OdaVO2iPOUYKPwhUJyCgq2vZegXfvn17mO6ib926td6HnEWAQFECArqodsxbzOpd9L179+adfLvZfJoAgTUEBPQaSLWesnoX/cknn9S6DHUT6FZAQDfe+g8//HBc4Z9//jncuXNnfO0HAQJ1CAjoAvs0Z0nvvffekG91ZM485sgfGua1QYBA+QICuvwebVVh/qDw7t274xz5Nkf+wDDbcYcfBAgULSCgi27PPMUlpPM8OrMlnK9duzZkm/cGAQLlCtQX0OVaFl1ZvtExPepIOCek88ij6KIVR6BzAQHdyS+A3EXnUUe2WXJCOo87MvLeIECgPAEBXV5PFqso4fz1118P0+OOXCh30W+++eaQbd4bBAgsJrDxxAJ6Y7K6P5CQTkA/fvx4eO2118bF5P+/MHfSc30NL3fnCfzMd/369eHixYu+4jdK+0FgMwEBvZlXM2cnqL/88sshz6anRSVQE6YJ1QTso0ePpkPHtgnhjHxtL+fms/ncSy+9NAbyFPg5nvNyPNtjE9lBgMCJAgL6RJr2D1y+fHnIc+ncUU+rTYgmVBOwV69eHcM2oZ2RfQnhvJ5G3md/Ajifm+Y5us0fUOY3haP7vScwCdgeFxDQx02625OAziOP1bvpCSGBPY3cKSeE8346ftI2YZx58xvAwcHB8ODBg5NOtZ8AgRMEBPQJML3tTqAmTBPU2d64cWO4dOnSqQwXLlwY/8W8fDZ3yAnkBHECOfPk/fNC/9RJHSRA4FBAQB9SeBGBhG1C9f79+8P3338/JGgTuhkJ7oy8zv6//vprPJ7X2ZdATlBnHmNmAdN1KSCgu2z7+otOYCd0MxLcGXmd/evP4kwCBM4jIKDPo+YzBAgQ2IGAgN4BskssLWB+Am0KCOg2+2pVBAg0ICCgG2iiJRAg0KaAgG6zr6ur8poAgUoFBHSljVM2AQLtCwjo9ntshQQIVCrQfUBX2jdlEyDQgYCA7qDJlkiAQJ0CArrOvqmaAIEOBE4P6A4ALJEAAQKlCgjoUjujLgIEuhcQ0N3/EgBAoEmBJhYloJtoo0UQINCigIBusavWRIBAEwICuok2WgSBzQScXYeAgK6jT6okQKBDAQHdYdMtmQCBOgQEdB19UuUuBVyLQCECArqQRiiDAAECRwUE9FER7wkQIFCIgIAupBH1lKFSAgR2JSCgdyXtOgQIENhQQEBvCOZ0AgQI7EpAQM8rbTYCBAjMJiCgZ6M0EQECBOYVENDzepqNAAECswnsNKBnq9pEBAgQ6EBAQHfQZEskQKBOAQFdZ99UTYDATgX2czEBvR93VyVAgMCZAgL6TCInECBAYD8CAno/7q5KoCUBa1lIQEAvBGtaAgQIbCsgoLcV9HkCBAgsJCCgF4I1LYFJwJbAeQUE9HnlfI4AAQILCwjohYFNT4AAgfMKCOjzyvncPAJmIUDgRAEBfSKNAwQIENivgIDer7+rEyBA4EQBAX0iTQkH1ECAQM8CArrn7ls7AQJFCwjootujOAIEehaoOaB77pu1EyDQgYCA7qDJlkiAQJ0CArrOvqmaAIGaBdasXUCvCeU0AgQI7Frg/wAAAP//2gP2bAAAAAZJREFUAwBfSlFR581x+wAAAABJRU5ErkJggg==(String), 1(Long), 1(Long), 1(Long)
2025-12-18T11:57:01.484+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : <==    Updates: 1
2025-12-18T11:57:01.485+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955]
2025-12-18T11:57:01.485+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955] from current transaction
2025-12-18T11:57:01.485+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:57:01.486+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:01.489+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:57:01.489+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955]
2025-12-18T11:57:01.489+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955] from current transaction
2025-12-18T11:57:01.490+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.updateExpenseReportStatus      : ==>  Preparing: UPDATE expense_report_tb SET status = ? WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:57:01.491+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.updateExpenseReportStatus      : ==> Parameters: APPROVED(String), 1(Long), 1(Long)
2025-12-18T11:57:01.493+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.updateExpenseReportStatus      : <==    Updates: 1
2025-12-18T11:57:01.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955]
2025-12-18T11:57:01.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955]
2025-12-18T11:57:01.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955]
2025-12-18T11:57:01.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cbf955]
2025-12-18T11:57:01.504+09:00  INFO 31564 --- [http-nio-8080-exec-7] c.i.b.controller.ExpenseController       : 결재 승인 완료 - expenseId: 1
2025-12-18T11:57:01.504+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:01.505+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결제 승인 완료, data=null)]
2025-12-18T11:57:01.506+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:02.271+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:57:02.272+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:57:02.284+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/1
2025-12-18T11:57:02.284+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:57:02.285+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:57:02.293+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:57:02.293+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:57:02.294+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:57:02.293+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:57:02.295+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:57:02.301+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:57:02.302+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:57:02.304+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.303+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.305+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fc71b82] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.307+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f1395c] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.314+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@781520187 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:02.314+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1071626351 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:02.317+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:57:02.318+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:57:02.319+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:57:02.319+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:02.324+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:57:02.324+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:57:02.324+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fc71b82]
2025-12-18T11:57:02.325+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f1395c]
2025-12-18T11:57:02.325+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:02.326+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.327+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:57:02.328+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@491db01] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.330+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:02.338+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1139907838 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:02.339+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:57:02.341+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:57:02.344+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:02.349+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:57:02.352+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:57:02.353+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:57:02.354+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:57:02.354+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:57:02.355+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@491db01]
2025-12-18T11:57:02.355+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:57:02.355+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:57:02.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54988b3a] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1591417723 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:02.361+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:57:02.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235dd1d] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:02.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794955139 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:02.368+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:57:02.370+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:57:02.375+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:57:02.377+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:57:02.379+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54988b3a]
2025-12-18T11:57:02.386+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235dd1d]
2025-12-18T11:57:02.387+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.388+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:02.388+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a17a60d] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.389+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:57:02.389+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2051420462 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:02.390+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:02.391+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:57:02.395+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:02.406+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T11:57:02.406+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a17a60d]
2025-12-18T11:57:02.406+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e11cb8e] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@702623119 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:02.410+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:02.411+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:02.414+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:02.414+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e11cb8e]
2025-12-18T11:57:02.418+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:02.419+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:57:02.420+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:02.425+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:57:02.440+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/1
2025-12-18T11:57:02.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:57:02.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:57:02.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:57:02.446+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.447+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@616e9b46] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.450+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1032667903 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:02.451+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:57:02.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:02.457+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:57:02.459+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@616e9b46]
2025-12-18T11:57:02.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126d5481] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@122444065 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:02.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:57:02.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:02.465+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:57:02.467+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126d5481]
2025-12-18T11:57:02.468+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.470+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c9047c7] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.471+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@346152840 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:02.471+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:57:02.472+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:02.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:57:02.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c9047c7]
2025-12-18T11:57:02.479+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.480+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a57dbd8] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.487+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1142361898 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:02.487+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:57:02.488+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:02.491+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T11:57:02.496+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a57dbd8]
2025-12-18T11:57:02.506+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:02.506+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a32d70] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:02.509+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@868133703 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:02.510+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:02.512+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:02.521+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:02.522+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a32d70]
2025-12-18T11:57:02.523+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:02.524+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:57:02.525+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:03.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:57:03.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:03.095+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:57:03.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:57:03.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:57:03.117+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:57:03.127+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:57:03.128+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:03.128+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:57:03.135+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:57:03.136+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:57:03.145+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:57:03.155+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:57:03.159+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:57:03.169+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:57:03.171+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.177+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd81de2] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.173+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:03.180+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6304643] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:03.192+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.194+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@191089152 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.202+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:03.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd07926] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.204+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:03.207+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@854165080 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:03.208+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:57:03.217+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@770725696 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:03.219+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:03.221+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:57:03.223+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:03.225+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:57:03.225+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd81de2]
2025-12-18T11:57:03.226+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.227+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5548206d] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.230+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@211094061 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.236+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:03.236+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:57:03.237+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:57:03.238+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:03.239+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd07926]
2025-12-18T11:57:03.239+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6304643]
2025-12-18T11:57:03.240+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:03.240+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:03.241+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:57:03.241+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:57:03.243+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:03.244+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:03.263+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:03.281+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5548206d]
2025-12-18T11:57:03.283+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.294+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:57:03.294+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:03.301+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a6f4567] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.303+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:57:03.366+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:57:03.371+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:57:03.377+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:57:03.378+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:57:03.371+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1975762955 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.372+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:03.379+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:03.380+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:03.380+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:57:03.383+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:03.384+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:03.384+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:57:03.384+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.385+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.386+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da7959e] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.388+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13bd377a] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.389+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1914658448 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:03.390+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@515510167 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:03.390+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:57:03.391+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:57:03.393+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:57:03.394+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:03.402+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:03.413+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a6f4567]
2025-12-18T11:57:03.422+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:57:03.431+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da7959e]
2025-12-18T11:57:03.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667d496a] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:03.446+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814927257 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.451+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:57:03.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:03.454+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:03.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:03.512+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:57:03.528+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13bd377a]
2025-12-18T11:57:03.561+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:03.568+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:03.569+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667d496a]
2025-12-18T11:57:03.570+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.569+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:57:03.570+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d93c04] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.571+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2128813356 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.572+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:03.590+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:03.619+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:03.629+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:03.632+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d93c04]
2025-12-18T11:57:03.634+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.637+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14556263] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.638+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@802641393 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.640+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:03.642+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:03.671+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:03.690+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14556263]
2025-12-18T11:57:03.696+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.697+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e4c5788] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.703+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1899323992 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.707+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:03.718+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:03.726+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:03.728+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e4c5788]
2025-12-18T11:57:03.730+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:03.737+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T11:57:03.741+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:03.745+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:57:03.761+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:57:03.779+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:57:03.783+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:57:03.788+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:57:03.790+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.791+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd1812b] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.792+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@449541230 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.792+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:03.796+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:03.802+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:03.804+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd1812b]
2025-12-18T11:57:03.807+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.808+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ef22366] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.809+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2043486538 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.811+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:03.812+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:03.820+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:03.823+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ef22366]
2025-12-18T11:57:03.826+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.836+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65486b01] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.838+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1781439965 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.838+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:03.839+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:03.843+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:03.844+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65486b01]
2025-12-18T11:57:03.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6097d76f] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.846+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1185003551 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.846+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:03.847+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:03.850+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:03.850+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6097d76f]
2025-12-18T11:57:03.852+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.852+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b80fcf1] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.852+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905077313 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.853+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:03.853+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:03.855+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:03.855+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b80fcf1]
2025-12-18T11:57:03.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.858+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eac0305] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.858+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841419605 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.858+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:03.859+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:03.861+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:03.861+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eac0305]
2025-12-18T11:57:03.862+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:03.863+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a82553] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:03.863+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@379760488 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:03.864+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:03.867+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:03.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:03.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a82553]
2025-12-18T11:57:03.878+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:03.879+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T11:57:03.882+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:05.942+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:57:05.951+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/1
2025-12-18T11:57:05.955+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:57:05.956+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:57:05.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:57:05.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:05.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482b9f4] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:05.976+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2060109554 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:05.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:57:05.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:05.987+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:57:05.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482b9f4]
2025-12-18T11:57:05.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:05.989+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d86233a] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:05.990+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1447633440 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:05.990+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:57:05.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:05.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:57:05.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d86233a]
2025-12-18T11:57:05.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:05.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15af54c2] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:05.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@153889470 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:05.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:57:05.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:05.998+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:57:05.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15af54c2]
2025-12-18T11:57:06.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:06.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d7baf2] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:06.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1194455662 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:06.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:57:06.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:06.004+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T11:57:06.004+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d7baf2]
2025-12-18T11:57:06.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:06.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@630b2208] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:06.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1990067377 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:06.006+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:06.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:06.009+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:06.009+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@630b2208]
2025-12-18T11:57:06.009+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:06.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:57:06.012+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:06.015+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:57:06.020+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/1
2025-12-18T11:57:06.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:57:06.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:57:06.024+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:57:06.025+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:06.027+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bfb2e4] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:06.028+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@885938651 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:06.028+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:57:06.028+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:06.031+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:57:06.032+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bfb2e4]
2025-12-18T11:57:06.034+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:06.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b210d] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:06.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@683049684 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:06.036+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:57:06.036+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:06.038+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:57:06.039+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7b210d]
2025-12-18T11:57:06.040+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:06.041+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@405c29e8] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:06.041+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1413159847 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:06.041+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:57:06.042+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:06.044+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:57:06.045+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@405c29e8]
2025-12-18T11:57:06.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:06.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@262d0888] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:06.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@127887052 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:06.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:57:06.051+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:06.053+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T11:57:06.054+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@262d0888]
2025-12-18T11:57:06.054+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:06.054+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f980830] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:06.055+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@826222083 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:06.055+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:06.056+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:06.058+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:06.058+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f980830]
2025-12-18T11:57:06.059+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:06.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:57:06.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:07.656+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:57:07.656+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:07.656+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:57:07.658+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:57:07.659+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:57:07.659+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:57:07.659+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:57:07.659+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:07.660+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:57:07.660+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:57:07.660+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:57:07.660+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:57:07.661+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:57:07.661+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:57:07.661+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:57:07.662+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.663+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:07.662+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.666+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1709c522] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.663+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19300943] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.665+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:07.669+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.671+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35687e8] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.672+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868415205 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:07.672+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1235237307 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:07.672+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:57:07.675+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:07.678+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:07.739+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:07.781+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@472129883 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:07.790+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:57:07.791+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:57:07.796+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:57:07.798+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1709c522]
2025-12-18T11:57:07.796+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:57:07.797+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:07.804+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:07.804+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35687e8]
2025-12-18T11:57:07.804+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19300943]
2025-12-18T11:57:07.805+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:57:07.805+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:07.810+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.812+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:07.820+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:57:07.825+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:07.825+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5f5e80] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.835+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:07.837+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@431382087 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:07.843+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:07.838+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:57:07.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:07.846+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:07.851+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:57:07.851+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:57:07.853+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:57:07.854+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:57:07.855+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:57:07.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:57:07.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1de346e6] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.859+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:57:07.860+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@434791093 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:07.874+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:57:07.861+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:07.873+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:07.875+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:07.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:07.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5f5e80]
2025-12-18T11:57:07.880+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.880+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.883+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3660d201] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.887+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1403924755 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:07.884+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a4aa623] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.887+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:07.888+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@189848465 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:07.892+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:07.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:57:07.896+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:57:07.896+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:57:07.902+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1de346e6]
2025-12-18T11:57:07.903+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:07.905+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:07.905+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3660d201]
2025-12-18T11:57:07.906+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:57:07.906+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:57:07.907+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a4aa623]
2025-12-18T11:57:07.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@379495ed] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:07.909+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:07.910+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@131377604 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:07.912+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:57:07.913+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:07.915+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:07.917+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:07.922+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:07.923+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@379495ed]
2025-12-18T11:57:07.925+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.926+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@552b0858] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.926+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1174656237 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:07.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:07.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:07.935+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:07.935+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@552b0858]
2025-12-18T11:57:07.936+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.937+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@407bb165] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.937+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302272250 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:07.938+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:07.938+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:07.941+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:07.941+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@407bb165]
2025-12-18T11:57:07.943+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:07.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f99041b] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:07.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@854882324 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:07.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:07.945+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:07.947+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:07.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f99041b]
2025-12-18T11:57:07.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:07.974+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T11:57:07.976+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:07.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:57:08.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:57:08.014+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:57:08.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:57:08.020+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:57:08.027+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:08.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c8cc05e] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:08.038+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1267562276 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:08.041+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:08.044+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:08.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:08.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c8cc05e]
2025-12-18T11:57:08.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:08.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e8e61f] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:08.072+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@205279916 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:08.072+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:08.073+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:08.109+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:08.123+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e8e61f]
2025-12-18T11:57:08.124+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:08.125+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fdbb1ff] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:08.126+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@772960261 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:08.137+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:08.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:08.159+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:08.159+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fdbb1ff]
2025-12-18T11:57:08.222+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:08.222+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d92acfb] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:08.223+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1327801599 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:08.299+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:08.304+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:08.343+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:08.349+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d92acfb]
2025-12-18T11:57:08.355+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:08.357+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d437878] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:08.357+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@630123103 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:08.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:08.361+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:08.388+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:08.392+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d437878]
2025-12-18T11:57:08.405+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:08.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667fdea0] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:08.419+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1618602671 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:08.421+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:08.426+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:08.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:08.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667fdea0]
2025-12-18T11:57:08.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:08.463+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40681a27] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:08.463+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1484412500 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:08.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:08.474+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:08.491+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:08.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40681a27]
2025-12-18T11:57:08.496+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:08.497+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T11:57:08.506+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:08.607+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-18T11:57:08.616+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2025-12-18T11:57:08.623+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-18T11:57:08.623+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-18T11:57:08.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-18T11:57:08.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-18T11:57:08.634+09:00  INFO 31564 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=1
2025-12-18T11:57:08.635+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:08.636+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-18T11:57:08.657+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:14.623+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_accountant
2025-12-18T11:57:14.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:57:14.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_accountant
2025-12-18T11:57:14.625+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_accountant", parameters={masked}
2025-12-18T11:57:14.625+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-18T11:57:14.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:14.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415ffbd] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:14.628+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1856302073 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:14.629+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T11:57:14.629+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_accountant(String)
2025-12-18T11:57:14.635+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T11:57:14.636+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415ffbd]
2025-12-18T11:57:14.637+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:14.637+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-18T11:57:14.638+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:32.434+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-18T11:57:32.440+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:57:32.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-18T11:57:32.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-18T11:57:32.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-18T11:57:32.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:32.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2aa296] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:32.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@341533411 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:32.515+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE c.company_name LIKE CONCAT('%', ?, '%') AND c.is_active = 1 GROUP BY c.company_id, c.company_name ORDER BY c.company_name ASC LIMIT 20
2025-12-18T11:57:32.516+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String)
2025-12-18T11:57:32.552+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-18T11:57:32.559+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2aa296]
2025-12-18T11:57:32.561+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:32.620+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=1, companyName=test_ (truncated)...]
2025-12-18T11:57:32.693+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:35.065+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-18T11:57:35.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:57:35.069+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-18T11:57:35.070+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-18T11:57:35.071+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-18T11:57:35.072+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_accountant, password=1234, koreanName=test_accountant,  (truncated)...]
2025-12-18T11:57:35.074+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_accountant, koreanName: test_accountant, role: USER
2025-12-18T11:57:35.076+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:35.076+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba40583] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:35.090+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@478507754 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:35.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T11:57:35.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_accountant(String)
2025-12-18T11:57:35.120+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T11:57:35.123+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba40583]
2025-12-18T11:57:35.237+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:35.240+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eca9e44] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:35.252+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@134524659 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:35.253+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-18T11:57:35.254+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_accountant(String), $2a$10$G6zBAK74dWCmZ4OFyVL6B.Q8IKuwFolvhkagru8KfnMo1OLNM2OhW(String), test_accountant(String), null, 결제담당자(String), USER(String), 1(Long), false(Boolean), PENDING(String)
2025-12-18T11:57:35.274+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-18T11:57:35.276+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eca9e44]
2025-12-18T11:57:35.277+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_accountant, role: USER
2025-12-18T11:57:35.278+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:35.278+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-18T11:57:35.280+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:39.746+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T11:57:39.748+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:57:39.751+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T11:57:39.751+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T11:57:39.752+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T11:57:39.753+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-18T11:57:39.757+09:00  INFO 31564 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-18T11:57:39.761+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:39.761+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dc1ca8f] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:39.790+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1218563929 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:39.795+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T11:57:39.797+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-18T11:57:39.804+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T11:57:39.804+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dc1ca8f]
2025-12-18T11:57:39.890+09:00  INFO 31564 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2025-12-18T11:57:39.891+09:00  INFO 31564 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-18T11:57:39.892+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:39.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-18T11:57:39.894+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:40.044+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:57:40.044+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T11:57:40.045+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:57:40.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:57:40.045+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:40.058+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:57:40.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T11:57:40.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:57:40.068+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:57:40.068+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:57:40.070+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T11:57:40.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T11:57:40.070+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:57:40.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:57:40.090+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:40.071+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:40.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:40.075+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:57:40.096+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:57:40.087+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T11:57:40.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:57:40.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.104+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abf1c4a] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.103+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.103+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:57:40.104+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:57:40.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e4467f4] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T11:57:40.106+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.116+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22f0dc48] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.112+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2031602348 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:40.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.120+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:40.121+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1abb733d] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.127+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2093259194 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:40.128+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:40.143+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:57:40.145+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:57:40.145+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1623580641 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:40.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:57:40.168+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:40.169+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@505520722 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d82a964] will not be managed by Spring
2025-12-18T11:57:40.171+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:40.174+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T11:57:40.175+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-18T11:57:40.174+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e4467f4]
2025-12-18T11:57:40.175+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T11:57:40.176+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.175+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abf1c4a]
2025-12-18T11:57:40.177+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9c2f2e] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.178+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:40.183+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@891909254 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:40.184+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:40.183+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_accountant, password= (truncated)...]
2025-12-18T11:57:40.186+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:40.202+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:40.204+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:57:40.206+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T11:57:40.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22f0dc48]
2025-12-18T11:57:40.229+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1abb733d]
2025-12-18T11:57:40.236+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:40.237+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:40.240+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:57:40.253+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:40.240+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T11:57:40.241+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:40.241+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:57:40.260+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:40.260+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9c2f2e]
2025-12-18T11:57:40.273+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.274+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70a096cd] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.272+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:57:40.276+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1283011240 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:40.277+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:57:40.278+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:40.291+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:40.293+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:57:40.297+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:40.305+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:57:40.308+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:57:40.310+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T11:57:40.311+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T11:57:40.312+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:57:40.311+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:40.313+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.318+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f0f80c0] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.318+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:40.319+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.319+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1338592402 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:40.320+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:57:40.321+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:40.320+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65fdc1b6] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.327+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030993425 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:40.339+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:57:40.339+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:57:40.342+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:57:40.343+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:40.350+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f0f80c0]
2025-12-18T11:57:40.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70a096cd]
2025-12-18T11:57:40.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:40.357+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:57:40.372+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f400f7a] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.373+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-18T11:57:40.399+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:40.400+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65fdc1b6]
2025-12-18T11:57:40.400+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1779371394 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:40.400+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:40.401+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:40.401+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=2, username=test_accountant, password= (truncated)...]
2025-12-18T11:57:40.402+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:40.402+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:40.420+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:40.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f400f7a]
2025-12-18T11:57:40.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50320426] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993266986 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:40.466+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:40.467+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:40.526+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:40.547+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50320426]
2025-12-18T11:57:40.548+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.548+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3404f204] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.549+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1960297366 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:40.574+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:40.576+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:40.609+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:40.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3404f204]
2025-12-18T11:57:40.619+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5deb68f6] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.625+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1828073372 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:40.639+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:40.640+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:40.678+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:40.685+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5deb68f6]
2025-12-18T11:57:40.686+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:40.686+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T11:57:40.687+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:40.700+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:57:40.712+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T11:57:40.731+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:57:40.751+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:57:40.752+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:57:40.766+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.788+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721f6ec5] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.811+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1769750559 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:40.828+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:40.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:40.890+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:40.900+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721f6ec5]
2025-12-18T11:57:40.901+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.902+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d7db51d] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.912+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@337479985 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:40.912+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:40.925+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:40.951+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:40.955+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d7db51d]
2025-12-18T11:57:40.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:40.959+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b5ff8c7] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:40.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1006266860 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:41.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:41.008+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:41.139+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:41.156+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b5ff8c7]
2025-12-18T11:57:41.156+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:41.179+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e89563b] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:41.180+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@975441645 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:41.188+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:41.197+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:41.253+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:41.265+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e89563b]
2025-12-18T11:57:41.266+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:41.270+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20000783] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:41.272+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1685894454 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:41.273+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:41.279+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:41.302+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:41.304+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20000783]
2025-12-18T11:57:41.308+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:41.310+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f9056d] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:41.325+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1105541838 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:41.337+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:41.338+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:41.375+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:41.389+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f9056d]
2025-12-18T11:57:41.391+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:41.391+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1237b2f9] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:41.398+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1003233215 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:41.401+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:41.411+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:41.425+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:41.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1237b2f9]
2025-12-18T11:57:41.432+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:41.436+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T11:57:41.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:42.837+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/2/approval
2025-12-18T11:57:42.863+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/2/approval
2025-12-18T11:57:42.885+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/2/approval
2025-12-18T11:57:42.901+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/2/approval
2025-12-18T11:57:42.902+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/2/approval", parameters={}
2025-12-18T11:57:42.905+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-18T11:57:42.921+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-18T11:57:42.938+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:42.942+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:42.955+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 2, action: APPROVE, operatorId: 1
2025-12-18T11:57:42.957+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:42.957+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72be9977] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:42.973+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1161971996 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:42.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:42.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:42.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:42.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72be9977]
2025-12-18T11:57:43.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:43.006+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705a144b] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:43.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2025871707 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:43.008+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:43.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:43.036+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:43.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705a144b]
2025-12-18T11:57:43.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:43.070+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13fe31d3] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:43.074+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@858163115 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:43.076+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-18T11:57:43.077+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_accountant(String), null, 결제담당자(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 2(Long)
2025-12-18T11:57:43.153+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-18T11:57:43.156+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13fe31d3]
2025-12-18T11:57:43.156+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 2
2025-12-18T11:57:43.157+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:43.159+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-18T11:57:43.182+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:43.237+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T11:57:43.249+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T11:57:43.259+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T11:57:43.270+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T11:57:43.282+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T11:57:43.289+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:43.289+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:43.296+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:43.297+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e2530e4] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:43.300+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1155976823 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:43.307+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T11:57:43.307+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T11:57:43.326+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T11:57:43.330+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e2530e4]
2025-12-18T11:57:43.332+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:43.333+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T11:57:43.335+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:45.680+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company
2025-12-18T11:57:45.680+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company
2025-12-18T11:57:45.692+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-18T11:57:45.696+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company
2025-12-18T11:57:45.701+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-18T11:57:45.702+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-18T11:57:45.703+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-18T11:57:45.705+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:45.708+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:45.711+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:45.712+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@742e0ed6] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:45.725+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1867472467 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d82a964] will not be managed by Spring
2025-12-18T11:57:45.726+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-18T11:57:45.727+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-18T11:57:45.729+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-18T11:57:45.729+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@742e0ed6]
2025-12-18T11:57:45.732+09:00  INFO 31564 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 2
2025-12-18T11:57:45.735+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:45.735+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-18T11:57:45.736+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:45.740+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-18T11:57:45.744+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company
2025-12-18T11:57:45.748+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-18T11:57:45.751+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-18T11:57:45.753+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-18T11:57:45.755+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:45.757+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:45.757+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:45.758+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d57ff8f] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:45.761+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1269112314 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:45.762+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-18T11:57:45.767+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-18T11:57:45.790+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-18T11:57:45.802+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d57ff8f]
2025-12-18T11:57:45.804+09:00  INFO 31564 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 2
2025-12-18T11:57:45.804+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:45.805+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-18T11:57:45.806+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:47.808+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/2/role
2025-12-18T11:57:47.839+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/2/role
2025-12-18T11:57:47.860+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/2/role
2025-12-18T11:57:47.869+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/2/role
2025-12-18T11:57:47.884+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/2/role", parameters={}
2025-12-18T11:57:47.887+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateUserRole(Long, UpdateRoleRequest)
2025-12-18T11:57:47.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.UpdateRoleRequest(role=ACCOUNTANT)]
2025-12-18T11:57:47.902+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:47.911+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:47.922+09:00  INFO 31564 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 사용자 role 변경 시도 - userId: 2, newRole: ACCOUNTANT, operatorId: 1
2025-12-18T11:57:47.923+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:47.924+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41c3b700] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:47.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2086256284 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:47.956+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:47.957+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:47.976+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:47.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41c3b700]
2025-12-18T11:57:47.996+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:48.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c3dda3] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:48.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623623580 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:48.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:48.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T11:57:48.104+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:48.111+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c3dda3]
2025-12-18T11:57:48.129+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:48.129+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dfbb70f] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:48.131+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1984840150 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:48.132+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-18T11:57:48.137+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_accountant(String), null, 결제담당자(String), ACCOUNTANT(String), true(Boolean), 1(Long), APPROVED(String), 2(Long)
2025-12-18T11:57:48.238+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-18T11:57:48.255+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dfbb70f]
2025-12-18T11:57:48.273+09:00  INFO 31564 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 사용자 role 변경 완료 - userId: 2, newRole: ACCOUNTANT
2025-12-18T11:57:48.273+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:48.286+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=role이 변경되었습니다., data=null)]
2025-12-18T11:57:48.288+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:49.231+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-18T11:57:49.238+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company
2025-12-18T11:57:49.245+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-18T11:57:49.246+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-18T11:57:49.246+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-18T11:57:49.249+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:49.250+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T11:57:49.250+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:49.252+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cffa61b] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:49.258+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1754967857 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:49.259+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-18T11:57:49.260+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-18T11:57:49.262+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-18T11:57:49.262+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cffa61b]
2025-12-18T11:57:49.263+09:00  INFO 31564 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 2
2025-12-18T11:57:49.268+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:49.270+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-18T11:57:49.272+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:49.956+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-18T11:57:49.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2025-12-18T11:57:49.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-18T11:57:49.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-18T11:57:49.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-18T11:57:49.976+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-18T11:57:49.986+09:00  INFO 31564 --- [http-nio-8080-exec-9] SECURITY                                 : LOGOUT userId=1
2025-12-18T11:57:50.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:50.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-18T11:57:50.134+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:53.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T11:57:53.970+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:57:53.970+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T11:57:53.971+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T11:57:53.974+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T11:57:53.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_accountant, password=1234)]
2025-12-18T11:57:53.977+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: test_accountant
2025-12-18T11:57:53.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:53.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6caa75d0] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:53.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1073728192 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:53.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T11:57:53.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_accountant(String)
2025-12-18T11:57:54.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T11:57:54.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6caa75d0]
2025-12-18T11:57:54.100+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: ACCOUNTANT, companyId: 1
2025-12-18T11:57:54.100+09:00  INFO 31564 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_accountant role=ACCOUNTANT
2025-12-18T11:57:54.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:54.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_accountant, pas (truncated)...]
2025-12-18T11:57:54.103+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:54.242+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-18T11:57:54.244+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-18T11:57:54.246+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:57:54.251+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T11:57:54.253+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:57:54.254+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T11:57:54.255+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:57:54.258+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:57:54.258+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:57:54.267+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.268+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5821db5d] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.267+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T11:57:54.270+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T11:57:54.273+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:57:54.274+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.274+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b374ff] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.277+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1538310665 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.278+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:54.279+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@157718165 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d82a964] will not be managed by Spring
2025-12-18T11:57:54.281+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:54.283+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:57:54.286+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T11:57:54.310+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:54.313+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:57:54.318+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5821db5d]
2025-12-18T11:57:54.319+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b374ff]
2025-12-18T11:57:54.319+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.321+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:54.321+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1cd72e] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.322+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:57:54.322+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2130735951 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.323+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:54.323+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:54.324+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:54.326+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T11:57:54.337+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T11:57:54.338+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:54.343+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1cd72e]
2025-12-18T11:57:54.344+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.344+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37bea8b9] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.345+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@439790791 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.342+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T11:57:54.350+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:54.354+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T11:57:54.355+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:54.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T11:57:54.357+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@666305ef] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:54.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37bea8b9]
2025-12-18T11:57:54.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.366+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ced4606] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.367+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1125289928 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.368+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@541683008 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:54.371+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:54.371+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T11:57:54.372+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:54.372+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T11:57:54.374+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T11:57:54.374+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:54.374+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@666305ef]
2025-12-18T11:57:54.375+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ced4606]
2025-12-18T11:57:54.376+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:54.376+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.377+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T11:57:54.378+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c4f4706] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.379+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:54.379+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@714406399 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.383+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:54.384+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:54.389+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:54.391+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c4f4706]
2025-12-18T11:57:54.392+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.393+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@407a5789] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.394+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@383471607 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.395+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:54.396+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:54.403+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:54.403+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@407a5789]
2025-12-18T11:57:54.405+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.406+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd8d916] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@235672347 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:54.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:54.410+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:54.411+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd8d916]
2025-12-18T11:57:54.412+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:54.412+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T11:57:54.413+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:54.418+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T11:57:54.422+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T11:57:54.423+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T11:57:54.424+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T11:57:54.424+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T11:57:54.426+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@173e568b] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@482727339 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.428+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:54.428+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:54.435+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:54.437+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@173e568b]
2025-12-18T11:57:54.438+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@472ef365] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@574717701 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:54.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:54.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:54.455+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@472ef365]
2025-12-18T11:57:54.455+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.456+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377b5bc2] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.456+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@134095763 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.457+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:54.458+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:54.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:54.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377b5bc2]
2025-12-18T11:57:54.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ca665e] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.464+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@251823246 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.465+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T11:57:54.468+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T11:57:54.471+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T11:57:54.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ca665e]
2025-12-18T11:57:54.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.474+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c9f967] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.474+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@268473238 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.474+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:54.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:54.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:54.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c9f967]
2025-12-18T11:57:54.484+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.484+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4486da21] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.485+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@719978775 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.486+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T11:57:54.487+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:54.490+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T11:57:54.491+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4486da21]
2025-12-18T11:57:54.492+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:54.492+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa1bdfc] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:54.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@755250171 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:57:54.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:54.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:54.498+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:54.501+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa1bdfc]
2025-12-18T11:57:54.503+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:54.503+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T11:57:54.505+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:55.804+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:57:55.805+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T11:57:55.807+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:57:55.808+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:57:55.809+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:57:55.810+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:55.811+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728bce38] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:55.823+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@513263922 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:55.825+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:57:55.827+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:55.834+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:57:55.834+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728bce38]
2025-12-18T11:57:55.838+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:55.839+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14288ae7] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:55.839+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648900091 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:55.840+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:57:55.840+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:55.843+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:57:55.843+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14288ae7]
2025-12-18T11:57:55.844+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:55.844+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d2847c8] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:55.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@487035704 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:55.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:57:55.846+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:55.853+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:57:55.854+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d2847c8]
2025-12-18T11:57:55.855+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:55.855+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b08a44] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:55.855+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1177129661 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:55.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:57:55.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:55.858+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T11:57:55.858+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b08a44]
2025-12-18T11:57:55.859+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:55.859+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70b7ba60] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:55.860+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1033436312 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:55.860+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:55.861+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:55.865+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:55.866+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70b7ba60]
2025-12-18T11:57:55.868+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:55.869+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:57:55.871+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:55.873+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:57:55.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T11:57:55.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:57:55.878+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:57:55.879+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:57:55.880+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:55.884+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7896b97d] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:55.891+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@863110082 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:55.892+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:57:55.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:56.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:57:56.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7896b97d]
2025-12-18T11:57:56.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:56.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79909495] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:56.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27598134 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:56.031+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:57:56.032+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:56.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:57:56.052+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79909495]
2025-12-18T11:57:56.053+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:56.054+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ab41e1] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:56.054+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868716829 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:56.054+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:57:56.056+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:56.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:57:56.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ab41e1]
2025-12-18T11:57:56.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:56.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@370ab983] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:56.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137408202 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:56.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:57:56.065+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:56.071+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T11:57:56.071+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@370ab983]
2025-12-18T11:57:56.072+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:56.072+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79669f51] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:56.073+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@457369439 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:56.075+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:56.076+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:56.079+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:56.079+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79669f51]
2025-12-18T11:57:56.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:56.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:57:56.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:57.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/1/status
2025-12-18T11:57:57.456+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /api/expenses/1/status
2025-12-18T11:57:57.457+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1/status
2025-12-18T11:57:57.457+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /api/expenses/1/status
2025-12-18T11:57:57.457+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/expenses/1/status", parameters={}
2025-12-18T11:57:57.458+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#updateExpenseStatus(Long, StatusUpdateRequest)
2025-12-18T11:57:57.459+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseController.StatusUpdateRequest(status=PAID)]
2025-12-18T11:57:57.459+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.updateExpenseStatus(java.lang.Long,com.innersignature.backend.controller.ExpenseController$StatusUpdateRequest); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:57:57.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.updateExpenseStatus(java.lang.Long,com.innersignature.backend.controller.ExpenseController$StatusUpdateRequest); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T11:57:57.461+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.b.controller.ExpenseController       : 지출결의서 상태 변경 요청 - expenseId: 1, userId: 2, status: PAID
2025-12-18T11:57:57.471+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:57.472+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca6adc]
2025-12-18T11:57:57.472+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1251790787 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will be managed by Spring
2025-12-18T11:57:57.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:57:57.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:57.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:57:57.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca6adc]
2025-12-18T11:57:57.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca6adc] from current transaction
2025-12-18T11:57:57.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:57.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:57.481+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:57.482+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca6adc]
2025-12-18T11:57:57.483+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca6adc] from current transaction
2025-12-18T11:57:57.483+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.updateExpenseReportStatus      : ==>  Preparing: UPDATE expense_report_tb SET status = ? WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:57:57.484+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.updateExpenseReportStatus      : ==> Parameters: PAID(String), 1(Long), 1(Long)
2025-12-18T11:57:57.489+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.updateExpenseReportStatus      : <==    Updates: 1
2025-12-18T11:57:57.489+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca6adc]
2025-12-18T11:57:57.490+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca6adc]
2025-12-18T11:57:57.490+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca6adc]
2025-12-18T11:57:57.490+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca6adc]
2025-12-18T11:57:57.495+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.b.controller.ExpenseController       : 지출결의서 상태 변경 완료 - expenseId: 1, status: PAID
2025-12-18T11:57:57.496+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:57.501+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태 변경 완료, data=null)]
2025-12-18T11:57:57.501+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:59.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:57:59.099+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T11:57:59.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:57:59.109+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:57:59.116+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:57:59.118+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:59.119+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57febce1] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:59.134+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1389163518 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:59.137+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:57:59.138+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:59.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:57:59.142+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57febce1]
2025-12-18T11:57:59.144+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:59.144+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a8349f2] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:59.144+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1391920140 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:59.145+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:57:59.146+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:59.156+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:57:59.157+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a8349f2]
2025-12-18T11:57:59.158+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:59.158+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@284bb298] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:59.159+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@414687930 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:59.160+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:57:59.161+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:59.168+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:57:59.170+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@284bb298]
2025-12-18T11:57:59.170+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:59.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f03ce1c] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:59.173+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1789489174 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:59.176+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:57:59.177+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:59.199+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T11:57:59.203+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f03ce1c]
2025-12-18T11:57:59.204+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:59.205+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d109a88] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:59.209+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1826806296 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d9a1875] will not be managed by Spring
2025-12-18T11:57:59.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:59.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:59.227+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:59.227+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d109a88]
2025-12-18T11:57:59.230+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:59.234+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:57:59.234+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:57:59.238+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:57:59.241+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T11:57:59.244+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:57:59.245+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:57:59.248+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:57:59.251+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:59.252+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@464955ee] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:59.261+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2019104439 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:59.267+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:57:59.267+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:59.270+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:57:59.271+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@464955ee]
2025-12-18T11:57:59.272+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:59.273+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72c0c234] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:59.273+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@280538323 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:59.274+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:57:59.275+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:59.286+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:57:59.287+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72c0c234]
2025-12-18T11:57:59.290+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:59.291+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e117db5] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:59.293+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2050285345 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:59.295+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:57:59.304+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:59.324+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:57:59.325+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e117db5]
2025-12-18T11:57:59.325+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:59.326+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@283aa9be] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:59.328+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@767788505 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:59.328+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:57:59.331+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:57:59.342+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T11:57:59.343+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@283aa9be]
2025-12-18T11:57:59.344+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:57:59.345+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@276f5517] was not registered for synchronization because synchronization is not active
2025-12-18T11:57:59.345+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524985629 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will not be managed by Spring
2025-12-18T11:57:59.346+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:57:59.361+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:57:59.374+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:57:59.375+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@276f5517]
2025-12-18T11:57:59.376+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:57:59.377+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:57:59.378+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:58:03.737+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/1/receipt
2025-12-18T11:58:03.749+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/1/receipt
2025-12-18T11:58:03.759+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1/receipt
2025-12-18T11:58:03.776+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/1/receipt
2025-12-18T11:58:03.776+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/1/receipt", parameters={multipart}
2025-12-18T11:58:03.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#uploadReceipt(Long, MultipartFile)
2025-12-18T11:58:03.992+09:00  INFO 31564 --- [http-nio-8080-exec-4] c.i.b.controller.ExpenseController       : 영수증 업로드 요청 - expenseId: 1, userId: 2, filename: 영수증이미지.jpg
2025-12-18T11:58:04.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:58:04.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bfdf61]
2025-12-18T11:58:04.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996947448 wrapping com.mysql.cj.jdbc.ConnectionImpl@41d91b00] will be managed by Spring
2025-12-18T11:58:04.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:58:04.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:58:04.015+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:58:04.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bfdf61]
2025-12-18T11:58:04.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bfdf61] from current transaction
2025-12-18T11:58:04.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:58:04.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:58:04.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:58:04.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bfdf61]
2025-12-18T11:58:04.285+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bfdf61] from current transaction
2025-12-18T11:58:04.378+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.insertReceipt      : ==>  Preparing: INSERT INTO receipt_tb ( expense_report_id, file_path, original_filename, file_size, uploaded_by, uploaded_at, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-12-18T11:58:04.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.insertReceipt      : ==> Parameters: 1(Long), uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg(String), 영수증이미지.jpg(String), 3585027(Long), 2(Long), 2025-12-18T11:58:04.285497100(LocalDateTime), 1(Long)
2025-12-18T11:58:04.509+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.insertReceipt      : <==    Updates: 1
2025-12-18T11:58:04.519+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bfdf61]
2025-12-18T11:58:04.540+09:00  INFO 31564 --- [http-nio-8080-exec-4] SECURITY                                 : FILE_UPLOAD userId=2 expenseId=1 detail=영수증이미지.jpg
2025-12-18T11:58:04.540+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bfdf61]
2025-12-18T11:58:04.541+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bfdf61]
2025-12-18T11:58:04.541+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bfdf61]
2025-12-18T11:58:04.720+09:00  INFO 31564 --- [http-nio-8080-exec-4] c.i.b.controller.ExpenseController       : 영수증 업로드 완료 - expenseId: 1
2025-12-18T11:58:04.721+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:58:04.722+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=영수증 업로드 완료, data=null)]
2025-12-18T11:58:04.724+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:58:05.871+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T11:58:05.872+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T11:58:05.872+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T11:58:05.873+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T11:58:05.873+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T11:58:05.874+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:58:05.874+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3124edc3] was not registered for synchronization because synchronization is not active
2025-12-18T11:58:05.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@85245989 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:58:05.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:58:05.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:58:05.884+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:58:05.884+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3124edc3]
2025-12-18T11:58:05.885+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:58:05.885+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73c21859] was not registered for synchronization because synchronization is not active
2025-12-18T11:58:05.886+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814540011 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:58:05.889+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T11:58:05.890+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:58:05.892+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T11:58:05.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73c21859]
2025-12-18T11:58:05.895+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:58:05.895+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f414cc7] was not registered for synchronization because synchronization is not active
2025-12-18T11:58:05.899+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1017284518 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:58:05.899+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:58:05.902+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:58:05.905+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:58:05.905+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f414cc7]
2025-12-18T11:58:05.906+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:58:05.906+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28020177] was not registered for synchronization because synchronization is not active
2025-12-18T11:58:05.907+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2112899012 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:58:05.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T11:58:05.909+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:58:05.912+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T11:58:05.912+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28020177]
2025-12-18T11:58:05.918+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:58:05.920+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a126b2] was not registered for synchronization because synchronization is not active
2025-12-18T11:58:05.921+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@420512328 wrapping com.mysql.cj.jdbc.ConnectionImpl@19920bf5] will not be managed by Spring
2025-12-18T11:58:05.921+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:58:05.921+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:58:05.923+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:58:05.923+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a126b2]
2025-12-18T11:58:05.924+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T11:58:05.930+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T11:58:05.935+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T11:58:05.953+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T11:58:05.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T11:59:27.839+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/receipts/1/download
2025-12-18T11:59:27.842+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/receipts/1/download
2025-12-18T11:59:27.843+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/receipts/1/download
2025-12-18T11:59:27.843+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/receipts/1/download
2025-12-18T11:59:27.844+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/receipts/1/download", parameters={}
2025-12-18T11:59:27.846+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#downloadReceipt(Long)
2025-12-18T11:59:27.847+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:59:27.847+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9af34c] was not registered for synchronization because synchronization is not active
2025-12-18T11:59:27.850+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1062775749 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d82a964] will not be managed by Spring
2025-12-18T11:59:27.850+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectReceiptById  : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.receipt_id = ? AND r.company_id = ?
2025-12-18T11:59:27.853+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectReceiptById  : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:59:27.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectReceiptById  : <==      Total: 1
2025-12-18T11:59:27.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9af34c]
2025-12-18T11:59:27.857+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:59:27.857+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ab7b6f0] was not registered for synchronization because synchronization is not active
2025-12-18T11:59:27.858+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1375842953 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d82a964] will not be managed by Spring
2025-12-18T11:59:27.858+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T11:59:27.859+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:59:27.862+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T11:59:27.862+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ab7b6f0]
2025-12-18T11:59:27.866+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:59:27.866+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11b01361] was not registered for synchronization because synchronization is not active
2025-12-18T11:59:27.867+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1181169553 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d82a964] will not be managed by Spring
2025-12-18T11:59:27.867+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T11:59:27.868+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T11:59:27.870+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T11:59:27.870+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11b01361]
2025-12-18T11:59:27.872+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:59:27.872+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75cf0f99] was not registered for synchronization because synchronization is not active
2025-12-18T11:59:27.873+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@85798792 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d82a964] will not be managed by Spring
2025-12-18T11:59:27.873+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:59:27.874+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:59:27.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:59:27.876+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75cf0f99]
2025-12-18T11:59:27.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T11:59:27.877+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a9bb9c8] was not registered for synchronization because synchronization is not active
2025-12-18T11:59:27.880+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@119921861 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d82a964] will not be managed by Spring
2025-12-18T11:59:27.881+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T11:59:27.881+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T11:59:27.883+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T11:59:27.884+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a9bb9c8]
2025-12-18T11:59:27.889+09:00  INFO 31564 --- [http-nio-8080-exec-10] SECURITY                                 : FILE_DOWNLOAD userId=2 expenseId=1 detail=영수증이미지.jpg
2025-12-18T11:59:27.891+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/jpeg' in response
2025-12-18T11:59:27.891+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\InnerSignature\backend\uploads\receipts\1\a1350328-c5e7-4f9f-a887-416b9968330c\receipt_2025 (truncated)...]
2025-12-18T11:59:27.893+09:00  WARN 31564 --- [http-nio-8080-exec-10] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="영수증이미지.jpg"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [영] at code point [50,689] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.doWrite(Response.java:621) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:328) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:775) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:672) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:375) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:353) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:99) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:639) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.write(StandardServletAsyncWebRequest.java:401) ~[spring-web-6.2.14.jar:6.2.14]
	at java.base/java.io.InputStream.transferTo(InputStream.java:783) ~[na:na]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:160) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-18T11:59:27.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:44:26.153+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:44:26.156+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:44:26.156+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:44:26.157+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:44:26.158+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:44:26.160+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:26.160+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7731cbf6] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:26.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1596335403 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:26.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:44:26.164+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:26.167+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:44:26.168+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7731cbf6]
2025-12-18T12:44:26.169+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:26.170+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e8b8383] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:26.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2066068179 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:26.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:44:26.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:26.175+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:44:26.175+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e8b8383]
2025-12-18T12:44:26.177+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:26.179+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a008d20] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:26.180+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2018870904 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:26.180+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:44:26.181+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:26.187+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:44:26.187+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a008d20]
2025-12-18T12:44:26.188+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:26.188+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bba67f] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:26.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@568041770 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:26.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:44:26.190+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:26.192+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:44:26.193+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bba67f]
2025-12-18T12:44:26.194+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:26.194+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@422fe208] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:26.194+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1497119852 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:26.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:44:26.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:44:26.198+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:44:26.199+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@422fe208]
2025-12-18T12:44:26.201+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:44:26.201+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:44:26.202+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:44:26.204+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:44:26.206+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:44:26.206+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:44:26.207+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:44:26.207+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:44:26.209+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:26.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@345cdae1] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:26.212+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1234581683 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:26.213+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:44:26.214+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:26.217+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:44:26.217+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@345cdae1]
2025-12-18T12:44:26.218+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:26.218+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c08af] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:26.219+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1381323165 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:26.219+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:44:26.219+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:26.222+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:44:26.222+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c08af]
2025-12-18T12:44:26.222+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:26.222+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1291a03c] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:26.223+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924697009 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:26.223+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:44:26.226+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:26.230+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:44:26.230+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1291a03c]
2025-12-18T12:44:26.230+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:26.231+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1690f7c4] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:26.231+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@438143051 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:26.232+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:44:26.232+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:26.234+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:44:26.234+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1690f7c4]
2025-12-18T12:44:26.235+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:26.235+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4635719f] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:26.235+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1468698698 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:26.236+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:44:26.236+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:44:26.238+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:44:26.238+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4635719f]
2025-12-18T12:44:26.239+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:44:26.239+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:44:26.241+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:44:26.255+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:44:26.255+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:44:29.171+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:44:29.173+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:44:29.173+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:44:29.175+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:44:29.176+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:44:29.177+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:29.177+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77128091] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:29.193+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693957108 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:29.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:44:29.197+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:29.199+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:44:29.199+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77128091]
2025-12-18T12:44:29.200+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:29.200+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b868011] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:29.201+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2035987912 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:29.202+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:44:29.202+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:29.205+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:44:29.206+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b868011]
2025-12-18T12:44:29.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:29.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b0d3be] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:29.212+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1796818225 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:29.214+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:44:29.214+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:29.217+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:44:29.217+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b0d3be]
2025-12-18T12:44:29.217+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:29.218+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b5edb62] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:29.219+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033308308 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:29.220+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:44:29.221+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:29.222+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:44:29.223+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b5edb62]
2025-12-18T12:44:29.226+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:29.226+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e78004] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:29.228+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1487916049 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:29.228+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:44:29.229+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:44:29.232+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:44:29.233+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e78004]
2025-12-18T12:44:29.233+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:44:29.234+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:44:29.235+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:44:29.238+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:44:29.242+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:44:29.244+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:44:29.245+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:44:29.247+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:44:29.280+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:29.286+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e5aed07] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:29.287+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1396753974 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:29.288+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:44:29.289+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:29.292+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:44:29.297+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e5aed07]
2025-12-18T12:44:29.299+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:29.299+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@716a128] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:29.300+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1593656856 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:29.302+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:44:29.303+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:29.306+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:44:29.314+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@716a128]
2025-12-18T12:44:29.314+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:29.315+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f0727ce] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:29.315+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2108342503 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:29.316+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:44:29.317+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:29.320+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:44:29.321+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f0727ce]
2025-12-18T12:44:29.322+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:29.322+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5556475c] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:29.323+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@16178398 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:29.323+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:44:29.325+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:29.327+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:44:29.327+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5556475c]
2025-12-18T12:44:29.330+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:29.330+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d484e84] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:29.331+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1791198422 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:29.331+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:44:29.334+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:44:29.347+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:44:29.350+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d484e84]
2025-12-18T12:44:29.350+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:44:29.351+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:44:29.354+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:44:29.379+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:44:29.381+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:44:30.998+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:44:30.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:44:31.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:44:31.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:44:31.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:44:31.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:31.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@323d6b3e] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:31.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@198157707 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:31.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:44:31.012+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:31.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:44:31.024+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@323d6b3e]
2025-12-18T12:44:31.027+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:31.028+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d6e704] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:31.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@837297521 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:31.031+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:44:31.033+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:31.040+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:44:31.040+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d6e704]
2025-12-18T12:44:31.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:31.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@148b69f0] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:31.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1895842466 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:31.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:44:31.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:31.055+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:44:31.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@148b69f0]
2025-12-18T12:44:31.065+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:31.065+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1364b8a7] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:31.071+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@190695751 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:31.072+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:44:31.073+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:31.080+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:44:31.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1364b8a7]
2025-12-18T12:44:31.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:31.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d8761e1] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:31.085+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722490230 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:31.086+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:44:31.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:44:31.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:44:31.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d8761e1]
2025-12-18T12:44:31.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:44:31.106+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:44:31.109+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:44:31.120+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:44:31.121+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:44:31.122+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:44:31.122+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:44:31.123+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:44:31.123+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:31.124+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71eb33d2] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:31.125+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1290637821 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:31.129+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:44:31.131+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:31.133+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:44:31.133+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71eb33d2]
2025-12-18T12:44:31.135+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:31.136+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd8001] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:31.136+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@752899815 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:31.137+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:44:31.138+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:31.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:44:31.147+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd8001]
2025-12-18T12:44:31.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:31.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69650308] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:31.149+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@19938221 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:31.150+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:44:31.151+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:31.154+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:44:31.154+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69650308]
2025-12-18T12:44:31.155+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:31.155+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31b252a4] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:31.156+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1888385753 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:31.157+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:44:31.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:31.170+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:44:31.183+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31b252a4]
2025-12-18T12:44:31.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:31.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@175d1f3a] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:31.198+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@878266375 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:31.200+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:44:31.200+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:44:31.251+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:44:31.251+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@175d1f3a]
2025-12-18T12:44:31.252+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:44:31.252+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:44:31.253+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:44:31.392+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:44:31.393+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:44:56.065+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:44:56.080+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:44:56.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:44:56.089+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:44:56.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:44:56.132+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:56.143+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b30ab02] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:56.146+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@368008740 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:56.147+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:44:56.150+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:56.153+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:44:56.154+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b30ab02]
2025-12-18T12:44:56.155+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:56.155+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ca958e] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:56.158+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1623153841 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:56.160+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:44:56.161+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:56.167+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:44:56.168+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ca958e]
2025-12-18T12:44:56.170+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:56.170+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4141538a] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:56.171+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1201785033 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:56.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:44:56.178+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:56.183+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:44:56.187+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4141538a]
2025-12-18T12:44:56.188+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:56.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23564cd8] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:56.192+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1749063227 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:56.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:44:56.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:56.216+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:44:56.219+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23564cd8]
2025-12-18T12:44:56.219+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:56.220+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@762a6591] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:56.220+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1737217792 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:56.227+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:44:56.230+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:44:56.235+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:44:56.235+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@762a6591]
2025-12-18T12:44:56.237+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:44:56.237+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:44:56.239+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:44:56.249+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:44:56.251+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:44:56.252+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:44:56.253+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:44:56.253+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:44:56.254+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:56.254+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24647794] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:56.255+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@557512331 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:56.256+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:44:56.259+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:56.263+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:44:56.263+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24647794]
2025-12-18T12:44:56.264+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:56.264+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242fadb1] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:56.265+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@594589303 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:56.265+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:44:56.265+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:56.268+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:44:56.269+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242fadb1]
2025-12-18T12:44:56.269+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:56.270+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ec1074] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:56.271+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2138534717 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:56.271+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:44:56.272+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:56.275+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:44:56.276+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ec1074]
2025-12-18T12:44:56.277+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:56.278+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481ac1c6] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:56.280+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@238229249 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:56.280+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:44:56.280+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:56.283+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:44:56.283+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481ac1c6]
2025-12-18T12:44:56.284+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:56.285+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a8469] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:56.285+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@415265175 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:56.286+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:44:56.287+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:44:56.289+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:44:56.294+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a8469]
2025-12-18T12:44:56.295+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:44:56.295+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:44:56.296+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:44:56.358+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:44:56.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:44:59.937+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:44:59.938+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:44:59.939+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:44:59.939+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:44:59.939+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:44:59.941+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:59.941+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e112ba] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:59.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@246475176 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:59.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:44:59.945+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:59.949+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:44:59.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e112ba]
2025-12-18T12:44:59.951+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:59.952+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6392bd31] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:59.953+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1632683612 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:59.953+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:44:59.953+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:59.955+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:44:59.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6392bd31]
2025-12-18T12:44:59.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:59.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af9e841] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:59.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@485796634 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:59.965+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:44:59.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:59.971+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:44:59.973+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af9e841]
2025-12-18T12:44:59.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:59.976+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@376a02c1] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:59.977+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@309616525 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:59.977+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:44:59.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:44:59.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:44:59.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@376a02c1]
2025-12-18T12:44:59.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:44:59.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f03952c] was not registered for synchronization because synchronization is not active
2025-12-18T12:44:59.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@941156359 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:44:59.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:44:59.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:44:59.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:44:59.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f03952c]
2025-12-18T12:44:59.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:44:59.987+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:44:59.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:44:59.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:44:59.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:44:59.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:44:59.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:00.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:00.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:00.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35954340] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:00.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@107891625 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:00.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:00.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:00.014+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:00.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35954340]
2025-12-18T12:45:00.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:00.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@215e6d12] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:00.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1053734202 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:00.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:00.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:00.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:00.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@215e6d12]
2025-12-18T12:45:00.028+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:00.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698e7df4] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:00.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1005234986 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:00.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:00.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:00.033+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:00.037+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698e7df4]
2025-12-18T12:45:00.039+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:00.039+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76db7193] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:00.043+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814090593 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:00.045+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:00.046+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:00.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:00.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76db7193]
2025-12-18T12:45:00.052+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:00.052+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@478ece8d] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:00.052+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794402310 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:00.053+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:00.053+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:00.055+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:00.055+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@478ece8d]
2025-12-18T12:45:00.056+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:00.056+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:00.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:00.123+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:45:00.125+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:45:03.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:03.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:03.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:03.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:03.965+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:03.965+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:03.965+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59de6a4b] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:03.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1482848034 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:03.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:03.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:03.971+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:03.971+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59de6a4b]
2025-12-18T12:45:03.972+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:03.972+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5043e460] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:03.972+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1578900943 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:03.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:03.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:03.977+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:03.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5043e460]
2025-12-18T12:45:03.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:03.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45130a40] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:03.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@171738726 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:03.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:03.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:03.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:03.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45130a40]
2025-12-18T12:45:03.986+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:03.987+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445ebaae] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:03.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@432204143 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:03.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:03.989+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:03.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:03.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445ebaae]
2025-12-18T12:45:04.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:04.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43e371a0] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:04.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1918449848 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:04.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:04.004+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:04.006+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:04.006+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43e371a0]
2025-12-18T12:45:04.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:04.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:04.013+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:04.015+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:04.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:04.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:04.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:04.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:04.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:04.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8a19ba] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:04.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@781587850 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:04.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:04.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:04.021+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:04.021+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8a19ba]
2025-12-18T12:45:04.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:04.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16c65238] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:04.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@976080531 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:04.025+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:04.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:04.028+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:04.028+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16c65238]
2025-12-18T12:45:04.028+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:04.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d2381e0] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:04.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701515246 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:04.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:04.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:04.032+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:04.032+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d2381e0]
2025-12-18T12:45:04.033+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:04.034+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140d87cd] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:04.034+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@87046189 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:04.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:04.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:04.037+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:04.037+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140d87cd]
2025-12-18T12:45:04.038+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:04.038+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39d6054a] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:04.038+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1092472402 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:04.039+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:04.039+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:04.043+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:04.044+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39d6054a]
2025-12-18T12:45:04.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:04.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:04.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:04.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:45:04.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:45:11.955+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:11.957+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:11.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:11.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:11.959+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:11.959+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:11.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fde1e40] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:11.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1177691372 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:11.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:11.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:11.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:11.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fde1e40]
2025-12-18T12:45:11.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:11.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58699d7c] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:11.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@673999141 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:11.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:11.969+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:11.972+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:11.972+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58699d7c]
2025-12-18T12:45:11.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:11.976+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d7845a3] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:11.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@435071757 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:11.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:11.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:11.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:11.989+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d7845a3]
2025-12-18T12:45:11.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:11.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cccf9f9] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:11.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332851870 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:11.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:11.998+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:12.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:12.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cccf9f9]
2025-12-18T12:45:12.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:12.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3666a188] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:12.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@764972979 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:12.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:12.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:12.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:12.006+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3666a188]
2025-12-18T12:45:12.006+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:12.009+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:12.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:12.014+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:12.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:12.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:12.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:12.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:12.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:12.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a11f3f] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:12.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1072853791 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:12.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:12.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:12.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:12.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a11f3f]
2025-12-18T12:45:12.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:12.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261bd45d] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:12.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@444563270 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:12.085+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:12.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:12.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:12.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261bd45d]
2025-12-18T12:45:12.094+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:12.096+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1659f078] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:12.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855485906 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:12.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:12.098+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:12.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:12.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1659f078]
2025-12-18T12:45:12.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:12.102+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7553011f] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:12.104+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@743503357 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:12.104+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:12.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:12.111+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:12.111+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7553011f]
2025-12-18T12:45:12.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:12.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c25bb82] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:12.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862419406 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:12.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:12.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:12.117+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:12.117+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c25bb82]
2025-12-18T12:45:12.118+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:12.119+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:12.121+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:12.145+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:45:12.145+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:45:15.903+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:15.905+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:15.906+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:15.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:15.909+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:15.911+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:15.911+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ccd7368] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:15.914+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2024317860 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:15.918+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:15.919+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:15.922+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:15.922+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ccd7368]
2025-12-18T12:45:15.924+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:15.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a69b346] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:15.929+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@807801415 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:15.929+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:15.930+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:15.934+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:15.935+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a69b346]
2025-12-18T12:45:15.935+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:15.936+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667095fa] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:15.936+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@292874737 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:15.937+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:15.937+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:15.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:15.944+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667095fa]
2025-12-18T12:45:15.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:15.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d81c8ec] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:15.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264003555 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:15.947+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:15.947+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:15.949+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:15.949+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d81c8ec]
2025-12-18T12:45:15.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:15.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bce9bf5] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:15.951+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1215029448 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:15.951+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:15.951+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:15.953+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:15.954+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bce9bf5]
2025-12-18T12:45:15.954+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:15.954+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:15.956+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:15.959+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:15.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:15.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:15.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:15.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:15.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:15.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1912d5b9] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:15.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@720320046 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:15.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:15.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:15.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:15.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1912d5b9]
2025-12-18T12:45:15.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:15.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3977c760] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:15.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@910652138 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:15.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:15.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:15.970+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:15.970+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3977c760]
2025-12-18T12:45:15.971+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:15.971+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542e555a] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:15.971+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1399178360 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:15.974+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:15.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:15.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:15.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542e555a]
2025-12-18T12:45:15.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:15.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a6237d] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:15.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1317289910 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:15.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:15.981+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:15.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:15.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a6237d]
2025-12-18T12:45:15.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:15.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cfe706d] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:15.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1973031748 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:15.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:15.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:15.986+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:15.987+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cfe706d]
2025-12-18T12:45:15.987+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:15.987+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:15.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:16.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:45:16.004+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:45:16.920+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:16.921+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:16.923+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:16.926+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:16.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:16.929+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:16.930+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c97fb83] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:16.931+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1789026990 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:16.932+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:16.933+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:16.936+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:16.936+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c97fb83]
2025-12-18T12:45:16.937+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:16.938+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f4c1d1f] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:16.939+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1218518979 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:16.939+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:16.939+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:16.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:16.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f4c1d1f]
2025-12-18T12:45:16.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:16.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78153687] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:16.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@130971775 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:16.947+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:16.947+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:16.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:16.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78153687]
2025-12-18T12:45:16.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:16.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be9b738] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:16.951+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1519983052 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:16.951+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:16.952+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:16.954+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:16.954+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be9b738]
2025-12-18T12:45:16.954+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:16.955+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60fdf9ce] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:16.955+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@652984990 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:16.956+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:16.956+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:16.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:16.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60fdf9ce]
2025-12-18T12:45:16.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:16.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:16.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:16.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:16.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:16.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:16.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:16.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:16.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:16.986+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fec85cb] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:16.986+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@586025884 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:16.986+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:16.987+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:16.989+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:16.990+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fec85cb]
2025-12-18T12:45:16.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:16.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8abda4] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:16.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1421064003 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:16.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:16.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:16.997+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:16.998+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8abda4]
2025-12-18T12:45:16.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:16.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50eb0e9d] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:17.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@712441529 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:17.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:17.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:17.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:17.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50eb0e9d]
2025-12-18T12:45:17.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:17.004+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a59433b] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:17.004+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1926116619 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:17.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:17.006+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:17.013+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:17.015+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a59433b]
2025-12-18T12:45:17.015+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:17.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e5fc8b9] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:17.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@246351058 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:17.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:17.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:17.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:17.020+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e5fc8b9]
2025-12-18T12:45:17.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:17.027+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:17.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:17.071+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:45:17.072+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:45:28.231+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:28.232+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:28.234+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:28.235+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:28.235+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:28.236+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:28.237+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14adc9cd] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:28.243+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@100134225 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:28.245+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:28.250+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:28.352+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:28.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14adc9cd]
2025-12-18T12:45:28.441+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:28.518+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ae8086] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:28.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@802602771 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:28.532+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:28.532+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:28.535+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:28.537+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ae8086]
2025-12-18T12:45:28.538+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:28.538+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@226fca8c] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:28.539+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@625136887 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:28.561+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:28.561+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:28.573+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:28.574+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@226fca8c]
2025-12-18T12:45:28.574+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:28.574+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208e83e2] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:28.575+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2095646421 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:28.575+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:28.576+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:28.578+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:28.579+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208e83e2]
2025-12-18T12:45:28.582+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:28.582+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@468b35de] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:28.584+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@315506558 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:28.585+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:28.587+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:28.591+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:28.592+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@468b35de]
2025-12-18T12:45:28.595+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:28.595+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:28.596+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:28.599+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:28.605+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:28.607+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:28.609+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:28.609+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:28.611+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:28.611+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f336f82] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:28.612+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1826239933 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:28.620+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:28.620+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:28.623+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:28.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f336f82]
2025-12-18T12:45:28.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:28.625+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19522780] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:28.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@766051415 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:28.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:28.627+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:28.630+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:28.630+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19522780]
2025-12-18T12:45:28.630+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:28.631+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ee77b47] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:28.631+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1719742268 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:28.631+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:28.632+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:28.634+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:28.634+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ee77b47]
2025-12-18T12:45:28.634+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:28.636+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@edd9053] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:28.637+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1530261388 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:28.637+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:28.638+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:28.641+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:28.641+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@edd9053]
2025-12-18T12:45:28.643+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:28.643+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f96b6a6] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:28.644+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@757856271 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:28.645+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:28.646+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:28.648+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:28.648+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f96b6a6]
2025-12-18T12:45:28.649+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:28.650+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:28.651+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:28.725+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:45:28.726+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:45:30.138+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:30.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:30.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:30.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:30.142+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:30.142+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:30.143+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525bd321] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:30.144+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685543111 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:30.145+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:30.146+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:30.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:30.149+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525bd321]
2025-12-18T12:45:30.149+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:30.149+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@593dd1dd] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:30.150+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@425985953 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:30.150+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:30.151+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:30.153+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:30.153+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@593dd1dd]
2025-12-18T12:45:30.154+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:30.154+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2e6f5f] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:30.154+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@690681470 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:30.155+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:30.159+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:30.162+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:30.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2e6f5f]
2025-12-18T12:45:30.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:30.164+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55ca9af8] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:30.165+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@947082121 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:30.165+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:30.166+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:30.168+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:30.168+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55ca9af8]
2025-12-18T12:45:30.169+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:30.169+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b42bd5] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:30.169+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@44592129 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:30.170+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:30.170+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:30.171+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:30.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b42bd5]
2025-12-18T12:45:30.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:30.174+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:30.175+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:30.178+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:45:30.180+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:45:30.181+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:45:30.181+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:45:30.182+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:45:30.182+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:30.182+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@118cf57a] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:30.182+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1236990106 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:30.183+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:45:30.183+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:30.186+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:45:30.186+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@118cf57a]
2025-12-18T12:45:30.187+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:30.188+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fbe63f5] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:30.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@158301789 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:30.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:45:30.193+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:30.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:45:30.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fbe63f5]
2025-12-18T12:45:30.197+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:30.197+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9237423] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:30.197+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93196089 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:30.198+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:45:30.198+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:30.200+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:45:30.201+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9237423]
2025-12-18T12:45:30.202+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:30.202+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194e7254] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:30.203+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@190746418 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:30.203+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:45:30.204+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:45:30.206+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:45:30.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194e7254]
2025-12-18T12:45:30.212+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:45:30.213+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1606e23] was not registered for synchronization because synchronization is not active
2025-12-18T12:45:30.213+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1800822921 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:45:30.213+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:45:30.214+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:45:30.216+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:45:30.216+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1606e23]
2025-12-18T12:45:30.216+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:45:30.217+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:45:30.218+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:45:30.246+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:45:30.247+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:48:11.448+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T12:48:11.451+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:48:11.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:48:11.457+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T12:48:11.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T12:48:11.457+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:48:11.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:48:11.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T12:48:11.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:48:11.458+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:48:11.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:48:11.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.464+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e87ffe4] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.464+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:48:11.466+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc95487] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@372332984 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:11.479+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:48:11.480+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T12:48:11.480+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1344264539 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:11.480+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:48:11.482+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:48:11.482+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:48:11.484+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e87ffe4]
2025-12-18T12:48:11.485+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:48:11.488+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:48:11.488+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:48:11.489+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc95487]
2025-12-18T12:48:11.491+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.491+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:48:11.492+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341f6a0b] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.493+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:48:11.493+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@745817081 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:11.493+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:11.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:11.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:48:11.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:48:11.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T12:48:11.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:48:11.496+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.496+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@404ef416] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.497+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1644598601 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:11.498+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:48:11.499+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T12:48:11.502+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:11.504+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341f6a0b]
2025-12-18T12:48:11.504+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.505+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721ea995] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.506+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025432303 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:11.506+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:48:11.506+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:48:11.508+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:48:11.510+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@404ef416]
2025-12-18T12:48:11.510+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:48:11.511+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:48:11.511+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:48:11.513+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:48:11.514+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721ea995]
2025-12-18T12:48:11.514+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.515+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1bcf96] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.515+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1255052705 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:11.516+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:48:11.516+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:48:11.520+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:48:11.521+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1bcf96]
2025-12-18T12:48:11.522+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.522+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb4b87f] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.522+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2017508832 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:11.523+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:11.523+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:11.525+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:11.526+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb4b87f]
2025-12-18T12:48:11.526+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.526+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@200aeafd] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.526+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1848887747 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:11.527+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:48:11.527+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:48:11.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:48:11.530+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@200aeafd]
2025-12-18T12:48:11.530+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.530+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f36c31c] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1218218757 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:11.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:11.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:11.533+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:11.533+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f36c31c]
2025-12-18T12:48:11.534+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:48:11.534+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:48:11.535+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:48:11.539+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:48:11.541+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T12:48:11.541+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:48:11.542+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:48:11.542+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:48:11.543+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.543+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f3c687e] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.544+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221187788 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:11.544+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:48:11.544+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:48:11.547+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:48:11.547+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f3c687e]
2025-12-18T12:48:11.548+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.549+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33e3ea97] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.549+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1601178381 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:11.549+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:11.550+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:11.551+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:11.552+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33e3ea97]
2025-12-18T12:48:11.555+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.556+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a98cf7] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.557+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016572327 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:11.557+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:48:11.558+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:48:11.560+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:48:11.560+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a98cf7]
2025-12-18T12:48:11.561+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.562+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c687a49] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.562+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1950260487 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:11.563+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:48:11.563+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:48:11.565+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:48:11.565+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c687a49]
2025-12-18T12:48:11.565+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.567+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110f5003] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.567+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1041943129 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:11.568+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:11.569+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:11.575+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:11.576+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110f5003]
2025-12-18T12:48:11.577+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.577+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72c1ff8a] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.578+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@430257817 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:11.579+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:48:11.580+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:48:11.591+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:48:11.592+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72c1ff8a]
2025-12-18T12:48:11.592+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:11.592+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a63a290] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:11.593+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1461921273 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:11.593+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:11.593+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:11.597+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:11.597+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a63a290]
2025-12-18T12:48:11.598+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:48:11.599+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:48:11.600+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:48:13.474+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-18T12:48:13.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/users/admins
2025-12-18T12:48:13.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-18T12:48:13.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-18T12:48:13.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-18T12:48:13.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:13.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e9ffa8c] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:13.481+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772391552 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:13.482+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-18T12:48:13.483+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-18T12:48:13.487+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 1
2025-12-18T12:48:13.488+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e9ffa8c]
2025-12-18T12:48:13.489+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:48:13.490+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-18T12:48:13.491+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:48:13.498+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-18T12:48:13.509+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/users/admins
2025-12-18T12:48:13.514+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-18T12:48:13.515+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-18T12:48:13.515+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-18T12:48:13.516+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:13.516+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66074f63] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:13.516+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@643647770 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:13.517+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-18T12:48:13.517+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-18T12:48:13.520+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 1
2025-12-18T12:48:13.520+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66074f63]
2025-12-18T12:48:13.521+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:48:13.523+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-18T12:48:13.525+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:48:16.937+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:48:16.937+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:48:16.939+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T12:48:16.940+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:48:16.940+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:48:16.940+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:48:16.942+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T12:48:16.943+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:48:16.942+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:48:16.945+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:16.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:48:16.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e59a75] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:16.947+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:16.948+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dcdc4b0] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:16.955+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1031861189 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:16.956+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1097125823 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:16.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:48:16.958+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:48:16.959+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:48:16.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T12:48:16.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:48:16.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:48:16.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e59a75]
2025-12-18T12:48:16.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dcdc4b0]
2025-12-18T12:48:16.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:16.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab5128a] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:16.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:48:16.965+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1131530805 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:16.965+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:48:16.965+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:16.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:48:16.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:16.972+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:48:16.974+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:48:16.974+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:48:16.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T12:48:16.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:48:16.977+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:16.977+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@152f6953] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:16.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@169188333 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:16.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:48:16.981+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T12:48:16.981+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:16.981+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab5128a]
2025-12-18T12:48:16.981+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:16.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2867b5a8] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:16.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1252316012 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:16.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:48:16.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:48:16.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@152f6953]
2025-12-18T12:48:16.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:48:16.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:48:16.989+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:48:16.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:48:16.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:48:16.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2867b5a8]
2025-12-18T12:48:16.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:16.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cfb1521] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:16.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1227104739 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:16.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:48:16.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:48:17.003+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:48:17.006+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cfb1521]
2025-12-18T12:48:17.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:17.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb6ca39] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:17.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1784711379 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:17.008+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:17.008+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:17.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:17.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb6ca39]
2025-12-18T12:48:17.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:17.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aec247d] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:17.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1121178139 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:17.012+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:48:17.012+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:48:17.015+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:48:17.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aec247d]
2025-12-18T12:48:17.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:17.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329c4feb] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:17.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1235765769 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:48:17.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:17.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:17.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:17.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329c4feb]
2025-12-18T12:48:17.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:48:17.024+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:48:17.024+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:48:17.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:48:17.031+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T12:48:17.034+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:48:17.036+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:48:17.037+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:48:17.039+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:17.041+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0e0199] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:17.042+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@22522840 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:17.043+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:48:17.043+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:48:17.055+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:48:17.056+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0e0199]
2025-12-18T12:48:17.056+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:17.057+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bed76de] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:17.057+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@283422451 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:17.058+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:17.058+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:17.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:17.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bed76de]
2025-12-18T12:48:17.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:17.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29993e83] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:17.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1496508136 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:17.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:48:17.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:48:17.075+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:48:17.075+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29993e83]
2025-12-18T12:48:17.075+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:17.076+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e15c8eb] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:17.076+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@781752972 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:17.076+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:48:17.077+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:48:17.081+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:48:17.081+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e15c8eb]
2025-12-18T12:48:17.082+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:17.082+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec9e400] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:17.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1325085602 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:17.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:17.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:17.087+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:17.091+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec9e400]
2025-12-18T12:48:17.091+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:17.091+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d971f25] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:17.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1017055603 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:17.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:48:17.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:48:17.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:48:17.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d971f25]
2025-12-18T12:48:17.107+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:48:17.108+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@639b37d3] was not registered for synchronization because synchronization is not active
2025-12-18T12:48:17.108+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110129842 wrapping com.mysql.cj.jdbc.ConnectionImpl@440429e8] will not be managed by Spring
2025-12-18T12:48:17.109+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:48:17.109+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:48:17.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:48:17.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@639b37d3]
2025-12-18T12:48:17.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:48:17.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:48:17.116+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:29.373+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-18T12:57:29.375+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-18T12:57:29.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-18T12:57:29.414+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/users/admins
2025-12-18T12:57:29.425+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-18T12:57:29.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-18T12:57:29.441+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-18T12:57:29.450+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:29.451+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d46e5e4] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:29.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@499079623 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:29.480+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-18T12:57:29.480+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-18T12:57:29.498+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 1
2025-12-18T12:57:29.501+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d46e5e4]
2025-12-18T12:57:29.502+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:29.513+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-18T12:57:29.544+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:29.582+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-18T12:57:29.597+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/users/admins
2025-12-18T12:57:29.602+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-18T12:57:29.609+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-18T12:57:29.612+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-18T12:57:29.613+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:29.613+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66983d94] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:29.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1392474540 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:29.623+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-18T12:57:29.624+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-18T12:57:29.647+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 1
2025-12-18T12:57:29.674+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66983d94]
2025-12-18T12:57:29.675+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:29.677+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, password= (truncated)...]
2025-12-18T12:57:29.686+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:30.555+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:57:30.556+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:57:30.564+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T12:57:30.567+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:57:30.569+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:57:30.570+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:57:30.566+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:57:30.576+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:57:30.577+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.577+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T12:57:30.579+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@658886c6] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.580+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:57:30.584+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.594+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@663b9bf5] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.597+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@770651819 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:30.598+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:57:30.602+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@271588596 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:57:30.603+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:57:30.603+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:57:30.609+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T12:57:30.612+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:57:30.614+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@658886c6]
2025-12-18T12:57:30.614+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.617+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e41f303] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.617+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1831317416 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:30.618+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:57:30.619+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:30.619+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@663b9bf5]
2025-12-18T12:57:30.620+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:30.625+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:30.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:57:30.627+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:30.633+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:57:30.639+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:57:30.640+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:30.642+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:57:30.642+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e41f303]
2025-12-18T12:57:30.642+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T12:57:30.642+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.643+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@115bfbd4] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.643+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:57:30.644+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1618205463 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:30.644+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.645+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:57:30.645+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b6cd9f0] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.645+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:30.647+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@561205473 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:57:30.647+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:57:30.648+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T12:57:30.651+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:57:30.651+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:57:30.652+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@115bfbd4]
2025-12-18T12:57:30.652+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b6cd9f0]
2025-12-18T12:57:30.652+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.653+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:30.653+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4593a546] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.656+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:57:30.656+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@190342011 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:30.657+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:57:30.657+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:30.657+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:57:30.696+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:57:30.697+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4593a546]
2025-12-18T12:57:30.699+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.699+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9d4d09] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.700+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450995721 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:30.700+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:30.701+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:30.710+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:30.714+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9d4d09]
2025-12-18T12:57:30.714+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.715+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b1c536] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.716+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1646274028 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:30.716+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:57:30.717+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:30.721+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:57:30.728+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b1c536]
2025-12-18T12:57:30.731+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.731+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@752ca2c0] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.733+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2109493542 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:30.734+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:30.735+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:30.744+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:30.745+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@752ca2c0]
2025-12-18T12:57:30.748+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:30.749+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:57:30.760+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:30.766+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:57:30.779+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T12:57:30.780+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:57:30.781+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:57:30.784+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:57:30.791+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.797+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fba6460] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.809+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1438389198 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:30.812+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:57:30.813+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:57:30.816+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:57:30.816+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fba6460]
2025-12-18T12:57:30.818+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.818+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694bcee6] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.819+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1433284299 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:30.820+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:30.821+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:30.914+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:30.934+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694bcee6]
2025-12-18T12:57:30.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:30.976+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aedfb30] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:30.976+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2103844981 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:30.976+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:57:30.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:31.009+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:57:31.025+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aedfb30]
2025-12-18T12:57:31.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:31.036+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72a6a0b9] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:31.036+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1463280038 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:31.036+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:57:31.042+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:57:31.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:57:31.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72a6a0b9]
2025-12-18T12:57:31.066+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:31.066+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10c435db] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:31.066+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1461779474 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:31.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:31.074+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:31.082+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:31.085+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10c435db]
2025-12-18T12:57:31.087+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:31.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54b24f2c] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:31.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1709818508 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:31.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:57:31.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:31.107+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:57:31.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54b24f2c]
2025-12-18T12:57:31.126+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:31.126+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a48ef74] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:31.126+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1548032062 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:31.127+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:31.127+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:31.136+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:31.143+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a48ef74]
2025-12-18T12:57:31.146+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:31.146+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:57:31.149+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:32.012+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/1
2025-12-18T12:57:32.013+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/1
2025-12-18T12:57:32.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:57:32.019+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:57:32.025+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:57:32.031+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:57:32.033+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:57:32.034+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:32.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ba4645d] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:32.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@219746748 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:32.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:57:32.052+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:32.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:57:32.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ba4645d]
2025-12-18T12:57:32.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:32.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa67e7d] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:32.065+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1493009742 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:32.076+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:57:32.076+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:32.079+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:57:32.080+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa67e7d]
2025-12-18T12:57:32.081+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:32.081+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c82118a] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:32.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90100721 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:32.086+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:57:32.087+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:32.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:57:32.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c82118a]
2025-12-18T12:57:32.098+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:32.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bb398d1] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:32.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1470221932 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:32.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:57:32.102+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:32.118+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:57:32.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bb398d1]
2025-12-18T12:57:32.131+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:32.131+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aff01b8] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:32.132+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@769489702 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:32.132+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:32.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:32.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:32.200+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aff01b8]
2025-12-18T12:57:32.208+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:32.209+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:57:32.210+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:32.227+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:57:32.229+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:57:32.249+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:57:32.250+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:57:32.262+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/a1350328-c5e7-4f9f-a887-416b9968330c/receipt_20251218115804_영수증이미지.jpg
2025-12-18T12:57:32.266+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:57:32.266+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:57:32.267+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:32.317+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da279a3] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:32.330+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@174205861 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:32.341+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:57:32.357+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:32.399+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:57:32.417+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da279a3]
2025-12-18T12:57:32.418+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:32.420+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35d0d213] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:32.420+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@462543467 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:32.425+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:57:32.426+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:32.485+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:57:32.507+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35d0d213]
2025-12-18T12:57:32.507+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:32.508+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4208b977] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:32.508+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1912318831 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:32.509+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:57:32.514+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:32.558+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:57:32.569+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4208b977]
2025-12-18T12:57:32.591+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:32.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1b7c9e] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:32.628+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1281337227 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:32.646+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:57:32.696+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:32.749+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:57:32.773+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1b7c9e]
2025-12-18T12:57:32.774+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:32.776+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67d56da2] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:32.777+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2000294474 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:32.779+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:32.779+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:32.803+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:32.810+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67d56da2]
2025-12-18T12:57:32.811+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:32.827+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:57:32.849+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:34.513+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/receipts/1?userId=2
2025-12-18T12:57:34.547+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing DELETE /api/expenses/receipts/1?userId=2
2025-12-18T12:57:34.593+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/receipts/1
2025-12-18T12:57:34.627+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured DELETE /api/expenses/receipts/1?userId=2
2025-12-18T12:57:34.665+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/api/expenses/receipts/1?userId=2", parameters={masked}
2025-12-18T12:57:34.685+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#deleteReceipt(Long)
2025-12-18T12:57:34.697+09:00  INFO 31564 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 영수증 삭제 요청 - receiptId: 1, userId: 2
2025-12-18T12:57:34.857+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:34.857+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.859+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1532759333 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will be managed by Spring
2025-12-18T12:57:34.862+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectReceiptById  : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.receipt_id = ? AND r.company_id = ?
2025-12-18T12:57:34.873+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectReceiptById  : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:34.883+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectReceiptById  : <==      Total: 1
2025-12-18T12:57:34.885+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.885+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb] from current transaction
2025-12-18T12:57:34.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:57:34.899+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:34.903+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:57:34.904+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.905+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb] from current transaction
2025-12-18T12:57:34.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:57:34.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:34.911+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:57:34.911+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.912+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb] from current transaction
2025-12-18T12:57:34.912+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:34.913+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:34.916+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:34.916+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.917+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb] from current transaction
2025-12-18T12:57:34.917+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.917+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb] from current transaction
2025-12-18T12:57:34.917+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.918+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb] from current transaction
2025-12-18T12:57:34.918+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.920+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb] from current transaction
2025-12-18T12:57:34.922+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.924+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb] from current transaction
2025-12-18T12:57:34.924+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.deleteReceipt      : ==>  Preparing: DELETE FROM receipt_tb WHERE receipt_id = ? AND company_id = ?
2025-12-18T12:57:34.925+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.deleteReceipt      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:34.930+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.deleteReceipt      : <==    Updates: 1
2025-12-18T12:57:34.930+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.934+09:00  INFO 31564 --- [http-nio-8080-exec-5] SECURITY                                 : FILE_DELETE userId=2 expenseId=1 detail=receiptId=1
2025-12-18T12:57:34.935+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.936+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.940+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705feb]
2025-12-18T12:57:34.949+09:00  INFO 31564 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 영수증 삭제 완료 - receiptId: 1
2025-12-18T12:57:34.949+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:34.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=영수증 삭제 완료, data=null)]
2025-12-18T12:57:34.952+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:36.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:57:36.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:57:36.230+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:57:36.244+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:57:36.245+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:57:36.252+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:36.256+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd375e] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:36.275+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@156100974 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:36.277+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:57:36.277+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:36.283+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:57:36.284+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd375e]
2025-12-18T12:57:36.285+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:36.285+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@783affd6] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:36.286+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1401552803 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:36.286+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:57:36.287+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:36.314+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:57:36.317+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@783affd6]
2025-12-18T12:57:36.324+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:36.329+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3023a6a6] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:36.335+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@524827451 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:36.352+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:57:36.361+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:36.384+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:57:36.440+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3023a6a6]
2025-12-18T12:57:36.441+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:36.441+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de65195] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:36.441+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348328985 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:36.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:57:36.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:36.492+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-18T12:57:36.524+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de65195]
2025-12-18T12:57:36.525+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:36.525+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e8c095] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:36.527+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1204634340 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:36.546+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:36.549+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:36.580+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:36.592+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e8c095]
2025-12-18T12:57:36.595+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:36.600+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:57:36.602+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:41.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/1/receipt
2025-12-18T12:57:41.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1/receipt
2025-12-18T12:57:41.075+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/1/receipt
2025-12-18T12:57:41.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/1/receipt", parameters={multipart}
2025-12-18T12:57:41.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#uploadReceipt(Long, MultipartFile)
2025-12-18T12:57:41.120+09:00  INFO 31564 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 영수증 업로드 요청 - expenseId: 1, userId: 2, filename: KakaoTalk_20251217_131104674_09.jpg
2025-12-18T12:57:41.184+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:41.191+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e85e24]
2025-12-18T12:57:41.192+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1291995000 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will be managed by Spring
2025-12-18T12:57:41.193+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:57:41.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:41.227+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:57:41.240+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e85e24]
2025-12-18T12:57:41.243+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e85e24] from current transaction
2025-12-18T12:57:41.244+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:41.246+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:41.281+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:41.298+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e85e24]
2025-12-18T12:57:41.306+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e85e24] from current transaction
2025-12-18T12:57:41.365+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.insertReceipt      : ==>  Preparing: INSERT INTO receipt_tb ( expense_report_id, file_path, original_filename, file_size, uploaded_by, uploaded_at, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-12-18T12:57:41.366+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.insertReceipt      : ==> Parameters: 1(Long), uploads/receipts/1/181964f7-0785-492d-9de5-4b4801238f03/receipt_20251218125741_KakaoTalk_20251217_131104674_09.jpg(String), KakaoTalk_20251217_131104674_09.jpg(String), 297536(Long), 2(Long), 2025-12-18T12:57:41.306799700(LocalDateTime), 1(Long)
2025-12-18T12:57:41.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.insertReceipt      : <==    Updates: 1
2025-12-18T12:57:41.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e85e24]
2025-12-18T12:57:41.443+09:00  INFO 31564 --- [http-nio-8080-exec-8] SECURITY                                 : FILE_UPLOAD userId=2 expenseId=1 detail=KakaoTalk_20251217_131104674_09.jpg
2025-12-18T12:57:41.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e85e24]
2025-12-18T12:57:41.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e85e24]
2025-12-18T12:57:41.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e85e24]
2025-12-18T12:57:41.479+09:00  INFO 31564 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 영수증 업로드 완료 - expenseId: 1
2025-12-18T12:57:41.482+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:41.485+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=영수증 업로드 완료, data=null)]
2025-12-18T12:57:41.487+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:42.453+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:57:42.485+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:57:42.519+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:57:42.560+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:57:42.629+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:57:42.646+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:42.691+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f203a73] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:42.733+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1317267278 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:42.749+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:57:42.762+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:42.802+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:57:42.823+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f203a73]
2025-12-18T12:57:42.823+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:42.823+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa04cf9] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:42.824+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1847800261 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:42.824+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:57:42.825+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:42.840+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:57:42.848+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa04cf9]
2025-12-18T12:57:42.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:42.856+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43372221] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:42.857+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2076731706 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:42.857+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:57:42.858+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:42.895+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:57:42.901+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43372221]
2025-12-18T12:57:42.910+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:42.915+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b285c17] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:42.915+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@301227385 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:42.932+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:57:42.936+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:57:43.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:57:43.073+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b285c17]
2025-12-18T12:57:43.124+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:57:43.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3351ce58] was not registered for synchronization because synchronization is not active
2025-12-18T12:57:43.226+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@447800513 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:57:43.299+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:57:43.330+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:57:43.345+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:57:43.352+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3351ce58]
2025-12-18T12:57:43.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:57:43.376+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:57:43.377+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:57:43.399+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/181964f7-0785-492d-9de5-4b4801238f03/receipt_20251218125741_KakaoTalk_20251217_131104674_09.jpg
2025-12-18T12:57:43.411+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:17.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:58:17.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:17.357+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:17.525+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:17.618+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:58:17.620+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:17.631+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:17.632+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:17.653+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:58:17.688+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:22.615+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:58:22.627+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:22.684+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:58:22.733+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:27.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-18T12:58:27.987+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T12:58:27.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:27.989+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T12:58:27.989+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T12:58:27.990+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T12:58:27.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2025-12-18T12:58:27.992+09:00  INFO 31564 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-18T12:58:27.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:27.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25dffc48] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:28.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@9476085 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:28.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T12:58:28.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-18T12:58:28.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 0
2025-12-18T12:58:28.013+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25dffc48]
2025-12-18T12:58:28.015+09:00  WARN 31564 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 실패 - username: test_user
2025-12-18T12:58:28.015+09:00  WARN 31564 --- [http-nio-8080-exec-10] SECURITY                                 : LOGIN_FAILURE username=test_user
2025-12-18T12:58:28.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:28.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=아이디 또는 비밀번호가 틀렸습니다., data=null)]
2025-12-18T12:58:28.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:33.208+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T12:58:33.209+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:33.209+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T12:58:33.210+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T12:58:33.210+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T12:58:33.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_accountant, password=1234)]
2025-12-18T12:58:33.212+09:00  INFO 31564 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 시도 - username: test_accountant
2025-12-18T12:58:33.212+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:33.214+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8aa029] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:33.219+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@238607459 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:33.220+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T12:58:33.223+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_accountant(String)
2025-12-18T12:58:33.226+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T12:58:33.227+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8aa029]
2025-12-18T12:58:33.309+09:00  INFO 31564 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: ACCOUNTANT, companyId: 1
2025-12-18T12:58:33.309+09:00  INFO 31564 --- [http-nio-8080-exec-6] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_accountant role=ACCOUNTANT
2025-12-18T12:58:33.310+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:33.310+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_accountant, pas (truncated)...]
2025-12-18T12:58:33.311+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:33.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:58:33.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:33.997+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T12:58:33.996+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:33.998+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:58:34.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:58:34.008+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:34.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:58:34.013+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:58:34.016+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:34.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T12:58:34.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6508b3c5] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.018+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:58:34.022+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f8dd9a4] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.033+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1709485547 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:58:34.036+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@782762619 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:34.042+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:58:34.042+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:58:34.043+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T12:58:34.044+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:58:34.045+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6508b3c5]
2025-12-18T12:58:34.045+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.045+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42aea7a9] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.046+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:58:34.046+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1436778586 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.046+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f8dd9a4]
2025-12-18T12:58:34.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:34.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:34.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:34.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:58:34.051+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:34.059+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:34.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:58:34.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:34.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:34.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42aea7a9]
2025-12-18T12:58:34.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T12:58:34.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:58:34.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32625def] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@88487909 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3884e378] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.068+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:58:34.068+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119711861 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:34.069+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:34.073+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:58:34.074+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T12:58:34.080+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:58:34.081+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32625def]
2025-12-18T12:58:34.082+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:58:34.082+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.082+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3884e378]
2025-12-18T12:58:34.082+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e33f456] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:34.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1042173786 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:58:34.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:58:34.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:34.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:58:34.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:58:34.089+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e33f456]
2025-12-18T12:58:34.090+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.090+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3075cd80] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@837099164 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:34.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:34.095+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:34.095+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3075cd80]
2025-12-18T12:58:34.096+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.096+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a7aea19] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1962750747 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:58:34.098+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:34.099+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:58:34.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a7aea19]
2025-12-18T12:58:34.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f3142f6] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1118192939 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:34.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:34.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:34.106+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f3142f6]
2025-12-18T12:58:34.107+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:34.108+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:58:34.108+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:34.111+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:58:34.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T12:58:34.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:58:34.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:58:34.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:58:34.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62613c15] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.116+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@742630564 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.116+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:58:34.117+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:58:34.120+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:58:34.121+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62613c15]
2025-12-18T12:58:34.122+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.122+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f6c2eef] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.123+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1678125699 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.123+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:34.124+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:34.128+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:34.128+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f6c2eef]
2025-12-18T12:58:34.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74897e6a] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@444349762 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:58:34.132+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:34.135+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:58:34.135+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74897e6a]
2025-12-18T12:58:34.139+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.140+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d0fbac] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@731229554 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.142+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:58:34.144+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:58:34.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:58:34.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d0fbac]
2025-12-18T12:58:34.149+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.149+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4563b972] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.151+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1459431401 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.151+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:34.151+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:34.158+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:34.158+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4563b972]
2025-12-18T12:58:34.159+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.159+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40f67c6d] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.160+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@403105064 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.160+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:58:34.160+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:34.162+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:58:34.162+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40f67c6d]
2025-12-18T12:58:34.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:34.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f20f1e] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:34.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@731125113 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:34.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:34.164+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:34.165+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:34.166+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f20f1e]
2025-12-18T12:58:34.166+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:34.167+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:58:34.168+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:36.817+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:58:36.818+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:58:36.821+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:58:36.822+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:58:36.823+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:58:36.825+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:36.826+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df4fdd] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:36.831+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@896142928 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:36.832+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:58:36.835+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:36.839+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:58:36.841+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df4fdd]
2025-12-18T12:58:36.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:36.845+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f94084] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:36.846+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1284073676 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:36.847+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:58:36.885+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:36.934+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:58:36.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f94084]
2025-12-18T12:58:36.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:36.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6173b01a] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:36.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@191111632 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:36.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:58:36.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:36.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:58:36.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6173b01a]
2025-12-18T12:58:36.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:36.980+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eac181] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:36.981+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2128958118 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:36.981+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:58:36.981+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:36.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:58:36.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eac181]
2025-12-18T12:58:36.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:36.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fd92cc0] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:36.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802175603 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:36.986+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:36.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:36.990+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:36.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fd92cc0]
2025-12-18T12:58:36.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:36.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:58:36.994+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:36.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-18T12:58:36.996+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/1
2025-12-18T12:58:36.998+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-18T12:58:36.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-18T12:58:36.999+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-18T12:58:37.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6badccdb] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1446247672 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:37.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-18T12:58:37.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:37.007+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-18T12:58:37.009+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6badccdb]
2025-12-18T12:58:37.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@105d7ba] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.011+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@72026197 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:37.013+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-18T12:58:37.013+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/1/181964f7-0785-492d-9de5-4b4801238f03/receipt_20251218125741_KakaoTalk_20251217_131104674_09.jpg
2025-12-18T12:58:37.014+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:37.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:37.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-18T12:58:37.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@105d7ba]
2025-12-18T12:58:37.027+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.027+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4201b5b5] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1838547528 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:37.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-18T12:58:37.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:37.034+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-18T12:58:37.034+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4201b5b5]
2025-12-18T12:58:37.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b6f560f] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.037+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@76345034 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:37.042+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-18T12:58:37.043+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:37.046+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-18T12:58:37.046+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b6f560f]
2025-12-18T12:58:37.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750a9eba] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1155817786 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:37.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:37.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:37.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:37.051+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750a9eba]
2025-12-18T12:58:37.051+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:37.051+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=1, re (truncated)...]
2025-12-18T12:58:37.052+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:37.925+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:58:37.925+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:37.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T12:58:37.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:58:37.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:58:37.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:37.927+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:58:37.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T12:58:37.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:58:37.928+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:58:37.929+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.929+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.929+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ce9cf7d] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.929+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@552c0987] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.931+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17382709 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:37.931+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1386285355 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:37.931+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:58:37.932+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:58:37.934+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:58:37.936+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T12:58:37.943+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:58:37.946+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ce9cf7d]
2025-12-18T12:58:37.943+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:58:37.948+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:37.948+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@552c0987]
2025-12-18T12:58:37.948+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:58:37.949+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.949+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df5b64c] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.950+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:37.951+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623531488 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:37.954+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:37.956+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:37.957+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:37.957+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:58:37.959+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-18T12:58:37.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-18T12:58:37.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:58:37.960+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:37.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df5b64c]
2025-12-18T12:58:37.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38281b85] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.961+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1952237919 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:37.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621aa8bd] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.962+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:58:37.963+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1926047076 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:37.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-18T12:58:37.964+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:58:37.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:37.966+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:58:37.967+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38281b85]
2025-12-18T12:58:37.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:37.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:58:37.968+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:58:37.969+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621aa8bd]
2025-12-18T12:58:37.969+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:37.974+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.977+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796652c6] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1309561367 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:37.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:58:37.979+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:58:37.981+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:58:37.981+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796652c6]
2025-12-18T12:58:37.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fea6a3a] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1691479395 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:37.982+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:37.983+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:37.984+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:37.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fea6a3a]
2025-12-18T12:58:37.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.985+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100d28bd] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.986+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1816804156 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:37.988+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:58:37.989+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:37.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:58:37.991+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100d28bd]
2025-12-18T12:58:37.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:37.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43048771] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:37.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@984946540 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:37.992+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:37.993+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:37.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:37.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43048771]
2025-12-18T12:58:37.995+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:37.996+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:58:37.997+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:37.998+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:58:38.000+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-18T12:58:38.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:58:38.001+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:58:38.002+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:58:38.004+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:38.005+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a26ef4] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:38.008+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@117436640 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:38.009+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:58:38.010+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:58:38.014+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:58:38.014+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a26ef4]
2025-12-18T12:58:38.017+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:38.024+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45ac1b9] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:38.025+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1415567880 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:38.025+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:38.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:38.028+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:38.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45ac1b9]
2025-12-18T12:58:38.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:38.029+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c40ad7] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:38.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1128355423 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:38.032+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:58:38.032+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:38.034+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:58:38.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c40ad7]
2025-12-18T12:58:38.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:38.035+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36a18cda] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:38.036+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@117619307 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:38.038+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:58:38.040+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:58:38.046+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:58:38.046+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36a18cda]
2025-12-18T12:58:38.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:38.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cab46b] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:38.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1068973908 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:38.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:38.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:38.051+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:38.051+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cab46b]
2025-12-18T12:58:38.052+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:38.052+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24febac8] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:38.052+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1950825424 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:38.054+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:58:38.057+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:58:38.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:58:38.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24febac8]
2025-12-18T12:58:38.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:38.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f2c07ba] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:38.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@785767021 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:58:38.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:58:38.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-18T12:58:38.066+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:58:38.066+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f2c07ba]
2025-12-18T12:58:38.066+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:38.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:58:38.068+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:38.754+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-18T12:58:38.764+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-18T12:58:38.767+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-18T12:58:38.778+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-18T12:58:38.780+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-18T12:58:38.783+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-18T12:58:38.785+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-18T12:58:38.800+09:00  INFO 31564 --- [http-nio-8080-exec-2] SECURITY                                 : LOGOUT userId=2
2025-12-18T12:58:38.801+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:38.802+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-18T12:58:38.803+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:43.099+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_user
2025-12-18T12:58:43.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:43.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_user
2025-12-18T12:58:43.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_user", parameters={masked}
2025-12-18T12:58:43.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-18T12:58:43.101+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:43.102+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794f8781] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:43.109+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@985209308 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:43.109+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T12:58:43.110+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user(String)
2025-12-18T12:58:43.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T12:58:43.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794f8781]
2025-12-18T12:58:43.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:43.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-18T12:58:43.116+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:52.103+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-18T12:58:52.104+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:52.104+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-18T12:58:52.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-18T12:58:52.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-18T12:58:52.105+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:52.106+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47a2c7f6] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:52.108+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@43032124 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:52.108+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE c.company_name LIKE CONCAT('%', ?, '%') AND c.is_active = 1 GROUP BY c.company_id, c.company_name ORDER BY c.company_name ASC LIMIT 20
2025-12-18T12:58:52.109+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String)
2025-12-18T12:58:52.112+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-18T12:58:52.112+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47a2c7f6]
2025-12-18T12:58:52.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:52.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=1, companyName=test_ (truncated)...]
2025-12-18T12:58:52.114+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:58:55.682+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-18T12:58:55.684+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-18T12:58:55.685+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:58:55.685+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-18T12:58:55.687+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-18T12:58:55.687+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-18T12:58:55.688+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_user, password=1234, koreanName=test_user, email=, posi (truncated)...]
2025-12-18T12:58:55.688+09:00  INFO 31564 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_user, koreanName: test_user, role: USER
2025-12-18T12:58:55.689+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:55.689+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@579a1ecc] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:55.691+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@298776456 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:55.691+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T12:58:55.692+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user(String)
2025-12-18T12:58:55.694+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T12:58:55.694+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@579a1ecc]
2025-12-18T12:58:55.778+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:58:55.778+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f8528e] was not registered for synchronization because synchronization is not active
2025-12-18T12:58:55.778+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@197250727 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:58:55.778+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-18T12:58:55.779+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_user(String), $2a$10$R7spzyVpctbqSUy5EY.QtO5yq3qqrkBX6UceRhErxpprSTFojnSBa(String), test_user(String), null, 사원(String), USER(String), 1(Long), false(Boolean), PENDING(String)
2025-12-18T12:58:55.784+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-18T12:58:55.784+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f8528e]
2025-12-18T12:58:55.785+09:00  INFO 31564 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_user, role: USER
2025-12-18T12:58:55.787+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:58:55.788+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-18T12:58:55.789+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:02.080+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T12:59:02.082+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:59:02.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T12:59:02.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T12:59:02.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T12:59:02.084+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_tax, password=1234)]
2025-12-18T12:59:02.086+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_tax
2025-12-18T12:59:02.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:02.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75f898e9] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:02.107+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@87393360 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:59:02.108+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T12:59:02.109+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_tax(String)
2025-12-18T12:59:02.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 0
2025-12-18T12:59:02.113+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75f898e9]
2025-12-18T12:59:02.114+09:00  WARN 31564 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 실패 - username: test_tax
2025-12-18T12:59:02.114+09:00  WARN 31564 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_FAILURE username=test_tax
2025-12-18T12:59:02.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:02.115+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=아이디 또는 비밀번호가 틀렸습니다., data=null)]
2025-12-18T12:59:02.116+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:07.471+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_tax
2025-12-18T12:59:07.473+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:59:07.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_tax
2025-12-18T12:59:07.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_tax", parameters={masked}
2025-12-18T12:59:07.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-18T12:59:07.481+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:07.484+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513f9127] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:07.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1001877246 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:59:07.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T12:59:07.496+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_tax(String)
2025-12-18T12:59:07.502+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T12:59:07.507+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513f9127]
2025-12-18T12:59:07.508+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:07.509+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-18T12:59:07.510+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:17.433+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-18T12:59:17.435+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:59:17.436+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-18T12:59:17.436+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-18T12:59:17.437+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-18T12:59:17.438+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_tax, password=1234, koreanName=test_tax, email=, positi (truncated)...]
2025-12-18T12:59:17.438+09:00  INFO 31564 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_tax, koreanName: test_tax, role: TAX_ACCOUNTANT
2025-12-18T12:59:17.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:17.439+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b95eb7c] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:17.441+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@785497826 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:17.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T12:59:17.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_tax(String)
2025-12-18T12:59:17.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T12:59:17.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b95eb7c]
2025-12-18T12:59:17.528+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:17.530+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eb0d58] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:17.530+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1442288517 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:17.530+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-18T12:59:17.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_tax(String), $2a$10$U9DpquAdvc5a1x9ihOAxyuDlML28ZCHiLXv6BjuLfmeGW.kBP4yCi(String), test_tax(String), null, 세무사(String), TAX_ACCOUNTANT(String), 1(Long), false(Boolean), PENDING(String)
2025-12-18T12:59:17.540+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-18T12:59:17.541+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eb0d58]
2025-12-18T12:59:17.541+09:00  INFO 31564 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_tax, role: TAX_ACCOUNTANT
2025-12-18T12:59:17.542+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:17.542+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-18T12:59:17.545+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:22.884+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_exec
2025-12-18T12:59:22.884+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:59:22.886+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_exec
2025-12-18T12:59:22.887+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_exec", parameters={masked}
2025-12-18T12:59:22.889+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-18T12:59:22.889+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:22.889+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a4be50] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:22.893+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772932867 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:22.894+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T12:59:22.896+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_exec(String)
2025-12-18T12:59:22.905+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T12:59:22.906+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a4be50]
2025-12-18T12:59:22.907+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:22.908+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-18T12:59:22.909+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:31.969+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-18T12:59:31.970+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:59:31.970+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-18T12:59:31.970+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-18T12:59:31.970+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-18T12:59:31.971+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_exec, password=1234, koreanName=test_exec, email=, posi (truncated)...]
2025-12-18T12:59:31.972+09:00  INFO 31564 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_exec, koreanName: test_exec, role: USER
2025-12-18T12:59:31.972+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:31.972+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50323c8d] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:31.974+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1891019975 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:31.974+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T12:59:31.975+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_exec(String)
2025-12-18T12:59:31.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T12:59:31.978+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50323c8d]
2025-12-18T12:59:32.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:32.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f1aa68] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:32.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@214851148 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:32.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-18T12:59:32.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_exec(String), $2a$10$G00hhWN78EWxBl7HXcRk3Orls9v4SLx/hyO7trUv5fnroFF9OnCbO(String), test_exec(String), null, 전무(String), USER(String), 1(Long), false(Boolean), PENDING(String)
2025-12-18T12:59:32.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-18T12:59:32.068+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f1aa68]
2025-12-18T12:59:32.069+09:00  INFO 31564 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_exec, role: USER
2025-12-18T12:59:32.070+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:32.070+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-18T12:59:32.071+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:36.527+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T12:59:36.528+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:59:36.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T12:59:36.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T12:59:36.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T12:59:36.530+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_exec, password=1234)]
2025-12-18T12:59:36.530+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: test_exec
2025-12-18T12:59:36.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:36.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f2f0bf2] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:36.533+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@865295596 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:59:36.534+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T12:59:36.536+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_exec(String)
2025-12-18T12:59:36.539+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T12:59:36.539+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f2f0bf2]
2025-12-18T12:59:36.621+09:00  WARN 31564 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 실패 - 승인 대기 중 - username: test_exec
2025-12-18T12:59:36.621+09:00  WARN 31564 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_FAILURE username=test_exec
2025-12-18T12:59:36.621+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:36.622+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=관리자 승인 대기 중입니다., data=null)]
2025-12-18T12:59:36.622+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:38.526+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T12:59:38.527+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:59:38.528+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T12:59:38.528+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T12:59:38.528+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T12:59:38.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_exec, password=1234)]
2025-12-18T12:59:38.529+09:00  INFO 31564 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: test_exec
2025-12-18T12:59:38.529+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:38.530+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140ab656] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:38.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030703802 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:59:38.532+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T12:59:38.532+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_exec(String)
2025-12-18T12:59:38.537+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T12:59:38.540+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140ab656]
2025-12-18T12:59:38.625+09:00  WARN 31564 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 실패 - 승인 대기 중 - username: test_exec
2025-12-18T12:59:38.626+09:00  WARN 31564 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_FAILURE username=test_exec
2025-12-18T12:59:38.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:38.626+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=관리자 승인 대기 중입니다., data=null)]
2025-12-18T12:59:38.627+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:42.399+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T12:59:42.399+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T12:59:42.400+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T12:59:42.400+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T12:59:42.400+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T12:59:42.401+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-18T12:59:42.401+09:00  INFO 31564 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-18T12:59:42.402+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:42.402+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@285d612f] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:42.405+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@924483212 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:59:42.405+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T12:59:42.405+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-18T12:59:42.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T12:59:42.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@285d612f]
2025-12-18T12:59:42.494+09:00  INFO 31564 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2025-12-18T12:59:42.525+09:00  INFO 31564 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-18T12:59:42.530+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:42.531+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-18T12:59:42.532+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:43.023+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T12:59:43.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T12:59:43.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-18T12:59:43.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-18T12:59:43.027+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T12:59:43.037+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:59:43.042+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T12:59:43.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:59:43.043+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T12:59:43.043+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T12:59:43.044+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T12:59:43.048+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:59:43.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-18T12:59:43.053+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T12:59:43.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T12:59:43.055+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:59:43.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T12:59:43.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T12:59:43.062+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:59:43.057+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:59:43.059+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T12:59:43.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T12:59:43.063+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.065+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba7ef21] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.069+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7fd860] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.064+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T12:59:43.065+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T12:59:43.074+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T12:59:43.078+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:43.079+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T12:59:43.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:43.090+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@433291496 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@78750165 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:59:43.092+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T12:59:43.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.094+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:59:43.095+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:59:43.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f616ddb] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.097+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:59:43.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:59:43.100+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc60884] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.123+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@964682506 wrapping com.mysql.cj.jdbc.ConnectionImpl@71bde577] will not be managed by Spring
2025-12-18T12:59:43.124+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:59:43.129+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T12:59:43.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7fd860]
2025-12-18T12:59:43.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T12:59:43.130+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.131+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@737651201 wrapping com.mysql.cj.jdbc.ConnectionImpl@734a396] will not be managed by Spring
2025-12-18T12:59:43.133+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52660859] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.133+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-18T12:59:43.137+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1530660537 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.139+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 1(Long)
2025-12-18T12:59:43.140+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:43.141+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T12:59:43.144+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:59:43.146+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba7ef21]
2025-12-18T12:59:43.147+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 3
2025-12-18T12:59:43.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:43.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f616ddb]
2025-12-18T12:59:43.148+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:59:43.149+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:43.154+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:43.155+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:43.156+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=5, username=test_exec, password=null,  (truncated)...]
2025-12-18T12:59:43.157+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52660859]
2025-12-18T12:59:43.158+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:43.160+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.161+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-18T12:59:43.162+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-18T12:59:43.163+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2df1b717] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.164+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc60884]
2025-12-18T12:59:43.164+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T12:59:43.164+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1329022512 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.165+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-18T12:59:43.165+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:43.166+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:59:43.166+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-18T12:59:43.166+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T12:59:43.167+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-18T12:59:43.167+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:59:43.169+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-18T12:59:43.171+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T12:59:43.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:43.171+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T12:59:43.172+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.177+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T12:59:43.178+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31caa3f8] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.179+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:59:43.179+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T12:59:43.179+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524506659 wrapping com.mysql.cj.jdbc.ConnectionImpl@d52a43d] will not be managed by Spring
2025-12-18T12:59:43.179+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2df1b717]
2025-12-18T12:59:43.180+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:43.180+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T12:59:43.181+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.181+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:43.182+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:59:43.182+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42119d6e] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.182+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.183+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1652081460 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.184+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126fcc2e] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.187+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:59:43.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1949866319 wrapping com.mysql.cj.jdbc.ConnectionImpl@71bde577] will not be managed by Spring
2025-12-18T12:59:43.189+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:59:43.191+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T12:59:43.192+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T12:59:43.193+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T12:59:43.193+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31caa3f8]
2025-12-18T12:59:43.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:43.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:59:43.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 3
2025-12-18T12:59:43.195+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T12:59:43.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42119d6e]
2025-12-18T12:59:43.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126fcc2e]
2025-12-18T12:59:43.196+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.197+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:43.197+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:43.198+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f93dd5d] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.199+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=5, username=test_exec, password=null,  (truncated)...]
2025-12-18T12:59:43.200+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@19383084 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.201+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:43.205+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:43.207+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T12:59:43.209+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:43.210+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f93dd5d]
2025-12-18T12:59:43.210+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.210+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5ac509] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.211+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1005749290 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.212+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:59:43.212+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:59:43.214+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:59:43.214+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5ac509]
2025-12-18T12:59:43.215+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.215+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37a84f23] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.216+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@191276626 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.217+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:43.221+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T12:59:43.225+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:43.225+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37a84f23]
2025-12-18T12:59:43.226+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:43.226+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:59:43.227+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:43.228+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T12:59:43.230+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-18T12:59:43.232+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T12:59:43.232+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T12:59:43.233+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T12:59:43.235+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.236+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6c1292] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.241+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1420975978 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.243+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:59:43.243+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:59:43.248+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:59:43.273+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6c1292]
2025-12-18T12:59:43.278+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.292+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2f42ba] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.296+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@817636303 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.297+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:43.297+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T12:59:43.299+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:43.300+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2f42ba]
2025-12-18T12:59:43.300+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.300+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f14762c] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.305+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1854916582 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.307+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:59:43.308+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:59:43.313+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:59:43.314+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f14762c]
2025-12-18T12:59:43.315+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.315+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523f016a] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.316+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056352279 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.317+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T12:59:43.323+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T12:59:43.327+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T12:59:43.327+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523f016a]
2025-12-18T12:59:43.327+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.328+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7069279a] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.329+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517767852 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.329+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:43.329+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T12:59:43.331+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:43.331+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7069279a]
2025-12-18T12:59:43.332+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.332+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4843433c] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.334+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1898965081 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.336+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T12:59:43.338+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T12:59:43.342+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T12:59:43.343+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4843433c]
2025-12-18T12:59:43.343+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:43.343+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@171ec6eb] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:43.344+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1159081367 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:43.345+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:43.345+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T12:59:43.347+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:43.348+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@171ec6eb]
2025-12-18T12:59:43.349+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:43.349+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T12:59:43.351+09:00 DEBUG 31564 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:45.026+09:00 DEBUG 31564 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/5/approval
2025-12-18T12:59:45.028+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/users/5/approval
2025-12-18T12:59:45.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/5/approval
2025-12-18T12:59:45.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/users/5/approval
2025-12-18T12:59:45.030+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/users/5/approval", parameters={}
2025-12-18T12:59:45.031+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-18T12:59:45.033+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-18T12:59:45.033+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:45.034+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:45.040+09:00  INFO 31564 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 5, action: APPROVE, operatorId: 1
2025-12-18T12:59:45.040+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:45.041+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562a482c] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:45.044+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1674997611 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:45.045+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:45.047+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-18T12:59:45.049+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:45.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562a482c]
2025-12-18T12:59:45.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:45.050+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bed131a] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:45.054+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@485393864 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:45.055+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:45.055+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T12:59:45.057+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:45.058+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bed131a]
2025-12-18T12:59:45.059+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:45.059+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41833b56] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:45.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@847615423 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:45.060+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-18T12:59:45.061+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_exec(String), null, 전무(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 5(Long)
2025-12-18T12:59:45.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-18T12:59:45.067+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41833b56]
2025-12-18T12:59:45.071+09:00  INFO 31564 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 5
2025-12-18T12:59:45.073+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:45.074+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-18T12:59:45.075+09:00 DEBUG 31564 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:45.077+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T12:59:45.081+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T12:59:45.082+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T12:59:45.082+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T12:59:45.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T12:59:45.083+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:45.085+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:45.088+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:45.089+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec9e582] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:45.089+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@875667673 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:45.090+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T12:59:45.090+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T12:59:45.093+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 2
2025-12-18T12:59:45.096+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec9e582]
2025-12-18T12:59:45.107+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:45.108+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=4, username=test_tax, password=null, k (truncated)...]
2025-12-18T12:59:45.109+09:00 DEBUG 31564 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:46.457+09:00 DEBUG 31564 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/approval
2025-12-18T12:59:46.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/users/4/approval
2025-12-18T12:59:46.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/4/approval
2025-12-18T12:59:46.460+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/users/4/approval
2025-12-18T12:59:46.461+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/users/4/approval", parameters={}
2025-12-18T12:59:46.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-18T12:59:46.462+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-18T12:59:46.463+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:46.463+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:46.464+09:00  INFO 31564 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 4, action: APPROVE, operatorId: 1
2025-12-18T12:59:46.466+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:46.466+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7923b786] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:46.470+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554347460 wrapping com.mysql.cj.jdbc.ConnectionImpl@71bde577] will not be managed by Spring
2025-12-18T12:59:46.471+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:46.472+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-18T12:59:46.475+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:46.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7923b786]
2025-12-18T12:59:46.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:46.476+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a68686b] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:46.477+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@644087693 wrapping com.mysql.cj.jdbc.ConnectionImpl@71bde577] will not be managed by Spring
2025-12-18T12:59:46.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:46.478+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T12:59:46.481+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:46.481+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a68686b]
2025-12-18T12:59:46.481+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:46.482+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37486fc1] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:46.483+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1849320051 wrapping com.mysql.cj.jdbc.ConnectionImpl@71bde577] will not be managed by Spring
2025-12-18T12:59:46.483+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-18T12:59:46.484+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_tax(String), null, 세무사(String), TAX_ACCOUNTANT(String), true(Boolean), 1(Long), APPROVED(String), 4(Long)
2025-12-18T12:59:46.492+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-18T12:59:46.493+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37486fc1]
2025-12-18T12:59:46.494+09:00  INFO 31564 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 4
2025-12-18T12:59:46.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:46.494+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-18T12:59:46.495+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:46.498+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T12:59:46.499+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T12:59:46.500+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T12:59:46.500+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T12:59:46.500+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T12:59:46.504+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:46.505+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:46.506+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:46.506+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@656a13c0] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:46.509+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@430417526 wrapping com.mysql.cj.jdbc.ConnectionImpl@734a396] will not be managed by Spring
2025-12-18T12:59:46.509+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T12:59:46.510+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T12:59:46.513+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-18T12:59:46.513+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@656a13c0]
2025-12-18T12:59:46.514+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:46.514+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=3, username=test_user, password=null,  (truncated)...]
2025-12-18T12:59:46.515+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:47.402+09:00 DEBUG 31564 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/3/approval
2025-12-18T12:59:47.405+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/users/3/approval
2025-12-18T12:59:47.406+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/3/approval
2025-12-18T12:59:47.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/users/3/approval
2025-12-18T12:59:47.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/users/3/approval", parameters={}
2025-12-18T12:59:47.407+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-18T12:59:47.408+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-18T12:59:47.409+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:47.410+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:47.410+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 3, action: APPROVE, operatorId: 1
2025-12-18T12:59:47.410+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:47.411+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f62a28] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:47.413+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@727094920 wrapping com.mysql.cj.jdbc.ConnectionImpl@71bde577] will not be managed by Spring
2025-12-18T12:59:47.413+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:47.414+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-18T12:59:47.416+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:47.416+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f62a28]
2025-12-18T12:59:47.422+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:47.422+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c101b] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:47.423+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1004867686 wrapping com.mysql.cj.jdbc.ConnectionImpl@71bde577] will not be managed by Spring
2025-12-18T12:59:47.423+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T12:59:47.423+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T12:59:47.426+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T12:59:47.426+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c101b]
2025-12-18T12:59:47.426+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:47.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@88187c8] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:47.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1813619211 wrapping com.mysql.cj.jdbc.ConnectionImpl@71bde577] will not be managed by Spring
2025-12-18T12:59:47.427+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-18T12:59:47.428+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user(String), null, 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 3(Long)
2025-12-18T12:59:47.434+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-18T12:59:47.434+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@88187c8]
2025-12-18T12:59:47.435+09:00  INFO 31564 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 3
2025-12-18T12:59:47.436+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:47.437+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-18T12:59:47.438+09:00 DEBUG 31564 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T12:59:47.442+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T12:59:47.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-18T12:59:47.443+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T12:59:47.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T12:59:47.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T12:59:47.444+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:47.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T12:59:47.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T12:59:47.445+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3803f75e] was not registered for synchronization because synchronization is not active
2025-12-18T12:59:47.447+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1934429674 wrapping com.mysql.cj.jdbc.ConnectionImpl@3d7b8f04] will not be managed by Spring
2025-12-18T12:59:47.447+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-18T12:59:47.450+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-18T12:59:47.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T12:59:47.452+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3803f75e]
2025-12-18T12:59:47.453+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T12:59:47.454+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T12:59:47.455+09:00 DEBUG 31564 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T13:02:41.323+09:00 DEBUG 31564 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/excel
2025-12-18T13:02:41.326+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/excel
2025-12-18T13:02:41.328+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/export/excel
2025-12-18T13:02:41.328+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/excel
2025-12-18T13:02:41.329+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/excel", parameters={}
2025-12-18T13:02:41.333+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportExpensesToExcel(String, String)
2025-12-18T13:02:41.334+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportExpensesToExcel(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T13:02:41.337+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportExpensesToExcel(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-18T13:02:41.337+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T13:02:41.338+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44184fcb] was not registered for synchronization because synchronization is not active
2025-12-18T13:02:41.344+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016243579 wrapping com.mysql.cj.jdbc.ConnectionImpl@734a396] will not be managed by Spring
2025-12-18T13:02:41.351+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T13:02:41.352+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-18T13:02:41.354+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T13:02:41.355+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44184fcb]
2025-12-18T13:02:41.355+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T13:02:41.355+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4219dfa0] was not registered for synchronization because synchronization is not active
2025-12-18T13:02:41.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1896044765 wrapping com.mysql.cj.jdbc.ConnectionImpl@734a396] will not be managed by Spring
2025-12-18T13:02:41.356+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T13:02:41.357+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-18T13:02:41.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T13:02:41.359+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4219dfa0]
2025-12-18T13:02:41.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T13:02:41.360+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b014bb4] was not registered for synchronization because synchronization is not active
2025-12-18T13:02:41.361+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1743355307 wrapping com.mysql.cj.jdbc.ConnectionImpl@734a396] will not be managed by Spring
2025-12-18T13:02:41.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T13:02:41.362+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T13:02:41.367+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T13:02:41.367+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b014bb4]
2025-12-18T13:02:41.368+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T13:02:41.368+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a52698f] was not registered for synchronization because synchronization is not active
2025-12-18T13:02:41.369+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377118539 wrapping com.mysql.cj.jdbc.ConnectionImpl@734a396] will not be managed by Spring
2025-12-18T13:02:41.369+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T13:02:41.370+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-18T13:02:41.371+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T13:02:41.372+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a52698f]
2025-12-18T13:02:42.501+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.backend.service.ExpenseService       : 엑셀 파일 생성 완료 - 파일명: expense_export_18056334398874789854.xlsx, 건수: 1
2025-12-18T13:02:42.502+09:00  INFO 31564 --- [http-nio-8080-exec-3] c.i.b.controller.ExpenseController       : 엑셀 다운로드 요청 - userId: 1, startDate: null, endDate: null
2025-12-18T13:02:42.503+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' in response
2025-12-18T13:02:42.504+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\expense_export_18056334398874789854.xlsx]]
2025-12-18T13:02:42.506+09:00  WARN 31564 --- [http-nio-8080-exec-3] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="지출내역_전체_전체.xlsx"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [지] at code point [51,648] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.commit(Response.java:454) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:284) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:264) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:130) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:524) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:415) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:161) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-18T13:02:42.544+09:00 DEBUG 31564 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
