2025-12-18T16:01:00.585+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d48e6f3] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.589+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=6", parameters={masked}
2025-12-18T16:01:00.586+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47952dde] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.587+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:01:00.588+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78da6c8] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.591+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:01:00.596+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:01:00.597+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.605+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe81c3c] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.604+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/pending
2025-12-18T16:01:00.606+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:01:00.604+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.607+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a5edeae] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.607+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:01:00.620+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:01:00.621+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@966790231 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:00.622+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1431369631 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:01:00.623+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@418719060 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b95c477] will not be managed by Spring
2025-12-18T16:01:00.624+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:01:00.628+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:00.629+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:01:00.630+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:01:00.631+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@793612853 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:01:00.631+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@828073179 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:00.638+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:00.631+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:01:00.632+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:00.636+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 2(Long)
2025-12-18T16:01:00.636+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-18T16:01:00.637+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:01:00.639+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:00.641+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.644+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 2(Long)
2025-12-18T16:01:00.645+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9992f29] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.651+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:01:00.652+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:01:00.652+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:01:00.654+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1027819837 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:01:00.654+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:01:00.654+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:01:00.654+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78da6c8]
2025-12-18T16:01:00.655+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47952dde]
2025-12-18T16:01:00.656+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe81c3c]
2025-12-18T16:01:00.657+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:01:00.657+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a5edeae]
2025-12-18T16:01:00.657+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d48e6f3]
2025-12-18T16:01:00.658+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:00.660+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:00.661+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.662+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-18T16:01:00.663+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:00.664+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.664+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:01:00.665+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:01:00.665+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dac3115] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.669+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:01:00.669+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ea4fe4] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.671+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:00.674+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:00.674+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@362056365 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:00.675+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:00.675+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@449453954 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:00.693+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:00.693+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:01:00.694+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:00.695+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:00.696+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9992f29]
2025-12-18T16:01:00.697+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:00.698+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:00.699+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:01:00.710+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:00.725+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:00.725+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:00.727+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dac3115]
2025-12-18T16:01:00.728+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ea4fe4]
2025-12-18T16:01:00.729+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.729+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.729+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b990c14] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.730+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3585ec88] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.730+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@118600939 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:00.730+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1400246451 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:00.730+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:01:00.731+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:01:00.731+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:01:00.735+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:01:00.761+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:01:00.761+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:01:00.762+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b990c14]
2025-12-18T16:01:00.763+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3585ec88]
2025-12-18T16:01:00.765+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.771+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.772+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53ccc07b] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.772+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31c2eae3] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.773+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@819371962 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:00.774+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@725201407 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:00.774+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:00.775+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:00.775+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:00.776+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:00.790+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:01:00.793+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53ccc07b]
2025-12-18T16:01:00.793+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:01:00.794+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.794+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31c2eae3]
2025-12-18T16:01:00.795+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b281b] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.795+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.796+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905047929 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:00.796+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771f5af7] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.796+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:00.796+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112942702 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:00.797+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:00.798+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:00.801+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:00.805+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:00.805+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:00.806+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771f5af7]
2025-12-18T16:01:00.807+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b281b]
2025-12-18T16:01:00.807+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.807+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.808+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3809cc] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.808+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc59745] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.809+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1081948798 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:00.809+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@72820502 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:00.810+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:01:00.810+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:01:00.811+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:01:00.812+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:01:00.817+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:01:00.819+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:01:00.820+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc59745]
2025-12-18T16:01:00.822+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3809cc]
2025-12-18T16:01:00.822+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.822+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:00.822+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b95b721] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.822+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fbbab3] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:00.823+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@177957033 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:00.823+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@577484620 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:00.823+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:00.824+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:00.825+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:00.825+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:00.830+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:00.833+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b95b721]
2025-12-18T16:01:00.846+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:00.847+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:00.858+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T16:01:00.874+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fbbab3]
2025-12-18T16:01:00.876+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:00.878+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:00.881+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T16:01:00.891+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:52.100+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:01:52.101+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=6
2025-12-18T16:01:52.106+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:01:52.101+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:01:52.102+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:01:52.102+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:01:52.103+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=6
2025-12-18T16:01:52.114+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:01:52.116+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:01:52.130+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses
2025-12-18T16:01:52.132+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:01:52.134+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:01:52.135+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:01:52.137+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:01:52.147+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses
2025-12-18T16:01:52.142+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-18T16:01:52.144+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:01:52.146+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/pending
2025-12-18T16:01:52.150+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/pending
2025-12-18T16:01:52.150+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-18T16:01:52.150+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:01:52.153+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:01:52.153+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:01:52.154+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:01:52.154+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:01:52.154+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:01:52.154+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:01:52.155+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=6", parameters={masked}
2025-12-18T16:01:52.158+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:01:52.159+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:01:52.160+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:01:52.174+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:01:52.175+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:01:52.176+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:01:52.178+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.161+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=6", parameters={masked}
2025-12-18T16:01:52.163+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:01:52.172+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:01:52.174+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.174+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:01:52.179+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2874f7c] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.184+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:01:52.186+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.187+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.187+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d90d7e] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.188+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:01:52.189+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.190+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477b03c8] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.190+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@595772a8] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.192+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:01:52.194+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f560acb] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.202+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.204+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b75a1ea] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.204+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484571558 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:01:52.204+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1183515306 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:52.206+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:52.206+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:01:52.207+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:52.208+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-18T16:01:52.209+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@263413371 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:52.209+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@430302053 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:01:52.210+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1674450894 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:01:52.210+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1347157888 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b95c477] will not be managed by Spring
2025-12-18T16:01:52.213+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:01:52.213+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:52.219+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:01:52.219+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:01:52.220+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:01:52.220+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:01:52.221+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 2(Long)
2025-12-18T16:01:52.222+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:52.222+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 2(Long)
2025-12-18T16:01:52.223+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2874f7c]
2025-12-18T16:01:52.223+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d90d7e]
2025-12-18T16:01:52.223+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-18T16:01:52.225+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.225+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:52.226+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd66bba] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.227+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:01:52.227+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:01:52.227+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:01:52.227+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:01:52.228+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1408364754 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:01:52.228+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f560acb]
2025-12-18T16:01:52.228+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477b03c8]
2025-12-18T16:01:52.228+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:01:52.230+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:52.230+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@595772a8]
2025-12-18T16:01:52.236+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:52.236+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:52.242+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:01:52.236+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.237+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b75a1ea]
2025-12-18T16:01:52.241+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:01:52.241+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:52.242+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:52.243+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:52.245+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d052671] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.246+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:52.250+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/companies
2025-12-18T16:01:52.250+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:01:52.256+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2000950282 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:01:52.257+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:01:52.258+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:01:52.258+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:52.259+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:52.260+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:52.260+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:01:52.263+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:52.265+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:52.274+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:01:52.276+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd66bba]
2025-12-18T16:01:52.278+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.278+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.279+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523be7e] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.279+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@357a2cca] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.280+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1542885083 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:01:52.280+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1660991995 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:52.280+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:01:52.280+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:01:52.282+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:52.284+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:01:52.286+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2025-12-18T16:01:52.286+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d052671]
2025-12-18T16:01:52.287+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.288+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4cc9e4] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.290+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@263084626 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:01:52.290+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:01:52.290+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:01:52.290+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:01:52.290+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523be7e]
2025-12-18T16:01:52.291+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@357a2cca]
2025-12-18T16:01:52.291+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:01:52.291+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.291+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:52.291+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@375db538] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.293+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=OKXRBW, companyNa (truncated)...]
2025-12-18T16:01:52.294+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@798309859 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:01:52.306+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:52.308+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:52.310+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:52.312+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:01:52.313+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4cc9e4]
2025-12-18T16:01:52.314+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.313+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:01:52.319+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a89c9a9] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.320+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@375db538]
2025-12-18T16:01:52.321+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1203186933 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:01:52.324+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.324+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:52.324+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5c11be] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.325+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:52.326+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1911723416 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:01:52.327+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:52.328+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:52.330+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:01:52.330+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a89c9a9]
2025-12-18T16:01:52.331+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:52.335+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.336+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5c11be]
2025-12-18T16:01:52.337+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d436497] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.340+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.340+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@968044567 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:01:52.342+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:52.342+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6017da13] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.343+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:52.344+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722335310 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:01:52.344+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:01:52.345+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:01:52.346+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:52.350+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d436497]
2025-12-18T16:01:52.351+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.353+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:01:52.353+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49319372] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.353+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6017da13]
2025-12-18T16:01:52.354+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1606426911 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:01:52.355+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.355+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:01:52.356+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f1a8890] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.357+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:01:52.358+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@293803042 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:01:52.358+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:52.359+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:52.361+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:01:52.361+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:52.361+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49319372]
2025-12-18T16:01:52.361+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f1a8890]
2025-12-18T16:01:52.362+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:52.363+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:52.363+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53786a21] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:52.363+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T16:01:52.364+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@370657599 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:01:52.365+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:52.368+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:52.369+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:01:52.374+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:52.377+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53786a21]
2025-12-18T16:01:52.378+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:52.378+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T16:01:52.379+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:52.972+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-18T16:01:52.977+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-18T16:01:52.979+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/logout
2025-12-18T16:01:52.980+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-18T16:01:52.983+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-18T16:01:52.985+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-18T16:01:52.988+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI2IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-18T16:01:52.991+09:00  INFO 53700 --- [http-nio-8080-exec-6] SECURITY                                 : LOGOUT userId=6
2025-12-18T16:01:52.997+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:53.003+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-18T16:01:53.010+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:57.310+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-18T16:01:57.313+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T16:01:57.314+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T16:01:57.315+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T16:01:57.315+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T16:01:57.316+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T16:01:57.317+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo3, password=1234)]
2025-12-18T16:01:57.317+09:00  INFO 53700 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo3
2025-12-18T16:01:57.318+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:57.318+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1993134f] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:57.321+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@587886176 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:57.324+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T16:01:57.325+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo3(String)
2025-12-18T16:01:57.344+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T16:01:57.346+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1993134f]
2025-12-18T16:01:57.429+09:00  INFO 53700 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 성공 - userId: 7, role: CEO, companyId: 4
2025-12-18T16:01:57.430+09:00  INFO 53700 --- [http-nio-8080-exec-10] SECURITY                                 : LOGIN_SUCCESS userId=7 username=test_ceo3 role=CEO
2025-12-18T16:01:57.431+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:57.433+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=7, username=test_ceo3, password= (truncated)...]
2025-12-18T16:01:57.441+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:57.542+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:01:57.555+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:01:57.559+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:01:57.562+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:01:57.563+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/users/companies
2025-12-18T16:01:57.563+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/companies
2025-12-18T16:01:57.564+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:01:57.584+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:01:57.584+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:01:57.585+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:01:57.586+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:01:57.586+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:01:57.587+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:57.587+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:57.588+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30528f43] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:57.588+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b6d661] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:57.591+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1942495708 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b95c477] will not be managed by Spring
2025-12-18T16:01:57.591+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1273431250 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:57.591+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:01:57.592+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:01:57.593+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 7(Long)
2025-12-18T16:01:57.594+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 7(Long)
2025-12-18T16:01:57.596+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 4
2025-12-18T16:01:57.596+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 4
2025-12-18T16:01:57.599+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b6d661]
2025-12-18T16:01:57.599+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30528f43]
2025-12-18T16:01:57.600+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:57.601+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:57.603+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=TOV3VY, companyNa (truncated)...]
2025-12-18T16:01:57.603+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=7, companyId= (truncated)...]
2025-12-18T16:01:57.605+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:57.607+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:57.917+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:01:57.918+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=7
2025-12-18T16:01:57.918+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:01:57.918+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:01:57.918+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=7
2025-12-18T16:01:57.918+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:01:57.968+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:01:57.968+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=7
2025-12-18T16:01:57.970+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:01:57.978+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-18T16:01:57.979+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=7
2025-12-18T16:01:57.973+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:01:57.975+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=7
2025-12-18T16:01:57.975+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:01:57.977+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/expenses
2025-12-18T16:01:57.978+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-18T16:01:57.980+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=7", parameters={masked}
2025-12-18T16:01:57.986+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/expenses
2025-12-18T16:01:57.987+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-18T16:01:57.987+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-18T16:01:57.988+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:01:57.988+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:01:57.989+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:01:57.989+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:01:57.992+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:01:57.990+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=7
2025-12-18T16:01:57.991+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:01:57.993+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:01:57.991+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:01:57.991+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:01:57.992+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:58.001+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@249b7963] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:57.993+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:01:57.993+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=7", parameters={masked}
2025-12-18T16:01:57.994+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:01:57.995+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:01:57.997+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:01:58.006+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:58.004+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:58.005+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:01:58.005+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:01:58.006+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:01:58.010+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:01:58.006+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b42fa2c] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:58.007+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11b8c620] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:58.008+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:58.008+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:01:58.010+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:58.012+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@344238816 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:58.013+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1845889828 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b95c477] will not be managed by Spring
2025-12-18T16:01:58.013+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c70bc7f] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:58.013+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:58.017+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@28174722 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:01:58.018+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c02dab7] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:58.020+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:58.020+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:58.021+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13756c58] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:58.021+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:01:58.024+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:58.025+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:58.028+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1050595241 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:01:58.029+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 7(Long), 4(Long)
2025-12-18T16:01:58.036+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:01:58.039+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 7(Long), 4(Long)
2025-12-18T16:01:58.053+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1473843898 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:58.053+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753927931 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:01:58.057+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:01:58.057+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:01:58.058+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-18T16:01:58.063+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-18T16:01:58.067+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:01:58.068+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:01:58.069+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:01:58.069+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:01:58.079+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11b8c620]
2025-12-18T16:01:58.079+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@249b7963]
2025-12-18T16:01:58.080+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b42fa2c]
2025-12-18T16:01:58.080+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c70bc7f]
2025-12-18T16:01:58.080+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:58.081+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:58.088+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:58.090+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:58.090+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2a3bca] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:58.090+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:01:58.091+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78e4b89b] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:58.091+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:01:58.092+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@502558057 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b95c477] will not be managed by Spring
2025-12-18T16:01:58.095+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:58.096+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615231025 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:01:58.098+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:58.106+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:01:58.106+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:01:58.110+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:58.111+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:01:58.134+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c02dab7]
2025-12-18T16:01:58.135+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13756c58]
2025-12-18T16:01:58.136+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:58.137+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:01:58.137+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:58.139+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:58.142+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:01:58.143+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:01:58.143+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:58.180+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:01:58.180+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:01:58.186+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:58.189+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2a3bca]
2025-12-18T16:01:58.191+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78e4b89b]
2025-12-18T16:01:58.196+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:58.198+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:58.199+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:01:58.203+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:01:58.210+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:58.212+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:59.413+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:01:59.416+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:01:59.417+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:01:59.417+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:01:59.425+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:01:59.425+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:01:59.426+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:01:59.428+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/users/me
2025-12-18T16:01:59.429+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/users/companies
2025-12-18T16:01:59.430+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/users/companies/pending
2025-12-18T16:01:59.434+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:01:59.435+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:01:59.443+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:01:59.444+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:01:59.445+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:01:59.451+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:01:59.451+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:01:59.451+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:01:59.452+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:01:59.453+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/users/me
2025-12-18T16:01:59.453+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:01:59.453+09:00  INFO 53700 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 7, companyId: 4
2025-12-18T16:01:59.454+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:59.454+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:01:59.454+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:59.455+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:59.455+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b67335] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:59.455+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:01:59.455+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed4f547] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:59.456+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642a080a] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:59.458+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:01:59.461+09:00  INFO 53700 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 7, companyId: 4
2025-12-18T16:01:59.463+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@520736580 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:01:59.466+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:01:59.464+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1397452255 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:01:59.468+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:01:59.466+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:01:59.468+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 7(Long), PENDING(String)
2025-12-18T16:01:59.471+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 7(Long)
2025-12-18T16:01:59.471+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37deaffd] was not registered for synchronization because synchronization is not active
2025-12-18T16:01:59.476+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869471062 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:01:59.479+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:59.480+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1476061322 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:01:59.481+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:01:59.481+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 4
2025-12-18T16:01:59.490+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 7(Long)
2025-12-18T16:01:59.491+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:01:59.493+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 7(Long)
2025-12-18T16:01:59.492+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed4f547]
2025-12-18T16:01:59.492+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b67335]
2025-12-18T16:01:59.494+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:59.494+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:59.494+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:01:59.505+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=12, userId=7, companyId= (truncated)...]
2025-12-18T16:01:59.509+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:59.510+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:59.512+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:59.511+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:01:59.512+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642a080a]
2025-12-18T16:01:59.512+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37deaffd]
2025-12-18T16:01:59.512+09:00  INFO 53700 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 7, companyId: 4
2025-12-18T16:01:59.512+09:00  INFO 53700 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 7, companyId: 4
2025-12-18T16:01:59.513+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:59.513+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:01:59.516+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=7, username=test_ceo3, passwo (truncated)...]
2025-12-18T16:01:59.517+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=7, username=test_ceo3, passwo (truncated)...]
2025-12-18T16:01:59.518+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:01:59.523+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:02:07.266+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-18T16:02:07.273+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-18T16:02:07.274+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: CEO, companyId: 4, uri: /api/logout
2025-12-18T16:02:07.275+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-18T16:02:07.276+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-18T16:02:07.276+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-18T16:02:07.277+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI3IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-18T16:02:07.278+09:00  INFO 53700 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=7
2025-12-18T16:02:07.289+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:02:07.290+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-18T16:02:07.292+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:42.457+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-18T16:04:42.459+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T16:04:42.461+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T16:04:42.461+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T16:04:42.462+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T16:04:42.462+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T16:04:42.463+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo4, password=1234)]
2025-12-18T16:04:42.464+09:00  INFO 53700 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo4
2025-12-18T16:04:42.465+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:42.465+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c06d81] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:42.467+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1726809322 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:04:42.468+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T16:04:42.471+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo4(String)
2025-12-18T16:04:42.474+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T16:04:42.475+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c06d81]
2025-12-18T16:04:42.559+09:00  INFO 53700 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 8, role: CEO, companyId: 8
2025-12-18T16:04:42.560+09:00  INFO 53700 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=8 username=test_ceo4 role=CEO
2025-12-18T16:04:42.561+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:42.561+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=8, username=test_ceo4, password= (truncated)...]
2025-12-18T16:04:42.562+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:42.572+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:04:42.578+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:04:42.580+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/companies
2025-12-18T16:04:42.581+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:04:42.582+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:04:42.585+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:04:42.586+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:42.587+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f66f2cc] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:42.587+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:04:42.590+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993547679 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:04:42.592+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:04:42.599+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:04:42.594+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:04:42.602+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/companies
2025-12-18T16:04:42.604+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:04:42.605+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:04:42.606+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-18T16:04:42.607+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:04:42.607+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f66f2cc]
2025-12-18T16:04:42.609+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:42.614+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:42.615+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dec2e60] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:42.616+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=16, userId=8, companyId= (truncated)...]
2025-12-18T16:04:42.616+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1340152677 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:04:42.618+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:42.619+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:04:42.624+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:04:42.657+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-18T16:04:42.660+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dec2e60]
2025-12-18T16:04:42.663+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:42.664+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=8, companyCode=BU5P3Y, companyNa (truncated)...]
2025-12-18T16:04:42.667+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:42.987+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:04:42.987+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=8
2025-12-18T16:04:42.990+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:04:42.991+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:04:42.991+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=8
2025-12-18T16:04:42.996+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:04:42.998+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:04:43.000+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:04:43.006+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/expenses
2025-12-18T16:04:43.006+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/expenses/pending-approvals
2025-12-18T16:04:43.006+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:04:43.007+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:04:43.007+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:04:43.007+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=8", parameters={masked}
2025-12-18T16:04:43.008+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:04:43.008+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:04:43.012+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:43.015+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:04:43.015+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:43.016+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794d3a52] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:43.016+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f442696] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:43.017+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:04:43.018+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/pending
2025-12-18T16:04:43.030+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/expenses
2025-12-18T16:04:43.034+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:04:43.035+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:04:43.035+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:04:43.036+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:04:43.056+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:04:43.043+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:04:43.054+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:04:43.055+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:04:43.058+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:43.063+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/expenses/pending-approvals
2025-12-18T16:04:43.064+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/pending
2025-12-18T16:04:43.065+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:04:43.064+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:04:43.064+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f43dd4] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:43.065+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@713691158 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b95c477] will not be managed by Spring
2025-12-18T16:04:43.065+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1663581425 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:04:43.065+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:04:43.066+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:04:43.081+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:04:43.081+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:04:43.081+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1599574244 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:04:43.082+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:04:43.082+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=8", parameters={masked}
2025-12-18T16:04:43.088+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:04:43.082+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:04:43.083+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:43.083+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 8(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:04:43.087+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:04:43.088+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 8(Long), 8(Long)
2025-12-18T16:04:43.089+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:43.090+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:04:43.090+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@486d49fd] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:43.097+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 8(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:04:43.097+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:04:43.099+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9d8474] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:43.099+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:04:43.100+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1466379330 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:04:43.101+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:04:43.102+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f442696]
2025-12-18T16:04:43.104+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:43.105+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:04:43.105+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794d3a52]
2025-12-18T16:04:43.106+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:04:43.106+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:43.107+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21294d38] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:43.108+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 8(Long)
2025-12-18T16:04:43.110+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:43.111+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f43dd4]
2025-12-18T16:04:43.112+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f9c027d] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:43.114+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@824362764 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:04:43.114+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@42973370 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:04:43.115+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:04:43.116+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:43.117+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@649605633 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b95c477] will not be managed by Spring
2025-12-18T16:04:43.117+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:04:43.117+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:04:43.118+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:43.119+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:04:43.121+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@170fcef] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:43.121+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:04:43.122+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 8(Long), 8(Long)
2025-12-18T16:04:43.123+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 8(Long)
2025-12-18T16:04:43.123+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@486d49fd]
2025-12-18T16:04:43.124+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1126726536 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:04:43.125+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 8(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:04:43.126+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:43.130+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:04:43.131+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:04:43.132+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 8(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:04:43.135+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:43.140+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:04:43.140+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:04:43.141+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21294d38]
2025-12-18T16:04:43.140+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:04:43.141+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9d8474]
2025-12-18T16:04:43.143+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:43.144+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:04:43.143+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:04:43.147+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:43.143+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f9c027d]
2025-12-18T16:04:43.143+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:43.151+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:04:43.147+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@170fcef]
2025-12-18T16:04:43.151+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:43.151+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:43.152+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:43.153+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:04:43.156+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:04:43.157+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:43.157+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:44.395+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:04:44.397+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:04:44.398+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:04:44.398+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:04:44.405+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:04:44.407+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/me
2025-12-18T16:04:44.408+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:04:44.408+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:04:44.413+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:04:44.414+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:04:44.416+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/companies
2025-12-18T16:04:44.418+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:04:44.419+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:04:44.418+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/me
2025-12-18T16:04:44.419+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/companies/pending
2025-12-18T16:04:44.421+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:04:44.419+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:04:44.420+09:00  INFO 53700 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 8, companyId: 8
2025-12-18T16:04:44.424+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:44.425+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11f2f8a2] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:44.420+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:04:44.422+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:04:44.422+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:04:44.432+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:04:44.437+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:04:44.433+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:04:44.436+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:04:44.439+09:00  INFO 53700 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 8, companyId: 8
2025-12-18T16:04:44.439+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:44.440+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:44.440+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:44.441+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@519808712 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:04:44.441+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:04:44.442+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:04:44.441+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc35ed5] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:44.441+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67cb8d67] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:44.441+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b931ea] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:44.452+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@842571409 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:04:44.453+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:04:44.452+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@614974456 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:04:44.452+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@731915029 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:04:44.452+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:04:44.455+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 8(Long), PENDING(String)
2025-12-18T16:04:44.456+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:04:44.457+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:04:44.456+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:04:44.457+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11f2f8a2]
2025-12-18T16:04:44.459+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:04:44.460+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:04:44.465+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:04:44.465+09:00  INFO 53700 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 8, companyId: 8
2025-12-18T16:04:44.466+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc35ed5]
2025-12-18T16:04:44.466+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b931ea]
2025-12-18T16:04:44.467+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:44.467+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:44.468+09:00  INFO 53700 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 8, companyId: 8
2025-12-18T16:04:44.469+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=8, username=test_ceo4, passwo (truncated)...]
2025-12-18T16:04:44.470+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:04:44.470+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:44.471+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:44.471+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:44.471+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=8, username=test_ceo4, passwo (truncated)...]
2025-12-18T16:04:44.472+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-18T16:04:44.476+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:44.478+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67cb8d67]
2025-12-18T16:04:44.483+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:44.483+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=16, userId=8, companyId= (truncated)...]
2025-12-18T16:04:44.484+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:57.960+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:04:57.966+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/companies
2025-12-18T16:04:57.967+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/companies
2025-12-18T16:04:57.967+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/companies
2025-12-18T16:04:57.968+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/companies", parameters={}
2025-12-18T16:04:57.968+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#createCompany(CompanyCreateRequest)
2025-12-18T16:04:57.970+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CompanyController.CompanyCreateRequest(companyName=test_company9)]
2025-12-18T16:04:57.971+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:04:57.972+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:04:57.972+09:00  INFO 53700 --- [http-nio-8080-exec-6] c.i.b.controller.CompanyController       : 회사 생성 시도 - companyName: test_company9, userId: 8
2025-12-18T16:04:57.979+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:57.980+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8a21aa]
2025-12-18T16:04:57.981+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23432202 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will be managed by Spring
2025-12-18T16:04:57.982+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.existsByCode  : ==>  Preparing: SELECT COUNT(*) > 0 FROM company_tb WHERE company_code = ?
2025-12-18T16:04:57.983+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.existsByCode  : ==> Parameters: SZ7CTQ(String)
2025-12-18T16:04:57.987+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.existsByCode  : <==      Total: 1
2025-12-18T16:04:57.987+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8a21aa]
2025-12-18T16:04:57.988+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8a21aa] from current transaction
2025-12-18T16:04:57.989+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.backend.mapper.CompanyMapper.insert  : ==>  Preparing: INSERT INTO company_tb (company_code, company_name, created_by, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-12-18T16:04:57.991+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.backend.mapper.CompanyMapper.insert  : ==> Parameters: SZ7CTQ(String), test_company9(String), 8(Long), true(Boolean), 2025-12-18T16:04:57.988317700(LocalDateTime), 2025-12-18T16:04:57.988317700(LocalDateTime)
2025-12-18T16:04:58.000+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.backend.mapper.CompanyMapper.insert  : <==    Updates: 1
2025-12-18T16:04:58.004+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8a21aa]
2025-12-18T16:04:58.005+09:00  INFO 53700 --- [http-nio-8080-exec-6] c.i.backend.service.CompanyService       : 회사 생성 완료 - companyId: 9, companyName: test_company9, createdBy: 8
2025-12-18T16:04:58.006+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8a21aa]
2025-12-18T16:04:58.006+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8a21aa]
2025-12-18T16:04:58.006+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8a21aa]
2025-12-18T16:04:58.015+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:58.016+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53bceafd] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:58.016+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1849843419 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:04:58.017+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:04:58.017+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:04:58.019+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:04:58.019+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53bceafd]
2025-12-18T16:04:58.021+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:58.022+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748e07e6]
2025-12-18T16:04:58.022+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1016715999 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will be managed by Spring
2025-12-18T16:04:58.023+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:04:58.024+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:04:58.026+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:04:58.031+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748e07e6]
2025-12-18T16:04:58.032+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748e07e6] from current transaction
2025-12-18T16:04:58.032+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.addUserToCompany      : ==>  Preparing: INSERT INTO user_company_tb (user_id, company_id, role, position, is_active, is_primary, approval_status, created_at, updated_at) VALUES (?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 0), 'APPROVED', NOW(), NOW()) ON DUPLICATE KEY UPDATE role = VALUES(role), position = VALUES(position), is_active = VALUES(is_active), approval_status = 'APPROVED', updated_at = NOW()
2025-12-18T16:04:58.034+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.addUserToCompany      : ==> Parameters: 8(Long), 9(Long), CEO(String), 대표(String), true(Boolean), false(Boolean)
2025-12-18T16:04:58.037+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.addUserToCompany      : <==    Updates: 1
2025-12-18T16:04:58.038+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748e07e6]
2025-12-18T16:04:58.038+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748e07e6]
2025-12-18T16:04:58.039+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748e07e6]
2025-12-18T16:04:58.040+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748e07e6]
2025-12-18T16:04:58.049+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:58.050+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10581033]
2025-12-18T16:04:58.050+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@40406342 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will be managed by Spring
2025-12-18T16:04:58.051+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:04:58.053+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:04:58.059+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:04:58.121+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10581033]
2025-12-18T16:04:58.123+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10581033] from current transaction
2025-12-18T16:04:58.124+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-18T16:04:58.185+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 8(Long), 9(Long), 8(Long)
2025-12-18T16:04:58.202+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-18T16:04:58.202+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10581033]
2025-12-18T16:04:58.205+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10581033] from current transaction
2025-12-18T16:04:58.205+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-18T16:04:58.206+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 9(Long), 8(Long)
2025-12-18T16:04:58.233+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-18T16:04:58.239+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10581033]
2025-12-18T16:04:58.239+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10581033]
2025-12-18T16:04:58.240+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10581033]
2025-12-18T16:04:58.240+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10581033]
2025-12-18T16:04:58.246+09:00  INFO 53700 --- [http-nio-8080-exec-6] c.i.b.controller.CompanyController       : 회사 생성 완료 - companyId: 9, companyName: test_company9, userId: 8
2025-12-18T16:04:58.247+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:58.248+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=회사가 등록되었습니다., data=CompanyDto(companyId=9, companyCode=SZ7CTQ, com (truncated)...]
2025-12-18T16:04:58.249+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:59.892+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:04:59.894+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:04:59.894+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:04:59.895+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:04:59.896+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:04:59.902+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:04:59.910+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:04:59.919+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:04:59.924+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:04:59.929+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:04:59.930+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/me
2025-12-18T16:04:59.933+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/companies
2025-12-18T16:04:59.941+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:04:59.935+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/companies/pending
2025-12-18T16:04:59.937+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/companies
2025-12-18T16:04:59.939+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/me
2025-12-18T16:04:59.940+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:04:59.941+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:04:59.942+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:04:59.942+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:04:59.943+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:04:59.944+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:04:59.949+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:04:59.946+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:04:59.947+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:04:59.947+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:04:59.948+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:04:59.950+09:00  INFO 53700 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 8, companyId: 8
2025-12-18T16:04:59.951+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:59.951+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:04:59.952+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:04:59.952+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:04:59.952+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:59.952+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68fd7755] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:59.953+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:59.953+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:59.953+09:00  INFO 53700 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 8, companyId: 8
2025-12-18T16:04:59.954+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ea39d] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:59.954+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb33075] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:59.954+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abe63f8] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:59.955+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:04:59.957+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@150afcb4] was not registered for synchronization because synchronization is not active
2025-12-18T16:04:59.958+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1045643229 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:04:59.961+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1499586451 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:04:59.965+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:04:59.962+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2123466359 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:04:59.963+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1651574196 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b95c477] will not be managed by Spring
2025-12-18T16:04:59.963+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:04:59.966+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 8(Long), PENDING(String)
2025-12-18T16:04:59.966+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:04:59.967+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:04:59.968+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:04:59.970+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:04:59.969+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:04:59.971+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@266223325 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:04:59.972+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:04:59.973+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:04:59.973+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:04:59.974+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:04:59.974+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:04:59.980+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ea39d]
2025-12-18T16:04:59.975+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:04:59.979+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb33075]
2025-12-18T16:04:59.980+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68fd7755]
2025-12-18T16:04:59.982+09:00  INFO 53700 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 8, companyId: 8
2025-12-18T16:04:59.984+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abe63f8]
2025-12-18T16:04:59.984+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:59.984+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:04:59.986+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:59.986+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:59.987+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:59.987+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:04:59.987+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@150afcb4]
2025-12-18T16:04:59.991+09:00  INFO 53700 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 8, companyId: 8
2025-12-18T16:04:59.988+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=17, userId=8, companyId= (truncated)...]
2025-12-18T16:04:59.988+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=8, username=test_ceo4, passwo (truncated)...]
2025-12-18T16:04:59.988+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=9, companyCode=SZ7CTQ, companyNa (truncated)...]
2025-12-18T16:04:59.990+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:04:59.992+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:04:59.999+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:00.001+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:00.004+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:00.008+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=8, username=test_ceo4, passwo (truncated)...]
2025-12-18T16:05:00.019+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:03.530+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/8/primary
2025-12-18T16:05:03.533+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/companies/8/primary
2025-12-18T16:05:03.534+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/companies/8/primary
2025-12-18T16:05:03.534+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/companies/8/primary
2025-12-18T16:05:03.535+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/companies/8/primary", parameters={}
2025-12-18T16:05:03.535+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#setPrimaryCompany(Long)
2025-12-18T16:05:03.536+09:00  INFO 53700 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 기본 회사 설정 - userId: 8, companyId: 8
2025-12-18T16:05:03.551+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:03.552+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e494270]
2025-12-18T16:05:03.554+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1968783937 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will be managed by Spring
2025-12-18T16:05:03.555+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:05:03.557+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:05:03.564+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:05:03.568+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e494270]
2025-12-18T16:05:03.569+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e494270] from current transaction
2025-12-18T16:05:03.570+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-18T16:05:03.570+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 8(Long), 8(Long), 8(Long)
2025-12-18T16:05:03.574+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-18T16:05:03.575+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e494270]
2025-12-18T16:05:03.576+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e494270] from current transaction
2025-12-18T16:05:03.590+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-18T16:05:03.592+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 8(Long), 8(Long)
2025-12-18T16:05:03.601+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-18T16:05:03.601+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e494270]
2025-12-18T16:05:03.601+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e494270]
2025-12-18T16:05:03.602+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e494270]
2025-12-18T16:05:03.602+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e494270]
2025-12-18T16:05:03.607+09:00  INFO 53700 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 기본 회사 설정 완료 - userId: 8, companyId: 8
2025-12-18T16:05:03.607+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:03.608+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=기본 회사가 설정되었습니다., data=null)]
2025-12-18T16:05:03.609+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:04.795+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:05:04.817+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:05:04.830+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:05:04.832+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:05:04.880+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/companies
2025-12-18T16:05:04.886+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/companies/pending
2025-12-18T16:05:04.896+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:05:04.896+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:05:04.897+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:05:04.904+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:05:04.897+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:05:04.908+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:04.909+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:05:04.911+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b317ed] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:04.911+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:04.913+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae21a4b] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:04.917+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056000295 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:05:04.917+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:05:04.918+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:05:04.919+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27576199 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:05:04.919+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:05:04.921+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 8(Long), PENDING(String)
2025-12-18T16:05:04.925+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:05:04.925+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:05:04.925+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae21a4b]
2025-12-18T16:05:04.926+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:04.926+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b317ed]
2025-12-18T16:05:04.929+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:05:04.930+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:04.931+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:04.932+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=16, userId=8, companyId= (truncated)...]
2025-12-18T16:05:04.937+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:05.537+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:05:05.540+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:05:05.543+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:05:05.545+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:05:05.545+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:05:05.552+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:05:05.556+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:05:05.556+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:05:05.558+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/me
2025-12-18T16:05:05.558+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:05:05.563+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/companies
2025-12-18T16:05:05.563+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/companies/pending
2025-12-18T16:05:05.584+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:05:05.565+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:05:05.580+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:05:05.581+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/me
2025-12-18T16:05:05.587+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:05:05.583+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:05:05.588+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:05:05.589+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:05:05.585+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:05:05.586+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:05:05.587+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/companies
2025-12-18T16:05:05.587+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:05:05.591+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:05.599+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bb617d4] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:05.591+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:05:05.595+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:05:05.597+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:05:05.599+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:05:05.601+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:05.602+09:00  INFO 53700 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 8, companyId: 8
2025-12-18T16:05:05.602+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:05:05.602+09:00  INFO 53700 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 8, companyId: 8
2025-12-18T16:05:05.603+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69d745ca] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:05.604+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:05.604+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:05:05.604+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1269771069 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:05:05.605+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:05.606+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe21639] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:05.607+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:05.608+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:05:05.613+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:05:05.608+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ba3efb4] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:05.610+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139892310 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:05:05.611+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36437eb6] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:05.618+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:05:05.620+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 8(Long), PENDING(String)
2025-12-18T16:05:05.621+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@791886601 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:05:05.624+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:05:05.625+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@81520713 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:05:05.632+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:05:05.625+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1256765803 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:05:05.625+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:05:05.631+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:05:05.632+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:05:05.632+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69d745ca]
2025-12-18T16:05:05.632+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:05:05.633+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bb617d4]
2025-12-18T16:05:05.634+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:05:05.634+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:05.634+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:05:05.634+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:05:05.635+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:05.638+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=16, userId=8, companyId= (truncated)...]
2025-12-18T16:05:05.635+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:05:05.639+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:05:05.638+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe21639]
2025-12-18T16:05:05.639+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:05.639+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:05:05.639+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:05.639+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36437eb6]
2025-12-18T16:05:05.640+09:00  INFO 53700 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 8, companyId: 8
2025-12-18T16:05:05.641+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ba3efb4]
2025-12-18T16:05:05.642+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:05.642+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:05.642+09:00  INFO 53700 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 8, companyId: 8
2025-12-18T16:05:05.642+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=8, companyCode=BU5P3Y, companyNa (truncated)...]
2025-12-18T16:05:05.649+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:05.649+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:05.648+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=8, username=test_ceo4, passwo (truncated)...]
2025-12-18T16:05:05.649+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=8, username=test_ceo4, passwo (truncated)...]
2025-12-18T16:05:05.651+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:05.653+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:11.465+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:05:11.466+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:11.467+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:05:11.468+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:05:11.471+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:05:11.471+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:11.481+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:05:11.481+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:11.484+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:05:11.490+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/expenses
2025-12-18T16:05:11.491+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/expenses/pending-approvals
2025-12-18T16:05:11.486+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:05:11.486+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:11.489+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:05:11.491+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:05:11.495+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/pending
2025-12-18T16:05:11.491+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/expenses
2025-12-18T16:05:11.491+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:11.494+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/pending
2025-12-18T16:05:11.495+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/expenses/pending-approvals
2025-12-18T16:05:11.495+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:05:11.496+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:05:11.499+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:05:11.500+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=8", parameters={masked}
2025-12-18T16:05:11.500+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:05:11.501+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:11.501+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:05:11.501+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:05:11.502+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:05:11.502+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:05:11.503+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:05:11.505+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:11.503+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=8", parameters={masked}
2025-12-18T16:05:11.504+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:11.504+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:05:11.504+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:05:11.505+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:05:11.505+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70098d1e] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:11.505+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:05:11.505+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34089978] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:11.505+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:05:11.506+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:05:11.506+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:11.514+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:05:11.506+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:11.509+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:05:11.509+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@573424961 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:05:11.509+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@517365862 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:05:11.514+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3050185a] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:11.514+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:11.515+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d32f0c9] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:11.515+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:11.515+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:05:11.515+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:05:11.516+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33fac968] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:11.518+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 8(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:05:11.516+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36c1a086] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:11.517+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 8(Long), 8(Long)
2025-12-18T16:05:11.517+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@845425584 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:05:11.517+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1431974055 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:05:11.522+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377980813 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b95c477] will not be managed by Spring
2025-12-18T16:05:11.521+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:05:11.521+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1875886115 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:05:11.522+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:05:11.522+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:05:11.522+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:05:11.523+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:05:11.524+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 8(Long), 8(Long)
2025-12-18T16:05:11.524+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:05:11.524+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34089978]
2025-12-18T16:05:11.534+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:11.534+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8070300] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:11.525+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 8(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:05:11.525+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 8(Long)
2025-12-18T16:05:11.529+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70098d1e]
2025-12-18T16:05:11.534+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 8(Long)
2025-12-18T16:05:11.535+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@917180426 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:05:11.540+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:11.541+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:05:11.541+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:05:11.543+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:05:11.543+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:05:11.545+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:05:11.547+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 8(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:05:11.548+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:05:11.548+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:11.553+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33fac968]
2025-12-18T16:05:11.549+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36c1a086]
2025-12-18T16:05:11.551+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d32f0c9]
2025-12-18T16:05:11.552+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3050185a]
2025-12-18T16:05:11.556+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:11.555+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:11.555+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:11.556+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:11.557+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e1d2d57] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:11.558+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:05:11.559+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:05:11.559+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:05:11.559+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:05:11.560+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1088508149 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:05:11.562+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:11.565+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:11.568+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8070300]
2025-12-18T16:05:11.600+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:11.601+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:05:11.617+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:11.619+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 8(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:05:11.619+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:05:11.621+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:11.622+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:05:11.622+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e1d2d57]
2025-12-18T16:05:11.623+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:11.624+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:05:11.625+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:14.018+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-18T16:05:14.021+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-18T16:05:14.022+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 8, uri: /api/users/switch-company
2025-12-18T16:05:14.022+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-18T16:05:14.022+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-18T16:05:14.023+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-18T16:05:14.024+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=9, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI4Iiwid (truncated)...]
2025-12-18T16:05:14.024+09:00  INFO 53700 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 8, companyId: 9
2025-12-18T16:05:14.025+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.025+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ad898db] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:14.028+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@214401295 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:05:14.028+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:05:14.031+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:05:14.034+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:05:14.035+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ad898db]
2025-12-18T16:05:14.038+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.038+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e6d2cf]
2025-12-18T16:05:14.038+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@336463207 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will be managed by Spring
2025-12-18T16:05:14.039+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:05:14.040+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:05:14.042+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:05:14.044+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e6d2cf]
2025-12-18T16:05:14.047+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e6d2cf] from current transaction
2025-12-18T16:05:14.048+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-18T16:05:14.048+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 8(Long), 9(Long), 8(Long)
2025-12-18T16:05:14.052+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-18T16:05:14.052+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e6d2cf]
2025-12-18T16:05:14.053+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e6d2cf] from current transaction
2025-12-18T16:05:14.053+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-18T16:05:14.054+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 9(Long), 8(Long)
2025-12-18T16:05:14.057+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-18T16:05:14.057+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e6d2cf]
2025-12-18T16:05:14.058+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e6d2cf]
2025-12-18T16:05:14.058+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e6d2cf]
2025-12-18T16:05:14.059+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e6d2cf]
2025-12-18T16:05:14.066+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.066+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2135ec58] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:14.067+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@49688457 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:05:14.068+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:05:14.068+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:05:14.070+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:05:14.070+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2135ec58]
2025-12-18T16:05:14.070+09:00  INFO 53700 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 8, companyId: 9
2025-12-18T16:05:14.071+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:14.071+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=8, username=test_ceo4,  (truncated)...]
2025-12-18T16:05:14.072+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:14.715+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:05:14.717+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:14.720+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:05:14.721+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:05:14.721+09:00 DEBUG 53700 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:14.721+09:00 DEBUG 53700 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:05:14.725+09:00 DEBUG 53700 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:05:14.751+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:05:14.752+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:14.763+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/expenses
2025-12-18T16:05:14.753+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:05:14.753+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:05:14.765+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/pending
2025-12-18T16:05:14.764+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/expenses/pending-approvals
2025-12-18T16:05:14.767+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:14.764+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:05:14.770+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:05:14.771+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:05:14.766+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/companies
2025-12-18T16:05:14.767+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:05:14.776+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:05:14.769+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=8", parameters={masked}
2025-12-18T16:05:14.784+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:05:14.773+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.786+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1140ca31] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:14.775+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:05:14.784+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:05:14.785+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.799+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39ab315] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:14.792+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:05:14.799+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:05:14.801+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:05:14.801+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:05:14.802+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.803+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.803+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:05:14.803+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:14.807+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c9d4f4e] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:14.813+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@475956309 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b95c477] will not be managed by Spring
2025-12-18T16:05:14.814+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753711134 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:05:14.807+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4503b8] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:14.808+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/expenses
2025-12-18T16:05:14.811+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/expenses/pending-approvals
2025-12-18T16:05:14.814+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:05:14.814+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:05:14.821+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 9(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:05:14.816+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:05:14.816+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:05:14.818+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1059007006 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f3e913] will not be managed by Spring
2025-12-18T16:05:14.820+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 8(Long), 9(Long)
2025-12-18T16:05:14.822+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:05:14.822+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=8", parameters={masked}
2025-12-18T16:05:14.822+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:05:14.835+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:05:14.825+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:05:14.826+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@916817145 wrapping com.mysql.cj.jdbc.ConnectionImpl@437b882e] will not be managed by Spring
2025-12-18T16:05:14.831+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:05:14.839+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.840+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@545e7aed] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:14.837+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.838+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:05:14.849+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 9(Long)
2025-12-18T16:05:14.848+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd577de] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:14.853+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:05:14.853+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:05:14.855+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:05:14.855+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:05:14.855+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1049474044 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:05:14.855+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@518002801 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:05:14.857+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1140ca31]
2025-12-18T16:05:14.857+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39ab315]
2025-12-18T16:05:14.857+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c9d4f4e]
2025-12-18T16:05:14.858+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4503b8]
2025-12-18T16:05:14.858+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:05:14.858+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:05:14.859+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.864+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:14.867+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:14.868+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:14.868+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 9(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:05:14.870+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 8(Long), 9(Long)
2025-12-18T16:05:14.870+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b3a169e] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:14.870+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:05:14.871+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=9, companyCode=SZ7CTQ, companyNa (truncated)...]
2025-12-18T16:05:14.872+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:05:14.874+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1280047056 wrapping com.mysql.cj.jdbc.ConnectionImpl@5869e0f4] will not be managed by Spring
2025-12-18T16:05:14.876+09:00 DEBUG 53700 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:14.879+09:00 DEBUG 53700 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:14.880+09:00 DEBUG 53700 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:14.881+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:05:14.884+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 9(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:05:14.886+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:05:14.904+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/pending
2025-12-18T16:05:14.914+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:05:14.914+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:05:14.916+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd577de]
2025-12-18T16:05:14.917+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.918+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@113ebc56] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:14.916+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:05:14.916+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@545e7aed]
2025-12-18T16:05:14.918+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@198246200 wrapping com.mysql.cj.jdbc.ConnectionImpl@60467d52] will not be managed by Spring
2025-12-18T16:05:14.919+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:05:14.924+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:14.931+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:05:14.945+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:05:14.948+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:05:14.961+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:05:14.962+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b3a169e]
2025-12-18T16:05:14.964+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 9(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:05:14.967+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:05:14.968+09:00 DEBUG 53700 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:14.973+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:05:14.972+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:14.975+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:05:14.975+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:05:14.977+09:00 DEBUG 53700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:14.980+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2d0bb5] was not registered for synchronization because synchronization is not active
2025-12-18T16:05:15.041+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:05:15.125+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@398669379 wrapping com.mysql.cj.jdbc.ConnectionImpl@6653cade] will not be managed by Spring
2025-12-18T16:05:15.135+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:05:15.135+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@113ebc56]
2025-12-18T16:05:15.136+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 9(Long)
2025-12-18T16:05:15.139+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:15.141+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:05:15.201+09:00 DEBUG 53700 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:05:15.201+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:05:15.224+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2d0bb5]
2025-12-18T16:05:15.225+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:05:15.233+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:05:15.234+09:00 DEBUG 53700 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:18.260+09:00  INFO 55112 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 55112 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-18T16:11:18.263+09:00 DEBUG 55112 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-18T16:11:18.265+09:00  INFO 55112 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-18T16:11:20.049+09:00 DEBUG 55112 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-18T16:11:20.052+09:00 DEBUG 55112 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-18T16:11:20.381+09:00 DEBUG 55112 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-18T16:11:20.382+09:00 DEBUG 55112 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-18T16:11:20.383+09:00 DEBUG 55112 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-18T16:11:20.383+09:00 DEBUG 55112 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-18T16:11:20.387+09:00 DEBUG 55112 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-18T16:11:20.392+09:00 DEBUG 55112 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-18T16:11:20.394+09:00 DEBUG 55112 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-18T16:11:20.395+09:00 DEBUG 55112 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-18T16:11:21.479+09:00  INFO 55112 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-18T16:11:21.526+09:00  INFO 55112 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-18T16:11:21.535+09:00  INFO 55112 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-18T16:11:21.681+09:00  INFO 55112 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-18T16:11:21.684+09:00  INFO 55112 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3325 ms
2025-12-18T16:11:21.814+09:00 DEBUG 55112 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-18T16:11:21.816+09:00 DEBUG 55112 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-18T16:11:22.267+09:00 DEBUG 55112 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-18T16:11:22.357+09:00 DEBUG 55112 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-18T16:11:22.379+09:00 DEBUG 55112 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-18T16:11:22.420+09:00 DEBUG 55112 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-18T16:11:23.195+09:00 DEBUG 55112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 68 mappings in 'requestMappingHandlerMapping'
2025-12-18T16:11:23.377+09:00 DEBUG 55112 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-18T16:11:23.435+09:00  WARN 55112 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 38c1e643-22c9-4874-aa42-a7e7c7949035

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-18T16:11:23.688+09:00  INFO 55112 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-18T16:11:24.988+09:00 DEBUG 55112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-18T16:11:25.799+09:00 DEBUG 55112 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-18T16:11:26.030+09:00 DEBUG 55112 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-18T16:11:26.101+09:00 DEBUG 55112 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-18T16:11:26.597+09:00  INFO 55112 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-18T16:11:26.809+09:00  INFO 55112 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 9.354 seconds (process running for 9.89)
2025-12-18T16:11:37.947+09:00  INFO 55112 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-18T16:11:37.950+09:00  INFO 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-18T16:11:37.953+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-18T16:11:37.955+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-18T16:11:37.956+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-18T16:11:37.958+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1d987bb2
2025-12-18T16:11:37.973+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@e7e7e61
2025-12-18T16:11:37.974+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-18T16:11:37.992+09:00  INFO 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 39 ms
2025-12-18T16:11:38.048+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:11:38.048+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:11:38.110+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:11:38.114+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:11:38.332+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/companies
2025-12-18T16:11:38.332+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/companies
2025-12-18T16:11:38.342+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:11:38.342+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:11:38.348+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:11:38.348+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:11:38.355+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:11:38.355+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:11:38.399+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:38.399+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:38.408+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@90a03fb] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:38.408+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2d2285] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:38.477+09:00  INFO 55112 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-18T16:11:38.876+09:00  INFO 55112 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3fdfa399
2025-12-18T16:11:38.879+09:00  INFO 55112 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-18T16:11:38.888+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1875643623 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:11:38.898+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:11:38.943+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:11:38.948+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1672664948 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:11:38.986+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:11:39.007+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:11:39.046+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:11:39.046+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:11:39.060+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@90a03fb]
2025-12-18T16:11:39.065+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2d2285]
2025-12-18T16:11:39.129+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:39.129+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:39.163+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=17, userId=8, companyId= (truncated)...]
2025-12-18T16:11:39.164+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=17, userId=8, companyId= (truncated)...]
2025-12-18T16:11:39.218+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:39.218+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:39.241+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/9/applications
2025-12-18T16:11:39.249+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/9
2025-12-18T16:11:39.249+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/9/applications
2025-12-18T16:11:39.256+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/9
2025-12-18T16:11:39.303+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/9/applications
2025-12-18T16:11:39.309+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/9
2025-12-18T16:11:39.310+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/9/applications
2025-12-18T16:11:39.313+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/9
2025-12-18T16:11:39.331+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/company/9
2025-12-18T16:11:39.332+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/companies/9/applications
2025-12-18T16:11:39.342+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/companies/9/applications
2025-12-18T16:11:39.344+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/9
2025-12-18T16:11:39.345+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/9/applications
2025-12-18T16:11:39.355+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/9/applications", parameters={}
2025-12-18T16:11:39.347+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/company/9
2025-12-18T16:11:39.349+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/9/applications
2025-12-18T16:11:39.354+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/9", parameters={}
2025-12-18T16:11:39.355+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-18T16:11:39.357+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/9
2025-12-18T16:11:39.358+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/9/applications", parameters={}
2025-12-18T16:11:39.360+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-18T16:11:39.364+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/9", parameters={}
2025-12-18T16:11:39.387+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-18T16:11:39.366+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-18T16:11:39.391+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:11:39.391+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:11:39.392+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:11:39.395+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:11:39.412+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:11:39.412+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:11:39.413+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:11:39.413+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:11:39.420+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:39.416+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:39.418+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:39.423+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155ff08b] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:39.420+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:39.424+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1177689441 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:11:39.421+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ed7f9e] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:39.423+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f7eca7] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:39.424+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cd2d00d] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:39.425+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:11:39.427+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2013381774 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:11:39.427+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1301658628 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:11:39.428+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@910523449 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:11:39.443+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:11:39.434+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:11:39.438+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:11:39.443+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:11:39.445+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:11:39.448+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:11:39.457+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:11:39.472+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:11:39.473+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:11:39.474+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:11:39.474+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:11:39.476+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ed7f9e]
2025-12-18T16:11:39.479+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155ff08b]
2025-12-18T16:11:39.479+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cd2d00d]
2025-12-18T16:11:39.479+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f7eca7]
2025-12-18T16:11:39.481+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:39.481+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:39.481+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:39.493+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:39.508+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d96f0c5] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:39.509+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c69efd9] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:39.562+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e3cfd8] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:39.564+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be6459c] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:39.566+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@457534541 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:11:39.571+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1085724304 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:11:39.575+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1777764682 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:11:39.577+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@268997488 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:11:39.593+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-18T16:11:39.579+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-18T16:11:39.580+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-18T16:11:39.592+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-18T16:11:39.596+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 9(Long)
2025-12-18T16:11:39.599+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 9(Long)
2025-12-18T16:11:39.610+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 9(Long)
2025-12-18T16:11:39.611+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 9(Long)
2025-12-18T16:11:39.660+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 1
2025-12-18T16:11:39.660+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 1
2025-12-18T16:11:39.660+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-18T16:11:39.671+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-18T16:11:39.680+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e3cfd8]
2025-12-18T16:11:39.681+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d96f0c5]
2025-12-18T16:11:39.704+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be6459c]
2025-12-18T16:11:39.705+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c69efd9]
2025-12-18T16:11:39.706+09:00  INFO 55112 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 9, count: 1
2025-12-18T16:11:39.708+09:00  INFO 55112 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 9, count: 1
2025-12-18T16:11:39.712+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:39.721+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:39.712+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:39.713+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:39.721+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:11:39.722+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:11:39.726+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=8, username=test_ceo4, pass (truncated)...]
2025-12-18T16:11:39.727+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=8, username=test_ceo4, pass (truncated)...]
2025-12-18T16:11:39.728+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:39.739+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:39.751+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:39.754+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:42.431+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/8
2025-12-18T16:11:42.431+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/8/applications
2025-12-18T16:11:42.439+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/8
2025-12-18T16:11:42.439+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/8/applications
2025-12-18T16:11:42.444+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/company/8
2025-12-18T16:11:42.452+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/8
2025-12-18T16:11:42.452+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/companies/8/applications
2025-12-18T16:11:42.453+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/8", parameters={}
2025-12-18T16:11:42.454+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/8/applications
2025-12-18T16:11:42.455+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-18T16:11:42.456+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/8/applications", parameters={}
2025-12-18T16:11:42.456+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:11:42.457+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-18T16:11:42.459+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:11:42.460+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:11:42.460+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:42.461+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:11:42.461+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab5c465] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:42.461+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:42.462+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fef965c] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:42.465+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1347268373 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:11:42.465+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1696070956 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:11:42.465+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:11:42.466+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:11:42.472+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:11:42.472+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:11:42.477+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:11:42.477+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:11:42.479+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fef965c]
2025-12-18T16:11:42.479+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab5c465]
2025-12-18T16:11:42.480+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:42.481+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:42.481+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335b50c2] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:42.482+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@612d5358] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:42.482+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@301968789 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:11:42.482+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@613453335 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:11:42.483+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-18T16:11:42.486+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-18T16:11:42.488+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 8(Long)
2025-12-18T16:11:42.490+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 8(Long)
2025-12-18T16:11:42.494+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-18T16:11:42.495+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 1
2025-12-18T16:11:42.495+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335b50c2]
2025-12-18T16:11:42.495+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@612d5358]
2025-12-18T16:11:42.496+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:42.497+09:00  INFO 55112 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 8, count: 1
2025-12-18T16:11:42.500+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:42.499+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:11:42.503+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=8, username=test_ceo4, pass (truncated)...]
2025-12-18T16:11:42.505+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:42.510+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:44.604+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:11:44.607+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=8
2025-12-18T16:11:44.608+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:11:44.612+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:11:44.613+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:11:44.613+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:11:44.613+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:11:44.621+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=8
2025-12-18T16:11:44.623+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/expenses
2025-12-18T16:11:44.623+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:11:44.627+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/pending
2025-12-18T16:11:44.628+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/expenses/pending-approvals
2025-12-18T16:11:44.641+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:11:44.643+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:11:44.644+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:11:44.645+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:11:44.648+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=8", parameters={masked}
2025-12-18T16:11:44.648+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:11:44.647+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:11:44.646+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:11:44.647+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:11:44.653+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/expenses
2025-12-18T16:11:44.654+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:44.655+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:11:44.657+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:11:44.659+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:11:44.661+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/expenses/pending-approvals
2025-12-18T16:11:44.662+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:11:44.673+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=8
2025-12-18T16:11:44.664+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4097f173] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:44.665+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:11:44.669+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:44.672+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/pending
2025-12-18T16:11:44.673+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:11:44.674+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=8", parameters={masked}
2025-12-18T16:11:44.675+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:11:44.675+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36ef535e] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:44.677+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:11:44.684+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:11:44.679+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:11:44.680+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1283414502 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:11:44.681+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:11:44.681+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:44.691+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6218fa8f] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:44.688+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:11:44.689+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:44.691+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:11:44.700+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 8(Long), 9(Long)
2025-12-18T16:11:44.691+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:44.713+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dbc1fb8] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:44.695+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:11:44.698+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@557735093 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:11:44.698+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7560c437] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:44.721+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:11:44.727+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:11:44.729+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:44.730+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 9(Long)
2025-12-18T16:11:44.731+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@784ccdf6] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:44.741+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:11:44.742+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464104136 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:11:44.744+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924441734 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:11:44.745+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:11:44.746+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4097f173]
2025-12-18T16:11:44.746+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:11:44.747+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:11:44.748+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:44.750+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6218fa8f]
2025-12-18T16:11:44.752+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1898896870 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:11:44.754+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 8(Long), 9(Long)
2025-12-18T16:11:44.755+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 9(Long)
2025-12-18T16:11:44.756+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:11:44.757+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:44.758+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@592656113 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:11:44.758+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:11:44.762+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:11:44.762+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:44.764+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dbc1fb8]
2025-12-18T16:11:44.762+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:11:44.763+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:11:44.763+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:11:44.764+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 9(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:11:44.772+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@784ccdf6]
2025-12-18T16:11:44.772+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:44.774+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:44.775+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 9(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:11:44.777+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:44.778+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:11:44.779+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:11:44.782+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:11:44.785+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:44.789+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7560c437]
2025-12-18T16:11:44.789+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:11:44.792+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:44.793+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:44.793+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36ef535e]
2025-12-18T16:11:44.795+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57074833] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:44.796+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:44.797+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@855202237 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:11:44.798+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@440c8587] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:44.798+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:11:44.800+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1046270827 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:11:44.803+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 9(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:11:44.804+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:11:44.806+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 9(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:11:44.807+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:11:44.808+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57074833]
2025-12-18T16:11:44.808+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:11:44.810+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:44.810+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@440c8587]
2025-12-18T16:11:44.813+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:44.816+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:11:44.816+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:11:44.826+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:44.827+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:45.388+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:11:45.388+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:11:45.388+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:11:45.389+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:11:45.397+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:11:45.397+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:11:45.409+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/me
2025-12-18T16:11:45.413+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:11:45.414+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:11:45.398+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:11:45.398+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:11:45.411+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/companies/pending
2025-12-18T16:11:45.414+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:11:45.425+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/me
2025-12-18T16:11:45.425+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/companies
2025-12-18T16:11:45.426+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:11:45.435+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:11:45.437+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:11:45.427+09:00  INFO 55112 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 8, companyId: 9
2025-12-18T16:11:45.439+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:45.430+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:11:45.432+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:11:45.439+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:45.440+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23a083a0] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:45.440+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:11:45.441+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:11:45.441+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1337f49c] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:45.442+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:11:45.442+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:11:45.444+09:00  INFO 55112 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 8, companyId: 9
2025-12-18T16:11:45.446+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@588979739 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:11:45.447+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:11:45.446+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:45.446+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:45.448+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@192383896 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:11:45.449+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 8(Long), PENDING(String)
2025-12-18T16:11:45.449+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fba6c6b] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:45.449+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@519c56ea] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:45.449+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:11:45.456+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:11:45.459+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@622233847 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:11:45.459+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1468563838 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:11:45.460+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:11:45.460+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:11:45.461+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:11:45.461+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23a083a0]
2025-12-18T16:11:45.461+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:11:45.461+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:11:45.462+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:11:45.463+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:45.463+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1337f49c]
2025-12-18T16:11:45.464+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:11:45.464+09:00  INFO 55112 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 8, companyId: 9
2025-12-18T16:11:45.467+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:45.471+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:45.471+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=8, username=test_ceo4, passwo (truncated)...]
2025-12-18T16:11:45.473+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:11:45.474+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:45.475+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:11:45.476+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@519c56ea]
2025-12-18T16:11:45.477+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fba6c6b]
2025-12-18T16:11:45.478+09:00  INFO 55112 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 8, companyId: 9
2025-12-18T16:11:45.479+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:45.479+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:45.480+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=17, userId=8, companyId= (truncated)...]
2025-12-18T16:11:45.483+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=8, username=test_ceo4, passwo (truncated)...]
2025-12-18T16:11:45.488+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:45.490+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:52.207+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:11:52.208+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:11:52.208+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:11:52.209+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:11:52.209+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:11:52.225+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:11:52.226+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:11:52.227+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:11:52.228+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:11:52.231+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:11:52.239+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/companies
2025-12-18T16:11:52.244+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/me
2025-12-18T16:11:52.244+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/companies/pending
2025-12-18T16:11:52.247+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/users/me
2025-12-18T16:11:52.247+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/companies
2025-12-18T16:11:52.248+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:11:52.248+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:11:52.250+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:11:52.252+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:11:52.252+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:11:52.254+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:11:52.254+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:11:52.255+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:11:52.256+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:11:52.275+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:11:52.276+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:11:52.276+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:11:52.276+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:11:52.277+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:11:52.287+09:00  INFO 55112 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 8, companyId: 9
2025-12-18T16:11:52.288+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:52.277+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:11:52.278+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:52.279+09:00  INFO 55112 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 8, companyId: 9
2025-12-18T16:11:52.281+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:52.291+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a983c72] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:52.291+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:52.292+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2060829c] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:52.293+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:11:52.294+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb0f962] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:52.297+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e4cfc19] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:52.308+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6424c159] was not registered for synchronization because synchronization is not active
2025-12-18T16:11:52.310+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@903936730 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:11:52.311+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1117227382 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:11:52.313+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:11:52.314+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@300208770 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:11:52.314+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1284296198 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:11:52.315+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:11:52.319+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 8(Long)
2025-12-18T16:11:52.320+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:11:52.321+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:11:52.321+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:11:52.329+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 8(Long)
2025-12-18T16:11:52.325+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 8(Long), PENDING(String)
2025-12-18T16:11:52.326+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122764022 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:11:52.330+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:11:52.331+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 8(Long)
2025-12-18T16:11:52.345+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:11:52.345+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:11:52.346+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:11:52.346+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:11:52.347+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:11:52.347+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb0f962]
2025-12-18T16:11:52.347+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2060829c]
2025-12-18T16:11:52.348+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a983c72]
2025-12-18T16:11:52.350+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e4cfc19]
2025-12-18T16:11:52.352+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6424c159]
2025-12-18T16:11:52.360+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:52.353+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:52.363+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:11:52.354+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:52.355+09:00  INFO 55112 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 8, companyId: 9
2025-12-18T16:11:52.360+09:00  INFO 55112 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 8, companyId: 9
2025-12-18T16:11:52.365+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:52.367+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=9, companyCode=SZ7CTQ, companyNa (truncated)...]
2025-12-18T16:11:52.370+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=17, userId=8, companyId= (truncated)...]
2025-12-18T16:11:52.375+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:52.382+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=8, username=test_ceo4, passwo (truncated)...]
2025-12-18T16:11:52.376+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:52.379+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:52.380+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:52.386+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:52.387+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=8, username=test_ceo4, passwo (truncated)...]
2025-12-18T16:11:52.391+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:11:57.274+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-18T16:11:57.285+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-18T16:11:57.297+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 8, role: CEO, companyId: 9, uri: /api/logout
2025-12-18T16:11:57.304+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-18T16:11:57.314+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-18T16:11:57.321+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-18T16:11:57.354+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI4IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-18T16:11:57.361+09:00  INFO 55112 --- [http-nio-8080-exec-5] SECURITY                                 : LOGOUT userId=8
2025-12-18T16:11:57.363+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:11:57.369+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-18T16:11:57.371+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:01.265+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-18T16:12:01.268+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T16:12:01.269+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T16:12:01.269+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T16:12:01.270+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T16:12:01.271+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T16:12:01.273+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo2, password=1234)]
2025-12-18T16:12:01.273+09:00  INFO 55112 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo2
2025-12-18T16:12:01.274+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:01.274+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3540c231] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:01.278+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2041948960 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:01.279+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T16:12:01.280+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo2(String)
2025-12-18T16:12:01.290+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T16:12:01.291+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3540c231]
2025-12-18T16:12:01.409+09:00  INFO 55112 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 6, role: CEO, companyId: 2
2025-12-18T16:12:01.410+09:00  INFO 55112 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=6 username=test_ceo2 role=CEO
2025-12-18T16:12:01.411+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:01.411+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=6, username=test_ceo2, password= (truncated)...]
2025-12-18T16:12:01.413+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:01.428+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:12:01.435+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:12:01.441+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:12:01.443+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies
2025-12-18T16:12:01.446+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:12:01.447+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:12:01.447+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:12:01.450+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:12:01.455+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:01.456+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f5b4d0b] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:01.457+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/companies
2025-12-18T16:12:01.460+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605033849 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:01.461+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:12:01.463+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:12:01.463+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:12:01.465+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:12:01.465+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:12:01.470+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:01.473+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1713ce2b] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:01.477+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:12:01.478+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f5b4d0b]
2025-12-18T16:12:01.479+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:01.480+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=8, userId=6, companyId=2 (truncated)...]
2025-12-18T16:12:01.486+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:01.506+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1138114491 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:12:01.508+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:12:01.510+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2025-12-18T16:12:01.515+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:12:01.520+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1713ce2b]
2025-12-18T16:12:01.522+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:01.523+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=OKXRBW, companyNa (truncated)...]
2025-12-18T16:12:01.525+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:01.929+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:12:01.934+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:12:01.937+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:01.938+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:12:01.938+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:12:01.938+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:01.959+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:12:01.959+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:12:01.961+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:01.962+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:12:01.973+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses
2025-12-18T16:12:01.974+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/pending
2025-12-18T16:12:01.978+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses
2025-12-18T16:12:01.978+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-18T16:12:01.980+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:01.978+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:12:01.978+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:12:01.980+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:12:01.980+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=6", parameters={masked}
2025-12-18T16:12:01.982+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:12:01.985+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:01.985+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:12:01.989+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:12:01.985+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:12:01.986+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:12:01.986+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:12:01.991+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-18T16:12:01.992+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/pending
2025-12-18T16:12:01.994+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:01.994+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:12:01.995+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:12:01.996+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:01.996+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:01.997+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:12:01.997+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403a90a5] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:01.998+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:01.999+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.002+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22457b4d] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.003+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=6", parameters={masked}
2025-12-18T16:12:02.004+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:12:02.005+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:02.009+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.005+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af155ef] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.007+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@122902811 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:12:02.007+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:12:02.008+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:12:02.010+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1173460609 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:02.010+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dcfcd19] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.011+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:12:02.011+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.012+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:02.012+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:02.014+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074953934 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:02.015+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@538a686] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.015+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 2(Long)
2025-12-18T16:12:02.016+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1789472214 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:02.018+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:02.020+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:02.021+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:02.023+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:12:02.026+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:02.025+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.026+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-18T16:12:02.027+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ebcad9] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.029+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@575550628 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:02.031+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:12:02.029+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:12:02.030+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:12:02.030+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:02.030+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:02.037+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 2(Long)
2025-12-18T16:12:02.037+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1095708512 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:02.041+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:12:02.039+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22457b4d]
2025-12-18T16:12:02.040+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dcfcd19]
2025-12-18T16:12:02.041+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af155ef]
2025-12-18T16:12:02.041+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403a90a5]
2025-12-18T16:12:02.042+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-18T16:12:02.043+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:02.043+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:02.046+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:12:02.044+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.044+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.045+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:12:02.046+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:12:02.047+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:02.053+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a1f111] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.053+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4474ac26] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.054+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:02.057+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@538a686]
2025-12-18T16:12:02.059+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:12:02.059+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@454431429 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:02.060+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@495589005 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:02.061+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:02.062+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ebcad9]
2025-12-18T16:12:02.064+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:02.069+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:02.071+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:12:02.072+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:02.072+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:02.072+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:02.073+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:12:02.073+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:02.076+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:02.080+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:02.083+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a1f111]
2025-12-18T16:12:02.081+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:02.088+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4474ac26]
2025-12-18T16:12:02.089+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.089+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.089+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fb07a18] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.090+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@797db3a2] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.091+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1442477765 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:02.091+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@938743568 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:02.091+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:02.091+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:02.092+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:02.092+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:02.095+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:02.096+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:02.096+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@797db3a2]
2025-12-18T16:12:02.096+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fb07a18]
2025-12-18T16:12:02.098+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.098+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.098+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4845b300] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.098+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a0ad6c] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.099+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1595830671 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:02.101+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1030362434 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:02.103+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:02.103+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:02.104+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:02.105+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:02.107+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:02.107+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:02.108+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a0ad6c]
2025-12-18T16:12:02.109+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4845b300]
2025-12-18T16:12:02.111+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.111+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.111+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@799a095f] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.111+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f514d15] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.112+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1429153226 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:02.112+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@979970124 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:02.112+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:02.112+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:02.113+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:02.113+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:02.120+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:02.121+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:02.122+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@799a095f]
2025-12-18T16:12:02.122+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f514d15]
2025-12-18T16:12:02.123+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.123+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.123+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7464c434] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.124+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@154f54df] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.124+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1562245910 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:02.124+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084459654 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:02.125+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:02.125+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:02.125+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:02.125+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:02.128+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:02.128+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:02.129+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7464c434]
2025-12-18T16:12:02.129+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@154f54df]
2025-12-18T16:12:02.129+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.130+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:02.130+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@469c9b73] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.131+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a398e2] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:02.131+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@336311024 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:02.132+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1998970501 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:02.132+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:02.132+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:02.137+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:02.137+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:02.140+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:02.140+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:02.140+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a398e2]
2025-12-18T16:12:02.141+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@469c9b73]
2025-12-18T16:12:02.142+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:02.142+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:02.154+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T16:12:02.154+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T16:12:02.164+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:02.164+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:03.563+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:12:03.563+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:12:03.564+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:12:03.565+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:12:03.576+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:12:03.578+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:12:03.579+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:12:03.579+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:12:03.586+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:12:03.596+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:12:03.591+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies
2025-12-18T16:12:03.595+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:12:03.596+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies/pending
2025-12-18T16:12:03.597+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:12:03.598+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:12:03.602+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:12:03.603+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:12:03.602+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:12:03.604+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:12:03.605+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:12:03.603+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:12:03.603+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:12:03.604+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:12:03.605+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:03.605+09:00  INFO 55112 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:12:03.606+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:12:03.607+09:00  INFO 55112 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:12:03.610+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@428ae9cb] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:03.611+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:03.614+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0b5f26] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:03.612+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:03.613+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:03.621+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@da89afc] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:03.622+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f166ab2] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:03.624+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2116916282 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:03.624+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@527144288 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:03.624+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:12:03.625+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:03.628+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long), PENDING(String)
2025-12-18T16:12:03.626+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@423103754 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:12:03.629+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:12:03.627+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@768837952 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:03.630+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:12:03.628+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:03.631+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:12:03.630+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:03.635+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@428ae9cb]
2025-12-18T16:12:03.639+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:03.640+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:03.642+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:12:03.643+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:03.645+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:03.647+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:12:03.655+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0b5f26]
2025-12-18T16:12:03.655+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@da89afc]
2025-12-18T16:12:03.655+09:00  INFO 55112 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:12:03.657+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:03.657+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:03.657+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=8, userId=6, companyId=2 (truncated)...]
2025-12-18T16:12:03.658+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:12:03.659+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:03.662+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:03.662+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:03.665+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f166ab2]
2025-12-18T16:12:03.670+09:00  INFO 55112 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:12:03.672+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:03.672+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:12:03.674+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:08.002+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:12:08.002+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:08.004+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:12:08.006+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:12:08.007+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:08.008+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:12:08.017+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:12:08.019+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:08.038+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses
2025-12-18T16:12:08.022+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:12:08.024+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:12:08.025+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:08.039+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:12:08.044+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:12:08.039+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-18T16:12:08.040+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:12:08.043+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/pending
2025-12-18T16:12:08.043+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses
2025-12-18T16:12:08.047+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-18T16:12:08.048+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:12:08.048+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:08.057+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.054+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/pending
2025-12-18T16:12:08.055+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:12:08.055+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:12:08.055+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:08.057+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=6", parameters={masked}
2025-12-18T16:12:08.058+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@206f38a8] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.058+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:12:08.058+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:12:08.059+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:12:08.060+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=6", parameters={masked}
2025-12-18T16:12:08.060+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:12:08.061+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:12:08.062+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:12:08.068+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:08.063+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:12:08.063+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:12:08.064+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.065+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:12:08.069+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2015849010 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:08.075+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:08.070+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:08.076+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.077+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69379aad] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.071+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.073+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.079+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ec60ac1] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.074+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12fa3100] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.075+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:08.076+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:08.078+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c1a6447] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.081+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:08.082+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.088+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a0fba55] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.089+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1057065841 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:12:08.089+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1181321372 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:08.095+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:12:08.090+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1748768043 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:08.091+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93704025 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:08.093+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:08.095+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:12:08.097+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 2(Long)
2025-12-18T16:12:08.097+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:12:08.097+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:08.097+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@206f38a8]
2025-12-18T16:12:08.098+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 2(Long)
2025-12-18T16:12:08.098+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1683708344 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:08.103+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-18T16:12:08.104+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:08.104+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.104+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:12:08.105+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:12:08.109+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22588d8] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.109+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ec60ac1]
2025-12-18T16:12:08.110+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:12:08.110+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:12:08.111+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-18T16:12:08.111+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:08.111+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@380499935 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:08.112+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12fa3100]
2025-12-18T16:12:08.112+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:08.113+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:08.112+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69379aad]
2025-12-18T16:12:08.112+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c1a6447]
2025-12-18T16:12:08.113+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:08.114+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:12:08.114+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:12:08.119+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a0fba55]
2025-12-18T16:12:08.114+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:12:08.115+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:08.116+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.116+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:08.119+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:08.121+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:08.123+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:08.124+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:12:08.124+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c642d08] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.126+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:12:08.130+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:08.131+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1745213953 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:08.134+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:08.137+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:08.142+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:08.143+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22588d8]
2025-12-18T16:12:08.146+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:08.147+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.148+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11f173ba] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.149+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@359469787 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:08.154+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:08.155+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:08.155+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:08.156+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c642d08]
2025-12-18T16:12:08.156+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.157+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ad0d0c3] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.157+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1737598204 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:08.158+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:08.158+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:08.159+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:08.160+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11f173ba]
2025-12-18T16:12:08.160+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.161+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@178ee85b] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.161+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@225977779 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:08.162+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:08.162+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:08.162+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ad0d0c3]
2025-12-18T16:12:08.163+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.162+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:08.163+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf3d765] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.164+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1200182288 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:08.164+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:08.165+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:08.170+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:08.172+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@178ee85b]
2025-12-18T16:12:08.175+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.176+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cafcab6] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.176+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:08.176+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@281836453 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:08.177+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf3d765]
2025-12-18T16:12:08.177+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:08.177+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.178+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6184c480] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.178+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:08.178+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1629690271 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:08.179+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:08.180+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:08.181+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:08.183+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cafcab6]
2025-12-18T16:12:08.186+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.187+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2210af0c] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.187+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:08.188+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1465548119 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:08.188+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6184c480]
2025-12-18T16:12:08.188+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:08.189+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.191+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:08.191+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a363e7] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.192+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1044650135 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:08.192+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:08.193+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:08.193+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:08.194+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2210af0c]
2025-12-18T16:12:08.194+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.195+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42633f96] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.195+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1705803801 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:08.195+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:08.195+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:08.196+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a363e7]
2025-12-18T16:12:08.196+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:08.196+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:08.196+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d05e42] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:08.197+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1938729924 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:08.203+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:08.204+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:08.205+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:08.209+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42633f96]
2025-12-18T16:12:08.212+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:08.213+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T16:12:08.213+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:08.219+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:08.219+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d05e42]
2025-12-18T16:12:08.226+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:08.226+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T16:12:08.227+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:09.808+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:12:09.808+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:12:09.813+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:12:09.813+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:12:09.824+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies
2025-12-18T16:12:09.825+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies
2025-12-18T16:12:09.826+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:12:09.826+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:12:09.827+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:12:09.827+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:09.827+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d4071f1] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:09.826+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:12:09.830+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:12:09.831+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:12:09.831+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:09.832+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c24137a] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:09.843+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@756213557 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:09.844+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:12:09.843+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1072310781 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:09.845+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:12:09.845+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:12:09.846+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:12:09.858+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:12:09.859+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c24137a]
2025-12-18T16:12:09.860+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:09.860+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=8, userId=6, companyId=2 (truncated)...]
2025-12-18T16:12:09.861+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:12:09.861+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d4071f1]
2025-12-18T16:12:09.861+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:09.862+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:09.863+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=8, userId=6, companyId=2 (truncated)...]
2025-12-18T16:12:09.864+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:09.873+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-18T16:12:09.874+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-18T16:12:09.877+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-18T16:12:09.877+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-18T16:12:09.879+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/company/2
2025-12-18T16:12:09.881+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-18T16:12:09.881+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/companies/2/applications
2025-12-18T16:12:09.882+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-18T16:12:09.884+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-18T16:12:09.886+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-18T16:12:09.887+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-18T16:12:09.889+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-18T16:12:09.889+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:09.890+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:12:09.890+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:09.891+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:12:09.891+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:09.892+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:09.892+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757278a6] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:09.892+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a633b7] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:09.892+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@86307494 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:09.893+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:12:09.894+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2025-12-18T16:12:09.895+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/2/applications
2025-12-18T16:12:09.897+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/2
2025-12-18T16:12:09.914+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517874893 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:09.914+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:12:09.914+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:12:09.914+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757278a6]
2025-12-18T16:12:09.915+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:09.915+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c2ee80f] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:09.915+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2025-12-18T16:12:09.915+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@452925540 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:09.916+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-18T16:12:09.919+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-18T16:12:09.921+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/2
2025-12-18T16:12:09.924+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/company/2
2025-12-18T16:12:09.924+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/2/applications
2025-12-18T16:12:09.926+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/2
2025-12-18T16:12:09.926+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/2", parameters={}
2025-12-18T16:12:09.928+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/companies/2/applications
2025-12-18T16:12:09.929+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-18T16:12:09.930+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/2/applications
2025-12-18T16:12:09.930+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:09.931+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/2/applications", parameters={}
2025-12-18T16:12:09.932+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:09.934+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-18T16:12:09.935+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:09.936+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa122f1] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:09.936+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:12:09.938+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:12:09.940+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:09.940+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587218aa] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:09.941+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@581788460 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:09.943+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:12:09.944+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2025-12-18T16:12:09.947+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1171058939 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:09.947+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:12:09.947+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:12:09.947+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:12:09.947+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-18T16:12:09.948+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2025-12-18T16:12:09.948+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a633b7]
2025-12-18T16:12:09.951+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587218aa]
2025-12-18T16:12:09.953+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:09.953+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d18a435] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:09.953+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@359092340 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:09.954+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-18T16:12:09.954+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-18T16:12:09.952+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c2ee80f]
2025-12-18T16:12:09.952+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:09.955+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f66452] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:09.955+09:00  INFO 55112 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 2
2025-12-18T16:12:09.956+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1276109903 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:09.957+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-18T16:12:09.956+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:09.958+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 2(Long)
2025-12-18T16:12:09.959+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=3, username=test_user, pass (truncated)...]
2025-12-18T16:12:09.960+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:09.964+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-18T16:12:09.966+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:12:09.968+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa122f1]
2025-12-18T16:12:09.964+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-18T16:12:09.966+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d18a435]
2025-12-18T16:12:09.969+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:09.969+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f66452]
2025-12-18T16:12:09.974+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:09.974+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66215cdf] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:09.976+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:09.977+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:12:09.976+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:12:09.977+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1082414528 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:09.979+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-18T16:12:09.978+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:09.978+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:09.981+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 2(Long)
2025-12-18T16:12:10.043+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-18T16:12:10.053+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66215cdf]
2025-12-18T16:12:10.053+09:00  INFO 55112 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 2, count: 2
2025-12-18T16:12:10.054+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:10.054+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=3, username=test_user, pass (truncated)...]
2025-12-18T16:12:10.055+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:11.340+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:12:11.342+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:12:11.340+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:12:11.340+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:11.340+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:12:11.340+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:11.360+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:11.362+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:12:11.364+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-18T16:12:11.365+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:11.353+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:12:11.353+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:12:11.359+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:12:11.371+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses
2025-12-18T16:12:11.379+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:12:11.373+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=6", parameters={masked}
2025-12-18T16:12:11.376+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/pending
2025-12-18T16:12:11.376+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/pending
2025-12-18T16:12:11.378+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:11.382+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:12:11.388+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses
2025-12-18T16:12:11.391+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:12:11.391+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:12:11.392+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:12:11.393+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:12:11.394+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-18T16:12:11.396+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:12:11.396+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.396+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:12:11.397+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:12:11.397+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=6
2025-12-18T16:12:11.398+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:12:11.398+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.398+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4639bba9] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.398+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:12:11.398+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:12:11.399+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=6", parameters={masked}
2025-12-18T16:12:11.401+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:12:11.402+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@122a805] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.403+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:11.405+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:11.406+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1462569793 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:12:11.410+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:11.406+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:12:11.410+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.408+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.409+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:12:11.409+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@870890492 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:11.410+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:12:11.410+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64556f94] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.411+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.426+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffb7f3d] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.412+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd9da0c] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.413+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.421+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:11.422+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 2(Long)
2025-12-18T16:12:11.429+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1df0ebd4] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.430+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:11.444+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@507157890 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:11.445+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@233739323 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:11.445+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@588387764 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:11.454+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:12:11.455+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:12:11.456+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:11.458+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:11.457+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 2(Long)
2025-12-18T16:12:11.457+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1992580437 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:11.457+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-18T16:12:11.458+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:12:11.458+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:11.459+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@122a805]
2025-12-18T16:12:11.460+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-18T16:12:11.461+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4639bba9]
2025-12-18T16:12:11.464+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:11.463+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.464+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 2(Long)
2025-12-18T16:12:11.464+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:12:11.464+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:12:11.464+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:11.465+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd9da0c]
2025-12-18T16:12:11.465+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a5b28c] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.469+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffb7f3d]
2025-12-18T16:12:11.470+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64556f94]
2025-12-18T16:12:11.471+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:12:11.474+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.474+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-18T16:12:11.475+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1071995624 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:11.475+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:11.476+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:11.476+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:11.476+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548ec858] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.477+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1df0ebd4]
2025-12-18T16:12:11.478+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:11.479+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:12:11.480+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:12:11.480+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1229640907 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:11.482+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:11.486+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:11.491+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:11.491+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:11.495+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:11.496+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:12:11.499+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:11.501+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:11.511+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:11.512+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:11.513+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a5b28c]
2025-12-18T16:12:11.514+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548ec858]
2025-12-18T16:12:11.515+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.523+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e6d4361] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.515+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.524+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1778952178 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:11.524+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5868a904] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.524+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:11.525+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2055632473 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:11.526+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:11.527+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:11.529+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:11.530+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:11.531+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e6d4361]
2025-12-18T16:12:11.531+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:11.531+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.532+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5868a904]
2025-12-18T16:12:11.532+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ee0dbe] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.537+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.537+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1137451625 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:11.537+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2940a3cc] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.539+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:11.540+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@889003881 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:11.540+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:11.540+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:12:11.541+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-18T16:12:11.543+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:11.544+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ee0dbe]
2025-12-18T16:12:11.544+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.544+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-18T16:12:11.545+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fea1084] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.546+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2940a3cc]
2025-12-18T16:12:11.546+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@143549242 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:11.546+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.547+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:11.547+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3072ca86] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.557+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:11.560+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@478167431 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:11.563+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:11.571+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:11.573+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:11.575+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fea1084]
2025-12-18T16:12:11.576+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.576+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67bc5231] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.577+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:11.577+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1491927154 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:11.580+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3072ca86]
2025-12-18T16:12:11.581+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:11.581+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.585+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:11.585+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@393b8828] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.592+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@523981683 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:11.592+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-18T16:12:11.592+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:11.592+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 2(Long), 2(Long)
2025-12-18T16:12:11.593+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67bc5231]
2025-12-18T16:12:11.594+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.594+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ff7639] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.595+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@307725101 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:12:11.595+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:11.597+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:11.605+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-18T16:12:11.608+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:11.608+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@393b8828]
2025-12-18T16:12:11.608+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ff7639]
2025-12-18T16:12:11.610+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:11.611+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:11.612+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@117a3d2d] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:11.613+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T16:12:11.614+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1961201122 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:12:11.615+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:11.626+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:11.629+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:11.643+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:11.644+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@117a3d2d]
2025-12-18T16:12:11.645+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:11.645+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-18T16:12:11.647+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:12.229+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:12:12.229+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:12:12.230+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:12:12.230+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:12:12.241+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:12:12.242+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:12:12.241+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:12:12.243+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:12:12.245+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:12:12.253+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:12:12.257+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies
2025-12-18T16:12:12.260+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:12:12.260+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies/pending
2025-12-18T16:12:12.261+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:12:12.262+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:12:12.263+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:12:12.263+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:12:12.263+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:12:12.264+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:12:12.264+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:12:12.264+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:12:12.265+09:00  INFO 55112 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:12:12.264+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:12:12.265+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:12:12.265+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:12:12.265+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:12.270+09:00  INFO 55112 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:12:12.272+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:12.271+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:12.271+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:12:12.271+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19fdc7c1] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:12.273+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5433a85b] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:12.273+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec9edc3] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:12.274+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30bc2c16] was not registered for synchronization because synchronization is not active
2025-12-18T16:12:12.279+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@343322065 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:12:12.281+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:12.279+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@201068756 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:12:12.280+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1744185074 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:12:12.285+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:12:12.283+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:12.285+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1604496109 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:12:12.285+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:12:12.291+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:12:12.287+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:12:12.291+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:12:12.293+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long), PENDING(String)
2025-12-18T16:12:12.295+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:12.297+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5433a85b]
2025-12-18T16:12:12.298+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:12:12.309+09:00  INFO 55112 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:12:12.302+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:12:12.310+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:12.309+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:12:12.309+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19fdc7c1]
2025-12-18T16:12:12.310+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec9edc3]
2025-12-18T16:12:12.310+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:12:12.311+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:12.310+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30bc2c16]
2025-12-18T16:12:12.310+09:00  INFO 55112 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:12:12.312+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:12.312+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=8, userId=6, companyId=2 (truncated)...]
2025-12-18T16:12:12.312+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:12.316+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:12:12.314+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:12:12.318+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:12.322+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:12:12.322+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:12:12.327+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:07.994+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:13:07.995+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:13:07.999+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:13:08.044+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:13:08.049+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:13:08.056+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:13:08.058+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:13:08.061+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies
2025-12-18T16:13:08.075+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies/pending
2025-12-18T16:13:08.103+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:13:08.106+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:13:08.113+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:13:08.123+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:13:08.139+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:13:08.140+09:00  INFO 55112 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:13:08.140+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:08.141+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf03d3c] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:08.128+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:13:08.139+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:13:08.142+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:13:08.144+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:08.143+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:13:08.145+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750f7144] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:08.146+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:08.147+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2818c8e1] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:08.156+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2070704175 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:13:08.156+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1853901905 wrapping com.mysql.cj.jdbc.ConnectionImpl@54bbbfd8] will not be managed by Spring
2025-12-18T16:13:08.157+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1928406977 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:13:08.158+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:13:08.158+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:13:08.159+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:13:08.160+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:13:08.161+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:13:08.162+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long), PENDING(String)
2025-12-18T16:13:08.176+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:13:08.177+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:13:08.177+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:13:08.179+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2818c8e1]
2025-12-18T16:13:08.179+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf03d3c]
2025-12-18T16:13:08.180+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750f7144]
2025-12-18T16:13:08.180+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:08.181+09:00  INFO 55112 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:13:08.185+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:08.185+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:13:08.187+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:08.188+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=8, userId=6, companyId=2 (truncated)...]
2025-12-18T16:13:08.189+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:08.192+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:13:08.194+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:08.197+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:11.985+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:13:11.986+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:13:11.987+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:13:12.053+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:13:12.053+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:13:12.058+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:13:12.067+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies/pending
2025-12-18T16:13:12.069+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:13:12.077+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies
2025-12-18T16:13:12.080+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:13:12.089+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:13:12.091+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:13:12.092+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:13:12.095+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:13:12.096+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:13:12.100+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:13:12.103+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:13:12.104+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:13:12.106+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:12.110+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d4e8969] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:12.106+09:00  INFO 55112 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:13:12.108+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:12.141+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ad90712] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:12.141+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:12.142+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c629e06] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:12.203+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1699692644 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:13:12.203+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@378874456 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:13:12.221+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:13:12.234+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:13:12.236+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long), PENDING(String)
2025-12-18T16:13:12.237+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:13:12.239+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@502008501 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:13:12.252+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:13:12.259+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:13:12.264+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:13:12.268+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:13:12.291+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d4e8969]
2025-12-18T16:13:12.292+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ad90712]
2025-12-18T16:13:12.293+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:12.294+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:12.296+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:13:12.298+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=8, userId=6, companyId=2 (truncated)...]
2025-12-18T16:13:12.312+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:13:12.317+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:12.323+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:12.325+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c629e06]
2025-12-18T16:13:12.330+09:00  INFO 55112 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:13:12.346+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:12.361+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:13:12.378+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:57.752+09:00 DEBUG 55112 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:13:57.755+09:00 DEBUG 55112 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:13:57.757+09:00 DEBUG 55112 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:13:57.759+09:00 DEBUG 55112 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:13:57.759+09:00 DEBUG 55112 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:13:57.769+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:13:57.770+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:13:57.770+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:13:57.772+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:13:57.783+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies/pending
2025-12-18T16:13:57.785+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:13:57.776+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:13:57.781+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies
2025-12-18T16:13:57.785+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:13:57.788+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:13:57.786+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:13:57.786+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:13:57.787+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:13:57.790+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:13:57.791+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:13:57.800+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:13:57.794+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:13:57.803+09:00  INFO 55112 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:13:57.804+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:57.804+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31e28c6a] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:57.794+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:13:57.795+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:13:57.799+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:57.805+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/companies
2025-12-18T16:13:57.807+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:13:57.807+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:13:57.808+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e710e7d] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:57.808+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:13:57.809+09:00  INFO 55112 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:13:57.810+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:57.811+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@13443835 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a1c3ea0] will not be managed by Spring
2025-12-18T16:13:57.813+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:13:57.811+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:13:57.817+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:13:57.812+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:57.812+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab77419] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:57.816+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610436631 wrapping com.mysql.cj.jdbc.ConnectionImpl@b4e3c99] will not be managed by Spring
2025-12-18T16:13:57.818+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:13:57.818+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a330c0c] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:57.821+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:13:57.823+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:13:57.824+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long), PENDING(String)
2025-12-18T16:13:57.821+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:13:57.824+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31e28c6a]
2025-12-18T16:13:57.824+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1411752109 wrapping com.mysql.cj.jdbc.ConnectionImpl@2264c972] will not be managed by Spring
2025-12-18T16:13:57.824+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@305115865 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c528d4] will not be managed by Spring
2025-12-18T16:13:57.824+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528c9c4c] was not registered for synchronization because synchronization is not active
2025-12-18T16:13:57.825+09:00  INFO 55112 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:13:57.825+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:13:57.825+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:13:57.828+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:13:57.826+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:13:57.826+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:57.828+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2047189959 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fdfa399] will not be managed by Spring
2025-12-18T16:13:57.828+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:13:57.828+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e710e7d]
2025-12-18T16:13:57.833+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:13:57.834+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:13:57.834+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:57.835+09:00 DEBUG 55112 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:57.837+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2025-12-18T16:13:57.837+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:13:57.840+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:13:57.854+09:00 DEBUG 55112 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:57.854+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab77419]
2025-12-18T16:13:57.857+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:57.858+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:13:57.867+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=8, userId=6, companyId=2 (truncated)...]
2025-12-18T16:13:57.868+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a330c0c]
2025-12-18T16:13:57.871+09:00 DEBUG 55112 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:57.872+09:00  INFO 55112 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:13:57.875+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:13:57.890+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:57.907+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528c9c4c]
2025-12-18T16:13:57.908+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:13:57.909+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:13:57.910+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=OKXRBW, companyNa (truncated)...]
2025-12-18T16:13:57.910+09:00 DEBUG 55112 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:13:57.912+09:00 DEBUG 55112 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:08.105+09:00  INFO 46516 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 46516 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-18T16:14:08.108+09:00 DEBUG 46516 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-18T16:14:08.109+09:00  INFO 46516 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-18T16:14:09.870+09:00 DEBUG 46516 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-18T16:14:09.876+09:00 DEBUG 46516 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-18T16:14:10.333+09:00 DEBUG 46516 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-18T16:14:10.335+09:00 DEBUG 46516 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-18T16:14:10.337+09:00 DEBUG 46516 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-18T16:14:10.338+09:00 DEBUG 46516 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-18T16:14:10.344+09:00 DEBUG 46516 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-18T16:14:10.355+09:00 DEBUG 46516 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-18T16:14:10.359+09:00 DEBUG 46516 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-18T16:14:10.361+09:00 DEBUG 46516 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-18T16:14:11.248+09:00  INFO 46516 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-18T16:14:11.332+09:00  INFO 46516 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-18T16:14:11.354+09:00  INFO 46516 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-18T16:14:11.521+09:00  INFO 46516 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-18T16:14:11.523+09:00  INFO 46516 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3339 ms
2025-12-18T16:14:11.638+09:00 DEBUG 46516 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-18T16:14:11.645+09:00 DEBUG 46516 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-18T16:14:12.244+09:00 DEBUG 46516 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-18T16:14:12.321+09:00 DEBUG 46516 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-18T16:14:12.337+09:00 DEBUG 46516 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-18T16:14:12.397+09:00 DEBUG 46516 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-18T16:14:13.073+09:00 DEBUG 46516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 68 mappings in 'requestMappingHandlerMapping'
2025-12-18T16:14:13.259+09:00 DEBUG 46516 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-18T16:14:13.308+09:00  WARN 46516 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: d91f281b-b3e9-486e-82b4-c28cfc453806

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-18T16:14:13.353+09:00  INFO 46516 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-18T16:14:13.561+09:00 DEBUG 46516 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-18T16:14:13.765+09:00 DEBUG 46516 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-18T16:14:13.856+09:00 DEBUG 46516 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-18T16:14:13.861+09:00 DEBUG 46516 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-18T16:14:14.114+09:00  INFO 46516 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-18T16:14:14.128+09:00  INFO 46516 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 6.821 seconds (process running for 7.379)
2025-12-18T16:14:17.008+09:00  INFO 46516 --- [http-nio-8080-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-18T16:14:17.024+09:00  INFO 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-18T16:14:17.038+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-18T16:14:17.040+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-18T16:14:17.065+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-18T16:14:17.066+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3618e4bd
2025-12-18T16:14:17.092+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@294e1600
2025-12-18T16:14:17.105+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-18T16:14:17.201+09:00  INFO 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 163 ms
2025-12-18T16:14:17.289+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:14:17.289+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:14:17.289+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:14:17.289+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:14:17.289+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:14:17.374+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:14:17.375+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:14:17.375+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:14:17.378+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:14:17.379+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:14:17.709+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/companies
2025-12-18T16:14:17.710+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies
2025-12-18T16:14:17.709+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:14:17.714+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:14:17.739+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:14:17.714+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies/pending
2025-12-18T16:14:17.744+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:14:17.732+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:14:17.732+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:14:17.735+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:14:17.744+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:14:17.759+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:14:17.761+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:14:17.748+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:14:17.771+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:14:17.749+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:14:17.751+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:14:17.784+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:14:17.752+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:14:17.789+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:14:17.792+09:00  INFO 46516 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:14:17.815+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:17.807+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:17.808+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:17.808+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:17.809+09:00  INFO 46516 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:14:17.824+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:17.825+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@506fcf17] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:17.825+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11ba5a3] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:17.825+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@714db2b9] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:17.826+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@351bf53b] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:17.826+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f1aac3d] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:17.910+09:00  INFO 46516 --- [http-nio-8080-exec-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-18T16:14:18.405+09:00  INFO 46516 --- [http-nio-8080-exec-10] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6c214eb6
2025-12-18T16:14:18.408+09:00  INFO 46516 --- [http-nio-8080-exec-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-18T16:14:18.422+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1061200885 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:14:18.444+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:14:18.453+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@250841962 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:14:18.454+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:14:18.499+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2025-12-18T16:14:18.499+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:14:18.539+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@770721072 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:14:18.541+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:14:18.558+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:14:18.559+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:14:18.561+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-18T16:14:18.575+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@506fcf17]
2025-12-18T16:14:18.575+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@351bf53b]
2025-12-18T16:14:18.578+09:00  INFO 46516 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:14:18.578+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2085630782 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:14:18.583+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1911375458 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:14:18.616+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:14:18.660+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:14:18.665+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:14:18.676+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:18.667+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@714db2b9]
2025-12-18T16:14:18.672+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long), PENDING(String)
2025-12-18T16:14:18.677+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:14:18.700+09:00  INFO 46516 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:14:18.706+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:18.711+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:18.722+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:14:18.720+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:14:18.726+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=OKXRBW, companyNa (truncated)...]
2025-12-18T16:14:18.771+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:18.771+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:18.770+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:18.776+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-18T16:14:18.801+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11ba5a3]
2025-12-18T16:14:18.804+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:18.776+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:14:18.819+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=8, userId=6, companyId=2 (truncated)...]
2025-12-18T16:14:18.827+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f1aac3d]
2025-12-18T16:14:18.832+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:18.836+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:18.838+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:14:18.900+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:33.204+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:14:33.211+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/companies
2025-12-18T16:14:33.223+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/companies
2025-12-18T16:14:33.228+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/companies
2025-12-18T16:14:33.231+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/companies", parameters={}
2025-12-18T16:14:33.233+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#createCompany(CompanyCreateRequest)
2025-12-18T16:14:33.275+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CompanyController.CompanyCreateRequest(companyName=test_company9)]
2025-12-18T16:14:33.289+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:14:33.309+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-18T16:14:33.311+09:00  INFO 46516 --- [http-nio-8080-exec-5] c.i.b.controller.CompanyController       : 회사 생성 시도 - companyName: test_company9, userId: 6
2025-12-18T16:14:33.337+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:33.338+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d82828]
2025-12-18T16:14:33.339+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147738397 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will be managed by Spring
2025-12-18T16:14:33.340+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.existsByCode  : ==>  Preparing: SELECT COUNT(*) > 0 FROM company_tb WHERE company_code = ?
2025-12-18T16:14:33.340+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.existsByCode  : ==> Parameters: DBO6SG(String)
2025-12-18T16:14:33.344+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.existsByCode  : <==      Total: 1
2025-12-18T16:14:33.345+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d82828]
2025-12-18T16:14:33.349+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d82828] from current transaction
2025-12-18T16:14:33.351+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.backend.mapper.CompanyMapper.insert  : ==>  Preparing: INSERT INTO company_tb (company_code, company_name, created_by, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-12-18T16:14:33.354+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.backend.mapper.CompanyMapper.insert  : ==> Parameters: DBO6SG(String), test_company9(String), 6(Long), true(Boolean), 2025-12-18T16:14:33.349872200(LocalDateTime), 2025-12-18T16:14:33.349872200(LocalDateTime)
2025-12-18T16:14:33.373+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.backend.mapper.CompanyMapper.insert  : <==    Updates: 1
2025-12-18T16:14:33.376+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d82828]
2025-12-18T16:14:33.376+09:00  INFO 46516 --- [http-nio-8080-exec-5] c.i.backend.service.CompanyService       : 회사 생성 완료 - companyId: 10, companyName: test_company9, createdBy: 6
2025-12-18T16:14:33.378+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d82828]
2025-12-18T16:14:33.381+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d82828]
2025-12-18T16:14:33.387+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d82828]
2025-12-18T16:14:33.408+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:33.409+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d9f5d71] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:33.411+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@497681452 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:14:33.411+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:14:33.412+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:14:33.422+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:14:33.424+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d9f5d71]
2025-12-18T16:14:33.428+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:33.429+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cc0403]
2025-12-18T16:14:33.434+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995511035 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will be managed by Spring
2025-12-18T16:14:33.435+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:14:33.436+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:14:33.448+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:14:33.450+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cc0403]
2025-12-18T16:14:33.452+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cc0403] from current transaction
2025-12-18T16:14:33.452+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.addUserToCompany      : ==>  Preparing: INSERT INTO user_company_tb (user_id, company_id, role, position, is_active, is_primary, approval_status, created_at, updated_at) VALUES (?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 0), 'APPROVED', NOW(), NOW()) ON DUPLICATE KEY UPDATE role = VALUES(role), position = VALUES(position), is_active = VALUES(is_active), approval_status = 'APPROVED', updated_at = NOW()
2025-12-18T16:14:33.455+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.addUserToCompany      : ==> Parameters: 6(Long), 10(Long), CEO(String), 대표(String), true(Boolean), false(Boolean)
2025-12-18T16:14:33.467+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.addUserToCompany      : <==    Updates: 1
2025-12-18T16:14:33.467+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cc0403]
2025-12-18T16:14:33.468+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cc0403]
2025-12-18T16:14:33.470+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cc0403]
2025-12-18T16:14:33.471+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cc0403]
2025-12-18T16:14:33.507+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:33.508+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14335c4a] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:33.510+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@951053913 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:14:33.515+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:14:33.518+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:14:33.525+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-18T16:14:33.526+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14335c4a]
2025-12-18T16:14:33.527+09:00  INFO 46516 --- [http-nio-8080-exec-5] c.i.b.controller.CompanyController       : 회사 생성 완료 - companyId: 10, companyName: test_company9, userId: 6
2025-12-18T16:14:33.528+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:33.528+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=회사가 등록되었습니다., data=CompanyDto(companyId=10, companyCode=DBO6SG, co (truncated)...]
2025-12-18T16:14:33.532+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:35.049+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:14:35.049+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:14:35.049+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:14:35.049+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:14:35.050+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:14:35.064+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:14:35.083+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:14:35.085+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:14:35.087+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:14:35.088+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:14:35.090+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:14:35.103+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:14:35.092+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:14:35.098+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies
2025-12-18T16:14:35.108+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:14:35.109+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:14:35.104+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/companies/pending
2025-12-18T16:14:35.106+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/users/me
2025-12-18T16:14:35.106+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:14:35.109+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/companies
2025-12-18T16:14:35.111+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:14:35.119+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:14:35.120+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:14:35.121+09:00  INFO 46516 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:14:35.122+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:14:35.123+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:35.123+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:14:35.124+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:14:35.124+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:35.124+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:14:35.124+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a489124] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:35.125+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:14:35.125+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:14:35.128+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:35.125+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e14812] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:35.126+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:14:35.130+09:00  INFO 46516 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 2
2025-12-18T16:14:35.132+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f5fad5c] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:35.136+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:35.137+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:35.137+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037229118 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:14:35.137+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@784671919 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:14:35.138+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316bfb9] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:35.138+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d00cbee] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:35.139+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:14:35.141+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:14:35.149+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:14:35.144+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1505619577 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:14:35.147+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2025-12-18T16:14:35.153+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:14:35.155+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long), PENDING(String)
2025-12-18T16:14:35.161+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:14:35.161+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@915914336 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:14:35.162+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2092874525 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:14:35.168+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:14:35.162+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-18T16:14:35.167+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e14812]
2025-12-18T16:14:35.168+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:14:35.169+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:14:35.170+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2025-12-18T16:14:35.170+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a489124]
2025-12-18T16:14:35.171+09:00  INFO 46516 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:14:35.172+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-18T16:14:35.177+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f5fad5c]
2025-12-18T16:14:35.178+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:35.185+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:35.189+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:35.191+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=8, userId=6, companyId=2 (truncated)...]
2025-12-18T16:14:35.192+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:14:35.195+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:14:35.199+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:35.202+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:35.204+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:35.223+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-18T16:14:35.226+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316bfb9]
2025-12-18T16:14:35.228+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:35.236+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=OKXRBW, companyNa (truncated)...]
2025-12-18T16:14:35.237+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:14:35.239+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:35.244+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d00cbee]
2025-12-18T16:14:35.246+09:00  INFO 46516 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 2
2025-12-18T16:14:35.249+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:35.251+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_ceo2, passwo (truncated)...]
2025-12-18T16:14:35.252+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:39.598+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-18T16:14:39.607+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-18T16:14:39.616+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: CEO, companyId: 2, uri: /api/logout
2025-12-18T16:14:39.621+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-18T16:14:39.623+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-18T16:14:39.632+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-18T16:14:39.649+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI2IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-18T16:14:39.658+09:00  INFO 46516 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=6
2025-12-18T16:14:39.673+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:39.674+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-18T16:14:39.678+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:43.910+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_ceo5
2025-12-18T16:14:43.911+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T16:14:43.911+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_ceo5
2025-12-18T16:14:43.914+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_ceo5", parameters={masked}
2025-12-18T16:14:43.915+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-18T16:14:43.916+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:43.916+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e06618d] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:43.920+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2049707620 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:14:43.920+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T16:14:43.922+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo5(String)
2025-12-18T16:14:43.925+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T16:14:43.926+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e06618d]
2025-12-18T16:14:43.928+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:43.931+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-18T16:14:43.937+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:51.355+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-18T16:14:51.360+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-18T16:14:51.363+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T16:14:51.364+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-18T16:14:51.364+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-18T16:14:51.365+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-18T16:14:51.369+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo5, password=1234, koreanName=test_ceo5, email=, posi (truncated)...]
2025-12-18T16:14:51.471+09:00  INFO 46516 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_ceo5, koreanName: test_ceo5, role: CEO
2025-12-18T16:14:51.478+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:51.480+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c9f6301] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:51.485+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1179402166 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:14:51.485+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-18T16:14:51.486+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo5(String)
2025-12-18T16:14:51.490+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-18T16:14:51.491+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c9f6301]
2025-12-18T16:14:51.638+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:51.638+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167f292b] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:51.639+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115769844 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:14:51.639+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-18T16:14:51.641+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_ceo5(String), $2a$10$l6fwg7Hs1PwrYn6HyalvMuXevTOxEyeylGxy09s3gXV6hLBwiOSQ.(String), test_ceo5(String), null, 대표(String), CEO(String), null, true(Boolean), APPROVED(String)
2025-12-18T16:14:51.653+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-18T16:14:51.654+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167f292b]
2025-12-18T16:14:51.655+09:00  INFO 46516 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_ceo5, role: CEO
2025-12-18T16:14:51.656+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:51.657+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입이 완료되었습니다., data=null)]
2025-12-18T16:14:51.658+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:55.375+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-18T16:14:55.378+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-18T16:14:55.380+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-18T16:14:55.381+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-18T16:14:55.382+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-18T16:14:55.383+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-18T16:14:55.385+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo5, password=1234)]
2025-12-18T16:14:55.385+09:00  INFO 46516 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo5
2025-12-18T16:14:55.386+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.387+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9b0b995] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.390+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1205932870 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:14:55.392+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-18T16:14:55.394+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo5(String)
2025-12-18T16:14:55.400+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-18T16:14:55.403+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9b0b995]
2025-12-18T16:14:55.503+09:00  INFO 46516 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 9, role: CEO, companyId: null
2025-12-18T16:14:55.504+09:00  INFO 46516 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=9 username=test_ceo5 role=CEO
2025-12-18T16:14:55.504+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:55.505+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=9, username=test_ceo5, password= (truncated)...]
2025-12-18T16:14:55.506+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:55.515+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:14:55.527+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:14:55.530+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:14:55.532+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:14:55.536+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:14:55.537+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:14:55.538+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:14:55.538+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:14:55.538+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.538+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10734c11] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.541+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1413783490 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:14:55.541+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/companies
2025-12-18T16:14:55.541+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:14:55.542+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:14:55.543+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:14:55.543+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:14:55.544+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:14:55.545+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.547+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606c2187] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.551+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:14:55.552+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10734c11]
2025-12-18T16:14:55.552+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@331298645 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:14:55.552+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:14:55.552+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:55.553+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2025-12-18T16:14:55.553+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:14:55.554+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:55.555+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2025-12-18T16:14:55.559+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606c2187]
2025-12-18T16:14:55.560+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:55.560+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:14:55.561+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:55.602+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:14:55.603+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:14:55.603+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:14:55.604+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:14:55.604+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:14:55.604+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:14:55.609+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:14:55.622+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:14:55.623+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:14:55.632+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:14:55.623+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:14:55.624+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:14:55.625+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:14:55.625+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:14:55.642+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:14:55.633+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:14:55.635+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:14:55.638+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:14:55.640+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:14:55.643+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:14:55.643+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:14:55.650+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:14:55.644+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:14:55.644+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:14:55.647+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:14:55.655+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:14:55.649+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:14:55.649+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:14:55.650+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:14:55.651+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:14:55.654+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:14:55.657+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.668+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756f1a29] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.659+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:14:55.659+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:14:55.672+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.660+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:14:55.661+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:14:55.664+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.670+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:14:55.672+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cef0476] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.675+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:14:55.677+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.687+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:14:55.688+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.689+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@128cee9d] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.677+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f781fb8] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.678+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:14:55.685+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884488710 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:14:55.687+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a80de16] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.691+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855590100 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:14:55.691+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@277711263 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:14:55.693+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:14:55.692+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:14:55.692+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:14:55.693+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:14:55.755+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:14:55.735+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:14:55.740+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@883436756 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:14:55.741+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@236603010 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:14:55.751+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.754+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:14:55.766+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:14:55.770+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:14:55.770+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18eebcec] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.814+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:14:55.815+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:14:55.824+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:14:55.824+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:14:55.875+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@128cee9d]
2025-12-18T16:14:55.875+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f781fb8]
2025-12-18T16:14:55.877+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@964090772 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:14:55.877+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:55.879+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:14:55.880+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:14:55.897+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:14:55.902+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:55.913+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a80de16]
2025-12-18T16:14:55.909+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:14:55.911+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:14:55.911+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cef0476]
2025-12-18T16:14:55.911+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756f1a29]
2025-12-18T16:14:55.914+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:14:55.914+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.915+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:14:55.916+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:55.918+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:55.921+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:55.933+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7588cb63] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.924+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:55.925+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6edcacda] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:55.943+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@242135288 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:14:55.932+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:14:55.938+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@35646911 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:14:55.943+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:14:55.944+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:14:55.947+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:55.948+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:14:55.949+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18eebcec]
2025-12-18T16:14:55.950+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:14:55.954+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:14:55.954+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:55.958+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:14:55.960+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:55.967+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:14:55.968+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:14:55.969+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6edcacda]
2025-12-18T16:14:55.969+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7588cb63]
2025-12-18T16:14:55.970+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:55.972+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:55.976+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:14:55.977+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:14:55.993+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:56.003+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:57.449+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:14:57.449+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:14:57.449+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:14:57.449+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:14:57.457+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:14:57.457+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:14:57.458+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:14:57.458+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:14:57.466+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/me
2025-12-18T16:14:57.470+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:14:57.477+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/me
2025-12-18T16:14:57.489+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:14:57.485+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies/pending
2025-12-18T16:14:57.486+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:14:57.489+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:14:57.489+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:14:57.491+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:14:57.491+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:14:57.491+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:14:57.491+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:14:57.492+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:14:57.492+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:14:57.494+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:14:57.493+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:14:57.493+09:00  INFO 46516 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 9, companyId: null
2025-12-18T16:14:57.494+09:00  INFO 46516 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 9, companyId: null
2025-12-18T16:14:57.500+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:57.502+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:57.502+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:57.502+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:14:57.502+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ae02d29] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:57.502+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751bfeec] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:57.503+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33c86142] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:57.503+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4076e0fa] was not registered for synchronization because synchronization is not active
2025-12-18T16:14:57.507+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@624181384 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:14:57.507+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@646713744 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:14:57.507+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1821215699 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:14:57.508+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:14:57.508+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:14:57.509+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@187253434 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:14:57.509+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:14:57.509+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:14:57.510+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:14:57.516+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 9(Long), PENDING(String)
2025-12-18T16:14:57.510+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:14:57.516+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:14:57.520+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:14:57.520+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:14:57.521+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:14:57.522+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751bfeec]
2025-12-18T16:14:57.522+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33c86142]
2025-12-18T16:14:57.523+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ae02d29]
2025-12-18T16:14:57.523+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:57.524+09:00  INFO 46516 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 9, companyId: null
2025-12-18T16:14:57.525+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:57.525+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:14:57.527+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:57.527+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:14:57.530+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:14:57.530+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:57.533+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=9, username=test_ceo5, passwo (truncated)...]
2025-12-18T16:14:57.536+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:57.538+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4076e0fa]
2025-12-18T16:14:57.543+09:00  INFO 46516 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 9, companyId: null
2025-12-18T16:14:57.540+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:14:57.548+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:14:57.553+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=9, username=test_ceo5, passwo (truncated)...]
2025-12-18T16:14:57.554+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:10.867+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:15:10.870+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:10.870+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:15:10.870+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:15:10.870+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:10.870+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:15:10.876+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:15:10.876+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:10.881+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:15:10.883+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:15:10.883+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:15:10.886+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:10.886+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:15:10.891+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:15:10.899+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:15:10.900+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:15:10.900+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:15:10.903+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:15:10.909+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:15:10.919+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:15:10.910+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:10.913+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:15:10.916+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:15:10.918+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:15:10.919+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:10.919+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:15:10.920+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:15:10.920+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:15:10.924+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:15:10.921+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:15:10.925+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:15:10.921+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:15:10.922+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:15:10.927+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:15:10.923+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:15:10.924+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:15:10.925+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:15:10.927+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:15:10.930+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:10.931+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:10.931+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:15:10.934+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:10.936+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:10.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e0ba4b] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:10.938+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:10.939+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3319c4eb] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:10.939+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558199c3] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:10.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:15:10.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f3fa731] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:10.941+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e6ca266] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:10.947+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2120955637 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:15:10.944+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:10.949+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:15:10.949+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28163173] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:10.951+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:15:10.953+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@577291742 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:15:10.953+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@831789620 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:15:10.956+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:15:10.954+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1944560300 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:15:10.957+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:15:10.955+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:15:10.957+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1894674772 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:15:10.958+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:15:10.957+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:15:10.958+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:15:10.959+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:15:10.959+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1338837541 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:15:10.963+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:15:10.965+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:15:10.966+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:15:10.966+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e0ba4b]
2025-12-18T16:15:10.966+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:15:10.968+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3319c4eb]
2025-12-18T16:15:10.973+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:15:10.969+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:15:10.971+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:10.971+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:15:10.972+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:15:10.973+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:10.973+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f3fa731]
2025-12-18T16:15:10.973+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558199c3]
2025-12-18T16:15:10.974+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:15:10.975+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:10.974+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28163173]
2025-12-18T16:15:10.974+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbd2c2c] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:10.974+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:10.981+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@759680921 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:15:10.976+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:15:10.976+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:10.977+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:15:10.981+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:10.981+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36023225] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:10.982+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:15:10.983+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e6ca266]
2025-12-18T16:15:10.988+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:10.989+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:15:10.990+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1412192896 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:15:10.990+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:15:10.992+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:10.995+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:11.000+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:15:10.997+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:15:11.005+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:11.007+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:15:11.009+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:15:11.010+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbd2c2c]
2025-12-18T16:15:11.014+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:11.015+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:15:11.016+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:15:11.016+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36023225]
2025-12-18T16:15:11.018+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:11.019+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:11.020+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:15:11.023+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:13.966+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:15:13.971+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:15:13.972+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:13.972+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:15:13.972+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:15:13.972+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:13.976+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:15:13.990+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:15:13.991+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:13.991+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:15:13.992+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:15:13.996+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:15:14.000+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:15:14.004+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:15:14.024+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:15:14.024+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:15:14.004+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:15:14.015+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:15:14.021+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/companies
2025-12-18T16:15:14.023+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:15:14.024+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:15:14.025+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:15:14.025+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:14.026+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:15:14.027+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:15:14.036+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:15:14.037+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:15:14.038+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:15:14.038+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:15:14.039+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:15:14.040+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:15:14.041+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:15:14.042+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:15:14.044+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:14.049+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:15:14.049+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:15:14.049+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:15:14.050+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:15:14.050+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:15:14.050+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a1dd2e9] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:14.051+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:14.051+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:15:14.052+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:14.053+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:14.053+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:15:14.055+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2556f4] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:14.056+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:15:14.056+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e52b9c4] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:14.057+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f90d0b] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:14.057+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:14.058+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@341359552 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:15:14.060+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:14.064+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1937420192 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:15:14.065+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445086c2] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:14.066+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:15:14.066+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9d5cd4] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:14.067+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:15:14.069+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1211220174 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:15:14.072+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:15:14.069+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1293972856 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:15:14.070+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:15:14.071+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1672649062 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:15:14.073+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:15:14.072+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:15:14.072+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@977009275 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:15:14.072+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2025-12-18T16:15:14.073+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:15:14.074+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:15:14.075+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:15:14.080+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:15:14.081+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:15:14.082+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:15:14.083+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a1dd2e9]
2025-12-18T16:15:14.085+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:15:14.089+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:14.086+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2025-12-18T16:15:14.087+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:15:14.089+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2556f4]
2025-12-18T16:15:14.089+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@384e2d33] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:14.092+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@328933210 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:15:14.092+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:15:14.090+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e52b9c4]
2025-12-18T16:15:14.090+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:15:14.097+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9d5cd4]
2025-12-18T16:15:14.090+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:15:14.091+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445086c2]
2025-12-18T16:15:14.091+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:14.093+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:15:14.095+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:14.101+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:14.102+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f90d0b]
2025-12-18T16:15:14.105+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:14.103+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:14.104+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:15:14.104+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:15:14.104+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:15:14.106+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b325678] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:14.110+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:14.107+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:15:14.108+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:15:14.109+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:14.109+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:14.110+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129711347 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:15:14.112+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:14.114+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@384e2d33]
2025-12-18T16:15:14.117+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:15:14.119+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:14.123+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:14.123+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:15:14.125+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:15:14.133+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:15:14.136+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:14.138+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:15:14.139+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:15:14.140+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:15:14.142+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:15:14.143+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c27cae] was not registered for synchronization because synchronization is not active
2025-12-18T16:15:14.143+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:15:14.143+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498558108 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:15:14.143+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b325678]
2025-12-18T16:15:14.144+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:15:14.145+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:14.148+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:15:14.149+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:15:14.153+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:15:14.157+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:15:14.158+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c27cae]
2025-12-18T16:15:14.159+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:15:14.160+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:15:14.161+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:26.498+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:19:26.501+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:19:26.502+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:19:26.504+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:19:26.530+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:19:26.532+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:19:26.534+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:19:26.536+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:19:26.557+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:19:26.548+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:19:26.559+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:19:26.553+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:19:26.559+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:19:26.559+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:19:26.559+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:19:26.560+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:19:26.560+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:19:26.562+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:19:26.561+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:19:26.561+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:19:26.562+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:19:26.562+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:19:26.564+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:19:26.627+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:19:26.649+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:19:26.650+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:26.652+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:26.652+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:19:26.660+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:26.653+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:26.654+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f7d4394] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:26.660+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5374f6e6] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:26.661+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@397a5990] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:26.662+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2b2629] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:26.673+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@122852327 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:19:26.676+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@435961948 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:19:26.677+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@659526217 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:19:26.679+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1631670936 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:19:26.680+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:19:26.680+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:19:26.681+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:19:26.681+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:19:26.682+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:19:26.683+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:19:26.684+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:19:26.685+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:19:26.697+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:19:26.697+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:19:26.698+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5374f6e6]
2025-12-18T16:19:26.699+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2b2629]
2025-12-18T16:19:26.700+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:19:26.700+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:26.702+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:19:26.703+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:26.703+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f7d4394]
2025-12-18T16:19:26.703+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a0a0b43] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:26.713+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@397a5990]
2025-12-18T16:19:26.714+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:19:26.715+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:26.716+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@995140885 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:19:26.717+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:26.742+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:19:26.718+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:26.719+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:19:26.719+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:19:26.746+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:26.769+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:19:26.767+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:26.793+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:19:26.796+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a0a0b43]
2025-12-18T16:19:26.798+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:26.798+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:19:26.801+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:45.844+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:19:45.849+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:19:45.858+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:19:45.859+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:19:45.870+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:19:45.872+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:19:45.884+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:19:45.894+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:19:45.894+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:19:45.915+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:19:45.907+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:19:45.909+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:19:45.909+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:19:45.911+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:19:45.921+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:19:45.917+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:19:45.918+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:19:45.927+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:19:45.919+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:19:45.920+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/companies
2025-12-18T16:19:45.924+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:19:45.925+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:19:45.928+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:19:45.929+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:19:45.937+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:19:45.944+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:19:45.947+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:19:45.948+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:19:45.949+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:19:45.951+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:19:45.952+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:19:45.953+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:19:45.953+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:19:45.962+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:19:45.962+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:19:45.963+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:45.963+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:19:45.964+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:19:45.982+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:45.982+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:45.983+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f9e2379] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:45.964+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:19:45.981+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:45.981+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:19:45.981+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d632957] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:45.982+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32bfc805] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:45.986+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:19:45.996+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313e114f] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:45.997+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:45.999+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:19:46.000+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4488e201] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:46.000+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:46.009+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@497650171 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:19:46.009+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11b31b92] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:46.010+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:19:46.011+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2025-12-18T16:19:46.014+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1433388905 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:19:46.014+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@424526709 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:19:46.015+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1591336139 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:19:46.015+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@351526544 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:19:46.015+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:19:46.016+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@279677778 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:19:46.018+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:19:46.019+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:19:46.019+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:19:46.020+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:19:46.021+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:19:46.030+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:19:46.031+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2025-12-18T16:19:46.034+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:19:46.035+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:19:46.040+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:19:46.043+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f9e2379]
2025-12-18T16:19:46.045+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:46.051+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:19:46.053+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:46.062+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:19:46.062+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:19:46.063+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:19:46.064+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:19:46.067+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4488e201]
2025-12-18T16:19:46.067+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:19:46.067+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313e114f]
2025-12-18T16:19:46.067+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32bfc805]
2025-12-18T16:19:46.068+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11b31b92]
2025-12-18T16:19:46.069+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:46.080+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:46.080+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:19:46.081+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:46.083+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:19:46.086+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:46.091+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d1fd67] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:46.092+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:19:46.092+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:19:46.092+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@199ce870] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:46.093+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d632957]
2025-12-18T16:19:46.093+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:19:46.097+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1668342334 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:19:46.203+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:46.099+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:46.152+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:19:46.198+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1224073429 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:19:46.201+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:46.203+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:19:46.207+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:19:46.208+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:19:46.208+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:19:46.220+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:19:46.224+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:19:46.233+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:19:46.234+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:46.234+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:19:46.235+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:46.236+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:19:46.237+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:19:46.241+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52637dc5] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:46.244+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:19:46.244+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:19:46.246+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615668779 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:19:46.246+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:19:46.246+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:19:46.258+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:19:46.258+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:19:46.259+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:19:46.260+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:19:46.262+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:19:46.262+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:46.264+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:19:46.265+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f874cf] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:46.265+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:19:46.266+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@103403832 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:19:46.266+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b45e78] was not registered for synchronization because synchronization is not active
2025-12-18T16:19:46.267+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:19:46.268+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:19:46.268+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:19:46.269+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1090277651 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:19:46.270+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d1fd67]
2025-12-18T16:19:46.274+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:19:46.274+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@199ce870]
2025-12-18T16:19:46.275+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:19:46.275+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:19:46.276+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:46.277+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52637dc5]
2025-12-18T16:19:46.278+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:46.279+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:19:46.279+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:19:46.282+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:46.283+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:19:46.284+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:19:46.284+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:46.286+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:19:46.290+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:46.291+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f874cf]
2025-12-18T16:19:46.296+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:46.309+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:46.311+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:19:46.313+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:19:46.332+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:19:46.332+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b45e78]
2025-12-18T16:19:46.335+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:19:46.381+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:19:46.397+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:00.560+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:20:00.560+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:20:00.560+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-18T16:20:00.560+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-18T16:20:00.568+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:20:00.570+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:20:00.570+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-18T16:20:00.572+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-18T16:20:00.576+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/me
2025-12-18T16:20:00.583+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:20:00.592+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies/pending
2025-12-18T16:20:00.598+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/me
2025-12-18T16:20:00.599+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:20:00.610+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:20:00.600+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:20:00.601+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-18T16:20:00.612+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-18T16:20:00.612+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-18T16:20:00.613+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:00.613+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68941307] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:00.603+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-18T16:20:00.611+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:20:00.611+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:20:00.614+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-18T16:20:00.622+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-18T16:20:00.615+09:00  INFO 46516 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 9, companyId: null
2025-12-18T16:20:00.627+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:00.616+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:20:00.624+09:00  INFO 46516 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 9, companyId: null
2025-12-18T16:20:00.627+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77bac2e] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:00.628+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:00.630+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7494fa1d] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:00.629+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:00.631+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aced077] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:00.635+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1897988166 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:20:00.643+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:20:00.645+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 9(Long), PENDING(String)
2025-12-18T16:20:00.646+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@414980797 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:20:00.646+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2024135246 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:20:00.664+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:20:00.665+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:20:00.666+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:20:00.670+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:20:00.675+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1035682955 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:20:00.682+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:20:00.682+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:20:00.684+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-18T16:20:00.684+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:20:00.685+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:20:00.686+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68941307]
2025-12-18T16:20:00.687+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7494fa1d]
2025-12-18T16:20:00.689+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77bac2e]
2025-12-18T16:20:00.690+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:00.690+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:00.691+09:00  INFO 46516 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 9, companyId: null
2025-12-18T16:20:00.692+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:20:00.694+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:20:00.697+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:00.698+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:00.699+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:00.702+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:20:00.704+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=9, username=test_ceo5, passwo (truncated)...]
2025-12-18T16:20:00.712+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aced077]
2025-12-18T16:20:00.716+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:00.716+09:00  INFO 46516 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 9, companyId: null
2025-12-18T16:20:00.717+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:00.723+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=9, username=test_ceo5, passwo (truncated)...]
2025-12-18T16:20:00.747+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:02.760+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:20:02.761+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:20:02.761+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:20:02.761+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:20:02.761+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:20:02.761+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:20:02.766+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:20:02.771+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:20:02.781+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:20:02.785+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:20:02.790+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:20:02.791+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:20:02.792+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:20:02.793+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:20:02.796+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:20:02.797+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:20:02.802+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:20:02.809+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:20:02.810+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:20:02.811+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:20:02.811+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:20:02.812+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:20:02.816+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:20:02.817+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:20:02.817+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:20:02.817+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:20:02.818+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:20:02.818+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:20:02.819+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:20:02.824+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:20:02.819+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:20:02.819+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:20:02.820+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:20:02.822+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:20:02.829+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:02.823+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:20:02.826+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:02.827+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:20:02.827+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:20:02.829+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:20:02.830+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@519d9c95] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:02.830+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:02.830+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a7c8b4] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:02.831+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:20:02.832+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:02.832+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:02.834+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47fe7131] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:02.835+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:20:02.836+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e1a75f] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:02.836+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4af25ef7] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:02.840+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:02.843+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@151e3789] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:02.847+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1478461482 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:20:02.847+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1397565036 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:20:02.847+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1994679912 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:20:02.847+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@629432990 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:20:02.847+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@801501817 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:20:02.847+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@338450393 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:20:02.847+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:20:02.848+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:20:02.848+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:20:02.849+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:20:02.850+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:20:02.851+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:20:02.852+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:20:02.853+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:20:02.857+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:20:02.860+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:20:02.860+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:20:02.861+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:20:02.869+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:20:02.869+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:20:02.877+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47fe7131]
2025-12-18T16:20:02.878+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e1a75f]
2025-12-18T16:20:02.879+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:02.880+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:02.880+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:20:02.881+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:20:02.882+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:20:02.883+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:20:02.884+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:02.887+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:02.889+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4af25ef7]
2025-12-18T16:20:02.890+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a7c8b4]
2025-12-18T16:20:02.894+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:20:02.898+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:20:02.900+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:02.900+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:02.900+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:20:02.901+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:20:02.903+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@519d9c95]
2025-12-18T16:20:02.902+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:20:02.902+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:20:02.902+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:20:02.902+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63351926] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:02.903+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@151e3789]
2025-12-18T16:20:02.905+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:02.906+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:20:02.907+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:20:02.908+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:02.909+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@367112331 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:20:02.911+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:02.912+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e51d43] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:02.913+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:20:02.913+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:20:02.914+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:20:02.915+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:20:02.916+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@123456096 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:20:02.916+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:20:02.916+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:20:02.917+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:20:02.917+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:02.919+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:20:02.920+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:02.921+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:20:02.928+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:20:02.930+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3766c47b] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:02.930+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:20:02.931+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:20:02.932+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1275554712 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:20:02.932+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63351926]
2025-12-18T16:20:02.932+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:20:02.933+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:20:02.933+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:02.934+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a837b18] was not registered for synchronization because synchronization is not active
2025-12-18T16:20:02.935+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:20:02.936+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2080213789 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:20:02.935+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:20:02.936+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:20:02.936+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e51d43]
2025-12-18T16:20:02.937+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:20:02.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:02.944+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:02.948+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:20:02.945+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:20:02.947+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:20:02.949+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:02.950+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3766c47b]
2025-12-18T16:20:02.951+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:02.953+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:20:02.956+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:20:02.963+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:20:02.967+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a837b18]
2025-12-18T16:20:02.968+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:20:02.974+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:20:02.975+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:14.590+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:23:14.598+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:14.600+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:23:14.601+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:23:14.602+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:23:14.604+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:23:14.616+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:14.626+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:23:14.627+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:23:14.635+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:23:14.637+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:14.706+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:23:14.717+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:23:14.712+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:23:14.712+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:23:14.725+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:23:14.715+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:23:14.722+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:23:14.723+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:14.726+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/companies
2025-12-18T16:23:14.726+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:23:14.726+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:23:14.745+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:23:14.745+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:23:14.727+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:23:14.728+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:23:14.743+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:23:14.744+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:23:14.745+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:23:14.747+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.747+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:23:14.753+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:23:14.758+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:23:14.758+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:23:14.759+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:23:14.760+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503f1c63] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.761+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:23:14.762+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:23:14.764+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.764+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:23:14.765+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.784+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7248648c] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.773+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:14.774+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:23:14.780+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7870f412] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.783+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.786+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:14.788+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:23:14.791+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43213776] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.792+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564701679 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:23:14.793+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.795+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.796+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:14.797+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@725263624 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:23:14.797+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@69262816 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:23:14.798+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313a2ea5] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.798+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ad46b6] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.799+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:14.802+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:23:14.807+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:23:14.811+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:23:14.812+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1092936928 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:23:14.816+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:23:14.818+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:23:14.821+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2025-12-18T16:23:14.822+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@763116341 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:23:14.823+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:14.824+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@124502923 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:23:14.825+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:14.826+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503f1c63]
2025-12-18T16:23:14.826+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:23:14.827+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:23:14.827+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:23:14.828+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:14.828+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.828+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7248648c]
2025-12-18T16:23:14.829+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7870f412]
2025-12-18T16:23:14.829+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:23:14.832+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@753a8813] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.835+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:14.836+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:14.837+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1130677428 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:23:14.839+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:14.840+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:23:14.840+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:14.841+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:14.841+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:14.841+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:14.842+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2025-12-18T16:23:14.846+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:14.846+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:23:14.855+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:23:14.872+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313a2ea5]
2025-12-18T16:23:14.857+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43213776]
2025-12-18T16:23:14.874+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:23:14.885+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:14.875+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:23:14.875+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:14.878+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:14.880+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:14.886+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:14.888+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:23:14.892+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:23:14.893+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ad46b6]
2025-12-18T16:23:14.895+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:14.899+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:14.911+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:14.902+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@753a8813]
2025-12-18T16:23:14.908+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:23:14.909+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:23:14.910+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.911+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:14.913+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:14.914+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.915+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:23:14.915+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a621917] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.924+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:23:14.927+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:23:14.927+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38f1b54d] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.927+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:14.928+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1611701779 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:23:14.930+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:14.930+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:23:14.935+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:23:14.931+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161170160 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:23:14.932+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:14.936+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:14.934+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:14.935+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:23:14.936+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:23:14.937+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.938+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:23:14.938+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:23:14.938+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c9d443] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.939+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:14.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1681151162 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:23:14.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e1ac718] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:14.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:23:14.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@98364439 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:23:14.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:23:14.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:23:14.941+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:23:14.946+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:14.947+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:23:14.947+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a621917]
2025-12-18T16:23:14.947+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e1ac718]
2025-12-18T16:23:14.948+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:14.948+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:14.948+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:23:14.949+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:14.951+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:14.953+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:14.957+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:23:14.957+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38f1b54d]
2025-12-18T16:23:14.958+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:14.958+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:23:14.959+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:23:14.962+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:14.963+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c9d443]
2025-12-18T16:23:14.966+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:14.974+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:14.974+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:21.972+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:23:21.975+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:21.984+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:23:21.985+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:23:21.986+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:23:21.986+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:23:22.009+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:23:22.009+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:22.010+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:23:22.021+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:23:22.023+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:23:22.023+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:22.024+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:23:22.025+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:23:22.026+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:23:22.030+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:23:22.043+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:23:22.044+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:23:22.030+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:23:22.035+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:23:22.036+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:23:22.053+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:23:22.054+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:23:22.041+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/companies
2025-12-18T16:23:22.057+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:23:22.042+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:23:22.058+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:23:22.059+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:23:22.059+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:23:22.045+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:23:22.048+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:23:22.050+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:22.062+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:23:22.057+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:23:22.058+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:23:22.060+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.061+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.062+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:23:22.119+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:23:22.121+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.064+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:23:22.065+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:22.094+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:23:22.097+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac128fd] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.098+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6ad181] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.121+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a0b2625] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.122+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.123+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:22.124+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.131+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3681b317] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.131+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.131+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e37f9d8] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.138+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1849582341 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:23:22.138+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686805ea] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.140+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:22.141+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:22.142+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@180720857 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:23:22.143+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110983748 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:23:22.143+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:23:22.144+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2061897415 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:23:22.144+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@99049560 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:23:22.144+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1516617257 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:23:22.145+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:22.145+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:23:22.145+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:23:22.148+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:23:22.152+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:23:22.155+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:22.156+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:22.158+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2025-12-18T16:23:22.159+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:23:22.160+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:23:22.160+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac128fd]
2025-12-18T16:23:22.163+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:23:22.163+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.170+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a0b2625]
2025-12-18T16:23:22.171+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3849f755] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.171+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:23:22.171+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2025-12-18T16:23:22.171+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:22.172+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:23:22.174+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:22.176+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1631002765 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:23:22.177+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3681b317]
2025-12-18T16:23:22.177+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e37f9d8]
2025-12-18T16:23:22.177+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6ad181]
2025-12-18T16:23:22.177+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686805ea]
2025-12-18T16:23:22.178+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:22.178+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:22.179+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:22.180+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:22.181+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.182+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:22.184+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:22.187+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:22.189+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:23:22.191+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:22.191+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bcda9fe] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.192+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:22.194+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:22.194+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:22.195+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1479519883 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:23:22.195+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:22.198+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:22.202+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:22.205+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:22.206+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:23:22.207+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:23:22.240+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:22.240+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:22.240+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:23:22.242+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:23:22.245+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:23:22.247+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bcda9fe]
2025-12-18T16:23:22.248+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3849f755]
2025-12-18T16:23:22.254+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:22.254+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:23:22.255+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:23:22.256+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:22.256+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:22.257+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:23:22.257+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:23:22.257+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:23:22.258+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:23:22.258+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:23:22.258+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:23:22.269+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.260+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:23:22.269+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:22.261+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:23:22.262+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:22.265+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:22.269+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6125b975] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.270+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:22.271+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.275+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1347157888 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:23:22.276+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:22.277+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b440c0c] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.277+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:23:22.277+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ba1f76] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:22.278+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1105465042 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:23:22.278+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:23:22.279+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1015629412 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:23:22.280+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:23:22.281+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:23:22.286+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:23:22.287+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:23:22.287+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:23:22.289+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6125b975]
2025-12-18T16:23:22.291+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:22.293+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:23:22.293+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:23:22.294+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b440c0c]
2025-12-18T16:23:22.295+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:23:22.295+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:22.297+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:22.297+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ba1f76]
2025-12-18T16:23:22.301+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:22.302+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:22.303+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:22.303+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:22.305+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:27.586+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:23:27.591+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:27.593+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:23:27.594+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:23:27.594+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:23:27.594+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:23:27.605+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:27.606+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:23:27.609+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:23:27.642+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:23:27.657+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:27.701+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:23:27.688+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:23:27.694+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:23:27.696+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:23:27.703+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:23:27.703+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:23:27.723+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:23:27.704+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:23:27.710+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:23:27.714+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:23:27.720+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/companies
2025-12-18T16:23:27.722+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:27.725+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:23:27.729+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:23:27.730+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:23:27.730+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:23:27.739+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:23:27.731+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:23:27.731+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:23:27.736+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:27.742+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54051468] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:27.738+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:23:27.739+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:23:27.740+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:23:27.740+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:23:27.741+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:23:27.745+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:23:27.759+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:27.754+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:23:27.760+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:27.755+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:27.757+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897905821 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:23:27.758+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:23:27.759+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:23:27.759+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@312b230a] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:27.761+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:27.763+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c1d5f7a] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:27.763+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:27.771+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:27.773+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:27.779+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:27.780+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:27.782+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a93e624] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:27.783+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1630987431 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:23:27.785+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1344418492 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:23:27.785+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b89f091] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:27.786+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17fa378d] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:27.791+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:23:27.793+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:23:27.797+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:23:27.797+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@810681801 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:23:27.798+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:27.798+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:23:27.802+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:23:27.803+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54051468]
2025-12-18T16:23:27.803+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@346051987 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:23:27.804+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1626856552 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:23:27.807+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2025-12-18T16:23:27.808+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:27.809+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:23:27.809+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:27.809+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:23:27.810+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@251a77ce] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:27.811+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:23:27.811+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:23:27.813+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:27.813+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2025-12-18T16:23:27.813+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@312b230a]
2025-12-18T16:23:27.814+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1156578775 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:23:27.819+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:27.815+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c1d5f7a]
2025-12-18T16:23:27.817+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a93e624]
2025-12-18T16:23:27.820+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:27.820+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:23:27.820+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:27.821+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:23:27.822+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:27.824+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:27.825+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:27.826+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:27.827+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17fa378d]
2025-12-18T16:23:27.827+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:27.878+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:27.881+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:27.955+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:27.940+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:27.944+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:27.953+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:27.953+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b89f091]
2025-12-18T16:23:27.957+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@251a77ce]
2025-12-18T16:23:27.957+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:23:27.958+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:27.959+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:27.960+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:27.960+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:27.964+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:23:27.965+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:23:28.024+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:28.025+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4baeffdf] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:28.026+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:23:28.026+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:23:28.036+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:23:28.042+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:23:28.043+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2036991099 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:23:28.055+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:28.048+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:28.051+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:23:28.051+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:23:28.052+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:23:28.056+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:28.058+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:28.060+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:23:28.060+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:23:28.061+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@781977e6] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:28.062+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:23:28.063+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:23:28.063+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722275967 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:23:28.064+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:28.065+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:28.079+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30528f43] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:28.075+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:23:28.076+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:28.078+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:28.079+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2087745069 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:23:28.080+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:23:28.081+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4baeffdf]
2025-12-18T16:23:28.082+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:28.088+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e286b] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:28.082+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:23:28.087+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:28.089+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1972016160 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:23:28.092+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:23:28.092+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:23:28.094+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:23:28.094+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:23:28.099+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:28.109+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:23:28.110+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@781977e6]
2025-12-18T16:23:28.115+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:28.121+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:23:28.122+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:28.124+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:23:28.127+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30528f43]
2025-12-18T16:23:28.129+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:28.130+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:23:28.130+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:28.131+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e286b]
2025-12-18T16:23:28.133+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:28.136+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:28.137+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:28.139+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:33.428+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:23:33.431+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:33.434+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:23:33.453+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:23:33.439+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:23:33.440+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:23:33.460+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:23:33.440+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:23:33.447+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:33.464+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:23:33.455+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:23:33.467+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:23:33.468+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:33.468+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:23:33.470+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:33.470+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:23:33.473+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:23:33.475+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:23:33.490+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:23:33.502+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:33.490+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:23:33.493+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:23:33.496+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:23:33.498+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:23:33.502+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:23:33.502+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:23:33.542+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:23:33.537+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:23:33.537+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:23:33.539+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:23:33.541+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.542+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:23:33.544+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.544+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:23:33.545+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:23:33.545+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:23:33.545+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35347f52] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.547+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:23:33.547+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33fc1e74] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.548+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:23:33.551+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:23:33.556+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:23:33.558+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:23:33.560+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:33.561+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.563+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.563+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:33.564+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:33.564+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a9fa4d] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.565+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f78f1d7] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.565+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1845889828 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:23:33.566+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1640530604 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:23:33.570+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:23:33.573+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.576+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:33.577+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:23:33.579+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.580+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445db4ec] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.581+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:33.583+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17325885 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:23:33.587+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@157537566 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:23:33.590+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:23:33.590+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@793a9f80] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.592+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:33.592+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:23:33.597+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:33.597+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1323433385 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:23:33.597+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:33.599+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:23:33.604+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2142840798 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:23:33.605+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:23:33.605+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:23:33.606+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35347f52]
2025-12-18T16:23:33.607+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:33.607+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:23:33.608+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33fc1e74]
2025-12-18T16:23:33.610+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:23:33.611+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.612+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f78f1d7]
2025-12-18T16:23:33.612+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:23:33.613+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:23:33.613+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:33.614+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2a3bca] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.619+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.620+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a9fa4d]
2025-12-18T16:23:33.622+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:23:33.624+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@502558057 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:23:33.624+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f2cf64a] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.625+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:33.626+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:23:33.626+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:33.626+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:23:33.627+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:33.628+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@497948622 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:23:33.629+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:23:33.629+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445db4ec]
2025-12-18T16:23:33.632+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:23:33.636+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@793a9f80]
2025-12-18T16:23:33.637+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:33.638+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:23:33.639+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:33.641+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:33.642+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:33.642+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:23:33.643+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:23:33.648+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:23:33.652+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:33.653+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:33.654+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:33.655+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:23:33.658+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:33.658+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/companies
2025-12-18T16:23:33.658+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:23:33.659+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:33.661+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2a3bca]
2025-12-18T16:23:33.664+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:23:33.668+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:23:33.671+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:23:33.671+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f2cf64a]
2025-12-18T16:23:33.672+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:33.673+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:23:33.675+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:23:33.677+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:23:33.680+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:33.688+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:23:33.688+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.689+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:23:33.689+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:23:33.691+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:23:33.692+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:33.696+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5535e665] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.701+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564405349 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:23:33.704+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:23:33.697+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:23:33.707+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:23:33.697+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.698+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:33.707+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:23:33.708+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:23:33.709+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a716efb] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.713+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64da9bb7] was not registered for synchronization because synchronization is not active
2025-12-18T16:23:33.716+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1479987444 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:23:33.720+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:23:33.714+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1285488950 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:23:33.742+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:23:33.742+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:23:33.742+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:23:33.743+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5535e665]
2025-12-18T16:23:33.745+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2025-12-18T16:23:33.747+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:23:33.746+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:33.747+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64da9bb7]
2025-12-18T16:23:33.751+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:33.760+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:33.761+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:33.762+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:33.765+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:23:33.772+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2025-12-18T16:23:33.780+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a716efb]
2025-12-18T16:23:33.791+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:23:33.794+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:23:33.795+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:24:30.236+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:24:30.242+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:24:30.244+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:24:30.244+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:24:30.244+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-18T16:24:30.244+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-18T16:24:30.417+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-18T16:24:30.467+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-18T16:24:30.520+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:24:30.522+09:00 DEBUG 46516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-18T16:24:30.539+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:24:30.542+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:24:30.544+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:24:30.550+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:24:30.552+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-18T16:24:30.594+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:24:30.596+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:24:30.598+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:24:30.599+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:24:30.635+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:24:30.604+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:24:30.636+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:24:30.610+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses
2025-12-18T16:24:30.625+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:30.633+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-18T16:24:30.635+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:24:30.636+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:24:30.637+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:24:30.637+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-18T16:24:30.640+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5248ee4e] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:30.654+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-18T16:24:30.655+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:24:30.656+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:24:30.656+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:24:30.656+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-18T16:24:30.668+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-18T16:24:30.659+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-18T16:24:30.659+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:24:30.667+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:24:30.668+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:30.669+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:30.671+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-18T16:24:30.673+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:24:30.674+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:24:30.675+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203427160 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:24:30.675+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b3d72e] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:30.675+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10dd1d3a] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:30.676+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:30.676+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:30.687+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:24:30.688+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:24:30.690+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b640a2a] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:30.693+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4cd475] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:30.702+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:30.702+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1688139766 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:24:30.703+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1436268660 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:24:30.703+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:24:30.709+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f7881a] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:30.709+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:24:30.710+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:24:30.715+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:24:30.717+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:24:30.731+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1140709985 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:24:30.731+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1018190028 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:24:30.733+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:24:30.735+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685630748 wrapping com.mysql.cj.jdbc.ConnectionImpl@4dc96d8e] will not be managed by Spring
2025-12-18T16:24:30.740+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-18T16:24:30.741+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:24:30.742+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:24:30.745+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:24:30.762+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5248ee4e]
2025-12-18T16:24:30.769+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:30.770+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae87347] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:30.762+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:24:30.763+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2025-12-18T16:24:30.764+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b3d72e]
2025-12-18T16:24:30.768+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10dd1d3a]
2025-12-18T16:24:30.787+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:30.769+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:24:30.771+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1175411665 wrapping com.mysql.cj.jdbc.ConnectionImpl@42276800] will not be managed by Spring
2025-12-18T16:24:30.772+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:24:30.787+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:24:30.802+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52398668] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:30.803+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:24:30.804+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:24:30.807+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623644363 wrapping com.mysql.cj.jdbc.ConnectionImpl@51438acc] will not be managed by Spring
2025-12-18T16:24:30.810+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-18T16:24:30.809+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:24:30.810+09:00 DEBUG 46516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:24:30.811+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-18T16:24:30.823+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-18T16:24:30.826+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-18T16:24:30.869+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b640a2a]
2025-12-18T16:24:30.871+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:24:30.871+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/companies
2025-12-18T16:24:30.878+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-18T16:24:30.879+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-18T16:24:30.883+09:00 DEBUG 46516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:24:30.884+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-18T16:24:30.884+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-18T16:24:30.884+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:24:30.923+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52398668]
2025-12-18T16:24:30.925+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:24:30.926+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:24:30.928+09:00 DEBUG 46516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:24:30.885+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:24:30.885+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-18T16:24:30.885+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:24:30.895+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:30.897+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-18T16:24:30.930+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4cd475]
2025-12-18T16:24:30.930+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae87347]
2025-12-18T16:24:30.993+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:24:30.994+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-18T16:24:30.938+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-18T16:24:30.943+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f7881a]
2025-12-18T16:24:30.986+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f442696] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:30.991+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:24:31.016+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:24:30.991+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/pending
2025-12-18T16:24:30.999+09:00 DEBUG 46516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:24:31.005+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: CEO, companyId: null, uri: /api/users/companies
2025-12-18T16:24:31.007+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:24:31.013+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@338405599 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d0dce55] will not be managed by Spring
2025-12-18T16:24:31.038+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-18T16:24:31.026+09:00 DEBUG 46516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:24:31.028+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-18T16:24:31.036+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-18T16:24:31.038+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:24:31.040+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2025-12-18T16:24:31.046+09:00 DEBUG 46516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:24:31.045+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-18T16:24:31.059+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-18T16:24:31.045+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-18T16:24:31.060+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:24:31.061+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-18T16:24:31.061+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-18T16:24:31.062+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:31.073+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-18T16:24:31.076+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70212aad] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:31.078+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2025-12-18T16:24:31.085+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b6297c7] was not registered for synchronization because synchronization is not active
2025-12-18T16:24:31.089+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@173927426 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c214eb6] will not be managed by Spring
2025-12-18T16:24:31.089+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f442696]
2025-12-18T16:24:31.092+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1392814663 wrapping com.mysql.cj.jdbc.ConnectionImpl@22651e47] will not be managed by Spring
2025-12-18T16:24:31.097+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-18T16:24:31.101+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:24:31.102+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-18T16:24:31.108+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-18T16:24:31.108+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:24:31.110+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 9(Long)
2025-12-18T16:24:31.110+09:00 DEBUG 46516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:24:31.122+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-18T16:24:31.124+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70212aad]
2025-12-18T16:24:31.126+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-18T16:24:31.126+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:24:31.127+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b6297c7]
2025-12-18T16:24:31.127+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:24:31.127+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-18T16:24:31.128+09:00 DEBUG 46516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-18T16:24:31.130+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-18T16:24:31.137+09:00 DEBUG 46516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
